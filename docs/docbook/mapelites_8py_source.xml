<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_mapelites_8py_source" xml:lang="en-US">
<title>mapelites.py</title>
<indexterm><primary>fcmaes/mapelites.py</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="_mapelites_8py_source_1l00001"/><link linkend="_namespacefcmaes_1_1mapelites">00001</link> <emphasis role="comment">#&#32;-*-&#32;coding:&#32;utf-8&#32;-*-</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00002"/>00002 <emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00003"/>00003 <emphasis role="stringliteral">=============================================================================</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00004"/>00004 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00005"/>00005 <emphasis role="stringliteral">&#32;Fast&#32;CMA-ES&#32;-&#32;version&#32;1.6.11</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00006"/>00006 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00007"/>00007 <emphasis role="stringliteral">&#32;(c)&#32;2025&#32;–&#32;Dietmar&#32;Wolz</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00008"/>00008 <emphasis role="stringliteral">&#32;(c)&#32;2025&#32;–&#32;Latitude</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00009"/>00009 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00010"/>00010 <emphasis role="stringliteral">&#32;License:&#32;MIT</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00011"/>00011 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00012"/>00012 <emphasis role="stringliteral">&#32;File:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00013"/>00013 <emphasis role="stringliteral">&#32;&#32;-&#32;mapelites.py</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00014"/>00014 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00015"/>00015 <emphasis role="stringliteral">&#32;Description:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00016"/>00016 <emphasis role="stringliteral">&#32;&#32;-&#32;Numpy&#32;based&#32;implementation&#32;of&#32;CVT&#32;MAP-Elites&#32;including&#32;CMA-ES&#32;emitter&#32;and&#32;CMA-ES&#32;drilldown.&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00017"/>00017 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00018"/>00018 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;See&#32;[2]&#32;and&#32;[3]</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00019"/>00019 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00020"/>00020 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;MAP-Elites&#32;implementations&#32;differ&#32;in&#32;the&#32;following&#32;details:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00021"/>00021 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00022"/>00022 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;1)&#32;Initialisation&#32;of&#32;the&#32;behavior&#32;space:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00023"/>00023 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00024"/>00024 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;a)&#32;Generated&#32;from&#32;some&#32;solution&#32;distribution&#32;by&#32;applying&#32;the&#32;fitness&#32;function&#32;to&#32;determine&#32;their&#32;behavior.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00025"/>00025 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;b)&#32;Generated&#32;from&#32;uniform&#32;samples&#32;of&#32;the&#32;behavior&#32;space.&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00026"/>00026 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00027"/>00027 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;We&#32;use&#32;b)&#32;because&#32;random&#32;solutions&#32;may&#32;cover&#32;only&#32;parts&#32;of&#32;the&#32;behavior&#32;space.&#32;Some&#32;parts&#32;may&#32;only&#32;be&#32;reachable&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00028"/>00028 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;by&#32;optimization.&#32;Another&#32;reason:&#32;Fitness&#32;computations&#32;may&#32;be&#32;expensive.&#32;Therefore&#32;we&#32;don&apos;t&#32;compute&#32;fitness</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00029"/>00029 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;values&#32;for&#32;the&#32;initial&#32;solution&#32;population.&#32;&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00030"/>00030 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00031"/>00031 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;2)&#32;Initialization&#32;of&#32;the&#32;niches:&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00032"/>00032 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00033"/>00033 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;a)&#32;Generated&#32;from&#32;some&#32;solution&#32;distribution.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00034"/>00034 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;b)&#32;Generated&#32;from&#32;uniform&#32;samples&#32;of&#32;the&#32;solution&#32;space.&#32;These&#32;solutions&#32;are&#32;never&#32;evaluated&#32;but&#32;serve&#32;as</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00035"/>00035 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;initial&#32;population&#32;for&#32;SBX&#32;or&#32;Iso+LineDD.&#32;Their&#32;associated&#32;fitness&#32;value&#32;is&#32;set&#32;to&#32;math.inf&#32;(infinity).</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00036"/>00036 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00037"/>00037 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;We&#32;use&#32;b)&#32;because&#32;this&#32;way&#32;we:&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00038"/>00038 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;-&#32;Avoid&#32;computing&#32;fitness&#32;values&#32;for&#32;the&#32;initial&#32;population.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00039"/>00039 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;-&#32;Enhance&#32;the&#32;diversity&#32;of&#32;initial&#32;solutions&#32;emitted&#32;by&#32;SBX&#32;or&#32;Iso+LineDD.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00040"/>00040 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00041"/>00041 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;3)&#32;Iso+LineDD&#32;[4]&#32;is&#32;implemented&#32;but&#32;doesn&apos;t&#32;work&#32;well&#32;with&#32;extremely&#32;ragged&#32;solution</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00042"/>00042 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;landscapes.&#32;Therefore&#32;SBX+mutation&#32;is&#32;the&#32;default&#32;setting.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00043"/>00043 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00044"/>00044 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;4)&#32;SBX&#32;(Simulated&#32;binary&#32;crossover)&#32;is&#32;taken&#32;from&#32;mode.py&#32;and&#32;simplified.&#32;It&#32;is&#32;combined&#32;with&#32;mutation.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00045"/>00045 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Both&#32;spread&#32;factors&#32;-&#32;for&#32;crossover&#32;and&#32;mutation&#32;-&#32;are&#32;randomized&#32;for&#32;each&#32;application.&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00046"/>00046 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00047"/>00047 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;5)&#32;Candidates&#32;for&#32;CMA-ES&#32;are&#32;sampled&#32;with&#32;a&#32;bias&#32;to&#32;better&#32;niches.&#32;As&#32;for&#32;SBX&#32;only&#32;a&#32;subset&#32;of&#32;the&#32;archive&#32;is</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00048"/>00048 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;used,&#32;the&#32;worst&#32;niches&#32;are&#32;ignored.&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00049"/>00049 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00050"/>00050 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;6)&#32;There&#32;is&#32;a&#32;CMA-ES&#32;drill&#32;down&#32;for&#32;specific&#32;niches&#32;-&#32;in&#32;this&#32;mode&#32;all&#32;solutions&#32;outside&#32;the&#32;niche</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00051"/>00051 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;are&#32;rejected.&#32;Restricted&#32;solution&#32;box&#32;bounds&#32;are&#32;used&#32;derived&#32;from&#32;statistics&#32;maintained&#32;by&#32;the&#32;archive</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00052"/>00052 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;during&#32;the&#32;addition&#32;of&#32;new&#32;solution&#32;candidates.&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00053"/>00053 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00054"/>00054 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;7)&#32;The&#32;QD-archive&#32;uses&#32;shared&#32;memory&#32;to&#32;reduce&#32;inter-process&#32;communication&#32;overhead.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00055"/>00055 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00056"/>00056 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00057"/>00057 <emphasis role="stringliteral">&#32;Authors:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00058"/>00058 <emphasis role="stringliteral">&#32;&#32;-&#32;Dietmar&#32;Wolz</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00059"/>00059 <emphasis role="stringliteral">&#32;&#32;-&#32;romain.despoullains@latitude.eu</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00060"/>00060 <emphasis role="stringliteral">&#32;&#32;-&#32;corentin.generet@latitude.eu</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00061"/>00061 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00062"/>00062 <emphasis role="stringliteral">&#32;References:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00063"/>00063 <emphasis role="stringliteral">&#32;&#32;-&#32;[1]&#32;https://github.com/dietmarwo/fast-cma-es</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00064"/>00064 <emphasis role="stringliteral">&#32;&#32;-&#32;[2]&#32;https://arxiv.org/abs/1610.05729</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00065"/>00065 <emphasis role="stringliteral">&#32;&#32;-&#32;[3]&#32;https://arxiv.org/pdf/1912.02400.pdf</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00066"/>00066 <emphasis role="stringliteral">&#32;&#32;-&#32;[4]&#32;https://arxiv.org/pdf/1804.03906</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00067"/>00067 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00068"/>00068 <emphasis role="stringliteral">&#32;Documentation:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00069"/>00069 <emphasis role="stringliteral">&#32;&#32;-</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00070"/>00070 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00071"/>00071 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00072"/>00072 <emphasis role="stringliteral">=============================================================================</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00073"/>00073 <emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00074"/>00074 <emphasis role="keyword">from</emphasis>&#32;__future__&#32;<emphasis role="keyword">import</emphasis>&#32;annotations
<anchor xml:id="_mapelites_8py_source_1l00075"/>00075 
<anchor xml:id="_mapelites_8py_source_1l00076"/>00076 
<anchor xml:id="_mapelites_8py_source_1l00077"/>00077 <emphasis role="keyword">import</emphasis>&#32;numpy&#32;<emphasis role="keyword">as</emphasis>&#32;np
<anchor xml:id="_mapelites_8py_source_1l00078"/>00078 <emphasis role="keyword">from</emphasis>&#32;numpy.random&#32;<emphasis role="keyword">import</emphasis>&#32;Generator,&#32;PCG64DXSM,&#32;SeedSequence
<anchor xml:id="_mapelites_8py_source_1l00079"/>00079 <emphasis role="keyword">from</emphasis>&#32;multiprocessing&#32;<emphasis role="keyword">import</emphasis>&#32;Process
<anchor xml:id="_mapelites_8py_source_1l00080"/>00080 <emphasis role="keyword">import</emphasis>&#32;multiprocessing&#32;<emphasis role="keyword">as</emphasis>&#32;mp
<anchor xml:id="_mapelites_8py_source_1l00081"/>00081 <emphasis role="keyword">from</emphasis>&#32;sklearn.neighbors&#32;<emphasis role="keyword">import</emphasis>&#32;KDTree
<anchor xml:id="_mapelites_8py_source_1l00082"/>00082 <emphasis role="keyword">from</emphasis>&#32;sklearn.cluster&#32;<emphasis role="keyword">import</emphasis>&#32;KMeans
<anchor xml:id="_mapelites_8py_source_1l00083"/>00083 <emphasis role="keyword">from</emphasis>&#32;scipy.optimize&#32;<emphasis role="keyword">import</emphasis>&#32;Bounds
<anchor xml:id="_mapelites_8py_source_1l00084"/>00084 <emphasis role="keyword">from</emphasis>&#32;pathlib&#32;<emphasis role="keyword">import</emphasis>&#32;Path
<anchor xml:id="_mapelites_8py_source_1l00085"/>00085 <emphasis role="keyword">from</emphasis>&#32;<link linkend="_namespacefcmaes_1_1retry">fcmaes.retry</link>&#32;<emphasis role="keyword">import</emphasis>&#32;Shared2d
<anchor xml:id="_mapelites_8py_source_1l00086"/>00086 <emphasis role="keyword">from</emphasis>&#32;<link linkend="_namespacefcmaes_1_1optimizer">fcmaes.optimizer</link>&#32;<emphasis role="keyword">import</emphasis>&#32;dtime
<anchor xml:id="_mapelites_8py_source_1l00087"/>00087 <emphasis role="keyword">from</emphasis>&#32;fcmaes&#32;<emphasis role="keyword">import</emphasis>&#32;cmaescpp
<anchor xml:id="_mapelites_8py_source_1l00088"/>00088 <emphasis role="keyword">from</emphasis>&#32;numpy.random&#32;<emphasis role="keyword">import</emphasis>&#32;default_rng
<anchor xml:id="_mapelites_8py_source_1l00089"/>00089 <emphasis role="keyword">import</emphasis>&#32;ctypes&#32;<emphasis role="keyword">as</emphasis>&#32;ct
<anchor xml:id="_mapelites_8py_source_1l00090"/>00090 <emphasis role="keyword">from</emphasis>&#32;time&#32;<emphasis role="keyword">import</emphasis>&#32;perf_counter
<anchor xml:id="_mapelites_8py_source_1l00091"/>00091 <emphasis role="keyword">import</emphasis>&#32;threadpoolctl
<anchor xml:id="_mapelites_8py_source_1l00092"/>00092 <emphasis role="keyword">from</emphasis>&#32;numba&#32;<emphasis role="keyword">import</emphasis>&#32;njit
<anchor xml:id="_mapelites_8py_source_1l00093"/>00093 <emphasis role="keyword">from</emphasis>&#32;<link linkend="_namespacefcmaes_1_1evaluator">fcmaes.evaluator</link>&#32;<emphasis role="keyword">import</emphasis>&#32;is_debug_active
<anchor xml:id="_mapelites_8py_source_1l00094"/>00094 <emphasis role="keyword">from</emphasis>&#32;loguru&#32;<emphasis role="keyword">import</emphasis>&#32;logger
<anchor xml:id="_mapelites_8py_source_1l00095"/>00095 
<anchor xml:id="_mapelites_8py_source_1l00096"/>00096 <emphasis role="keyword">from</emphasis>&#32;typing&#32;<emphasis role="keyword">import</emphasis>&#32;Optional,&#32;Callable,&#32;Tuple,&#32;Dict
<anchor xml:id="_mapelites_8py_source_1l00097"/>00097 <emphasis role="keyword">from</emphasis>&#32;numpy.typing&#32;<emphasis role="keyword">import</emphasis>&#32;ArrayLike
<anchor xml:id="_mapelites_8py_source_1l00098"/>00098 
<anchor xml:id="_mapelites_8py_source_1l00099"/>00099 rng&#32;=&#32;default_rng()
<anchor xml:id="_mapelites_8py_source_1l00100"/>00100 
<anchor xml:id="_mapelites_8py_source_1l00101"/>00101 <emphasis role="keyword">def&#32;</emphasis><link linkend="_namespacefcmaes_1_1mapelites_1a028f687a02a53b2626abc9f046a77aa2">optimize_map_elites</link>(qd_fitness:&#32;Callable[[ArrayLike],&#32;Tuple[float,&#32;np.ndarray]],&#32;
<anchor xml:id="_mapelites_8py_source_1l00102"/>00102 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bounds:&#32;Bounds,&#32;
<anchor xml:id="_mapelites_8py_source_1l00103"/><link linkend="_namespacefcmaes_1_1mapelites_1ae3ff11934566d45300958dca5961a6ca">00103</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_bounds:&#32;Bounds,&#32;
<anchor xml:id="_mapelites_8py_source_1l00104"/>00104 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;niche_num:&#32;Optional[int]&#32;=&#32;4000,&#32;
<anchor xml:id="_mapelites_8py_source_1l00105"/>00105 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;samples_per_niche:&#32;Optional[int]&#32;=&#32;20,&#32;
<anchor xml:id="_mapelites_8py_source_1l00106"/>00106 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;workers:&#32;Optional[int]&#32;=&#32;mp.cpu_count(),&#32;
<anchor xml:id="_mapelites_8py_source_1l00107"/>00107 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;iterations:&#32;Optional[int]&#32;=&#32;100,&#32;
<anchor xml:id="_mapelites_8py_source_1l00108"/>00108 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive:&#32;Optional[Archive]&#32;=&#32;<emphasis role="keywordtype">None</emphasis>,&#32;
<anchor xml:id="_mapelites_8py_source_1l00109"/>00109 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;me_params:&#32;Optional[Dict]&#32;=&#32;{},&#32;
<anchor xml:id="_mapelites_8py_source_1l00110"/>00110 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cma_params:&#32;Optional[Dict]&#32;=&#32;{},&#32;
<anchor xml:id="_mapelites_8py_source_1l00111"/>00111 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;use_stats:&#32;Optional[bool]&#32;=&#32;<emphasis role="keyword">False</emphasis>,
<anchor xml:id="_mapelites_8py_source_1l00112"/>00112 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;)&#32;-&gt;&#32;Archive:
<anchor xml:id="_mapelites_8py_source_1l00113"/>00113 
<anchor xml:id="_mapelites_8py_source_1l00114"/>00114 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00115"/>00115 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Optimizes&#32;a&#32;map-elites&#32;evolutionary&#32;algorithm&#32;to&#32;find&#32;diverse&#32;and&#32;high-performing&#32;solutions&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00116"/>00116 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;by&#32;distributing&#32;samples&#32;into&#32;niches,&#32;iteratively&#32;evolving&#32;them,&#32;and&#32;maintaining&#32;an&#32;archive&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00117"/>00117 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;to&#32;store&#32;the&#32;found&#32;solutions.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00118"/>00118 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00119"/>00119 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;This&#32;function&#32;leverages&#32;a&#32;map-elites&#32;approach&#32;to&#32;optimize&#32;solutions&#32;across&#32;a&#32;given&#32;feature&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00120"/>00120 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;space&#32;or&#32;behavioral&#32;space&#32;defined&#32;by&#32;the&#32;`qd_bounds`&#32;parameter.&#32;The&#32;objective&#32;of&#32;the&#32;optimization&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00121"/>00121 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;is&#32;to&#32;populate&#32;an&#32;archive&#32;with&#32;solutions&#32;that&#32;exhibit&#32;high&#32;fitness&#32;while&#32;ensuring&#32;diversity&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00122"/>00122 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;in&#32;behavior&#32;across&#32;the&#32;space.&#32;The&#32;archive&#32;is&#32;continuously&#32;updated&#32;and&#32;sorted&#32;during&#32;the&#32;iterations&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00123"/>00123 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;to&#32;reflect&#32;the&#32;best&#32;solutions&#32;in&#32;each&#32;niche.&#32;The&#32;performance&#32;is&#32;monitored&#32;throughout&#32;the&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00124"/>00124 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;optimization&#32;process.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00125"/>00125 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00126"/>00126 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00127"/>00127 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_fitness&#32;(Callable[[ArrayLike],&#32;Tuple[float,&#32;np.ndarray]]):&#32;The&#32;quantitative&#32;fitness&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00128"/>00128 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;function&#32;used&#32;to&#32;evaluate&#32;the&#32;solutions.&#32;It&#32;must&#32;return&#32;a&#32;tuple&#32;containing&#32;the&#32;fitness&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00129"/>00129 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;score&#32;and&#32;the&#32;corresponding&#32;feature&#32;descriptor/behavior&#32;representation.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00130"/>00130 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bounds&#32;(Bounds):&#32;Represents&#32;the&#32;variable&#32;bounds&#32;for&#32;the&#32;optimization&#32;space.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00131"/>00131 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_bounds&#32;(Bounds):&#32;Defines&#32;the&#32;range&#32;of&#32;the&#32;quality-diversity&#32;feature/behavioral&#32;space.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00132"/>00132 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;niche_num&#32;(Optional[int]):&#32;The&#32;total&#32;number&#32;of&#32;niches&#32;in&#32;the&#32;archive.&#32;Determines&#32;how&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00133"/>00133 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;solutions&#32;will&#32;be&#32;distributed&#32;across&#32;the&#32;feature&#32;space.&#32;Defaults&#32;to&#32;4000.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00134"/>00134 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;samples_per_niche&#32;(Optional[int]):&#32;The&#32;number&#32;of&#32;samples&#32;generated&#32;per&#32;niche&#32;during&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00135"/>00135 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;initialization.&#32;Defaults&#32;to&#32;20.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00136"/>00136 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;workers&#32;(Optional[int]):&#32;Number&#32;of&#32;CPU&#32;workers/threads&#32;to&#32;parallelize&#32;the&#32;process.&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00137"/>00137 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Defaults&#32;to&#32;the&#32;number&#32;of&#32;CPUs&#32;available.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00138"/>00138 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;iterations&#32;(Optional[int]):&#32;The&#32;total&#32;number&#32;of&#32;iterations&#32;to&#32;evolve&#32;the&#32;archive.&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00139"/>00139 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Defaults&#32;to&#32;100.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00140"/>00140 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive&#32;(Optional[Archive]):&#32;Pre-existing&#32;archive&#32;object&#32;for&#32;storing&#32;solutions.&#32;If&#32;`None`,&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00141"/>00141 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;a&#32;new&#32;archive&#32;is&#32;initialized.&#32;Defaults&#32;to&#32;None.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00142"/>00142 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;me_params&#32;(Optional[Dict]):&#32;Additional&#32;hyperparameters&#32;specific&#32;to&#32;the&#32;map-elites&#32;algorithm.&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00143"/>00143 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Defaults&#32;to&#32;an&#32;empty&#32;dictionary.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00144"/><link linkend="_namespacefcmaes_1_1mapelites_1a028f687a02a53b2626abc9f046a77aa2">00144</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cma_params&#32;(Optional[Dict]):&#32;Hyperparameters&#32;specific&#32;to&#32;the&#32;CMA-ES&#32;algorithm&#32;used&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00145"/>00145 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;for&#32;evolutionary&#32;strategies.&#32;Defaults&#32;to&#32;an&#32;empty&#32;dictionary.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00146"/>00146 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;use_stats&#32;(Optional[bool]):&#32;Flag&#32;to&#32;determine&#32;whether&#32;statistical&#32;data&#32;should&#32;be&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00147"/>00147 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;collected&#32;and&#32;maintained&#32;in&#32;the&#32;archive.&#32;Defaults&#32;to&#32;False.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00148"/>00148 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00149"/>00149 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00150"/>00150 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Archive:&#32;The&#32;final&#32;archive&#32;containing&#32;diverse&#32;high-performing&#32;solutions&#32;distributed&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00151"/>00151 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;across&#32;the&#32;quality-diversity&#32;space.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00152"/>00152 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00153"/>00153 
<anchor xml:id="_mapelites_8py_source_1l00154"/>00154 &#32;&#32;&#32;&#32;dim&#32;=&#32;len(bounds.lb)&#32;
<anchor xml:id="_mapelites_8py_source_1l00155"/>00155 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;archive&#32;<emphasis role="keywordflow">is</emphasis>&#32;<emphasis role="keywordtype">None</emphasis>:&#32;
<anchor xml:id="_mapelites_8py_source_1l00156"/>00156 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive&#32;=&#32;<link linkend="_classfcmaes_1_1mapelites_1_1_archive">Archive</link>(dim,&#32;qd_bounds,&#32;niche_num,&#32;use_stats)
<anchor xml:id="_mapelites_8py_source_1l00157"/>00157 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive.init_niches(samples_per_niche)
<anchor xml:id="_mapelites_8py_source_1l00158"/>00158 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;initialize&#32;archive&#32;with&#32;random&#32;values</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00159"/>00159 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.xs.view()[:]&#32;=&#32;rng.uniform(bounds.lb,&#32;bounds.ub,&#32;(niche_num,&#32;dim))
<anchor xml:id="_mapelites_8py_source_1l00160"/>00160 &#32;&#32;&#32;&#32;t0&#32;=&#32;perf_counter()&#32;
<anchor xml:id="_mapelites_8py_source_1l00161"/>00161 &#32;&#32;&#32;&#32;qd_fitness.archive&#32;=&#32;archive&#32;<emphasis role="comment">#&#32;attach&#32;archive&#32;for&#32;logging&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00162"/>00162 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;iter&#32;<emphasis role="keywordflow">in</emphasis>&#32;range(iterations):
<anchor xml:id="_mapelites_8py_source_1l00163"/>00163 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive.argsort()&#32;<emphasis role="comment">#&#32;sort&#32;archive&#32;to&#32;select&#32;the&#32;best_n</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00164"/>00164 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespacefcmaes_1_1mapelites_1ad2ec9edcc53986935aa2f2e1127d458d">optimize_map_elites_</link>(archive,&#32;qd_fitness,&#32;bounds,&#32;workers,
<anchor xml:id="_mapelites_8py_source_1l00165"/>00165 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;me_params,&#32;cma_params)
<anchor xml:id="_mapelites_8py_source_1l00166"/>00166 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;is_debug_active():
<anchor xml:id="_mapelites_8py_source_1l00167"/>00167 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ys&#32;=&#32;np.sort(archive.get_ys())[:100]&#32;<emphasis role="comment">#&#32;best&#32;100&#32;fitness&#32;values</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00168"/>00168 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;logger.debug(f<emphasis role="stringliteral">&apos;best&#32;100&#32;iter&#32;{iter}&#32;best&#32;{min(ys):.3f}&#32;worst&#32;{max(ys):.3f}&#32;&apos;</emphasis>&#32;+&#32;
<anchor xml:id="_mapelites_8py_source_1l00169"/>00169 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;f<emphasis role="stringliteral">&apos;mean&#32;{np.mean(ys):.3f}&#32;stdev&#32;{np.std(ys):.3f}&#32;time&#32;{dtime(t0)}&#32;s&apos;</emphasis>)
<anchor xml:id="_mapelites_8py_source_1l00170"/>00170 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;archive
<anchor xml:id="_mapelites_8py_source_1l00171"/>00171 
<anchor xml:id="_mapelites_8py_source_1l00172"/>00172 <emphasis role="keyword">def&#32;</emphasis><link linkend="_namespacefcmaes_1_1mapelites_1a49c2831aa0bf9634663977bbd6321afc">empty_archive</link>(dim:&#32;int,&#32;
<anchor xml:id="_mapelites_8py_source_1l00173"/>00173 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_bounds:&#32;Bounds,&#32;
<anchor xml:id="_mapelites_8py_source_1l00174"/>00174 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;niche_num:&#32;int,&#32;
<anchor xml:id="_mapelites_8py_source_1l00175"/>00175 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;samples_per_niche:&#32;int,&#32;
<anchor xml:id="_mapelites_8py_source_1l00176"/>00176 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;use_stats:&#32;Optional[bool]&#32;=&#32;<emphasis role="keyword">False</emphasis>)&#32;-&gt;&#32;Archive:
<anchor xml:id="_mapelites_8py_source_1l00177"/>00177 
<anchor xml:id="_mapelites_8py_source_1l00178"/>00178 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00179"/>00179 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Creates&#32;and&#32;initializes&#32;an&#32;archive&#32;for&#32;quality&#32;diversity&#32;(QD)&#32;experiments.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00180"/>00180 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00181"/>00181 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;This&#32;function&#32;creates&#32;an&#32;Archive&#32;object&#32;with&#32;the&#32;specified&#32;dimensions,</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00182"/>00182 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;bounding&#32;box,&#32;number&#32;of&#32;niches,&#32;and&#32;optionally&#32;enables&#32;statistics&#32;collection.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00183"/>00183 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;It&#32;also&#32;initializes&#32;the&#32;niches&#32;in&#32;the&#32;archive&#32;with&#32;a&#32;specified&#32;number&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00184"/>00184 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;of&#32;samples&#32;per&#32;niche.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00185"/>00185 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00186"/>00186 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00187"/>00187 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dim&#32;(int):&#32;Dimensionality&#32;of&#32;the&#32;search/grid&#32;space&#32;for&#32;the&#32;archive.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00188"/>00188 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_bounds&#32;(Bounds):&#32;Bounds&#32;specifying&#32;the&#32;range&#32;for&#32;niche&#32;space&#32;coordinates.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00189"/>00189 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;niche_num&#32;(int):&#32;Number&#32;of&#32;niches&#32;to&#32;be&#32;created&#32;in&#32;the&#32;archive.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00190"/>00190 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;samples_per_niche&#32;(int):&#32;Number&#32;of&#32;samples&#32;to&#32;initialize&#32;in&#32;each&#32;niche.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00191"/>00191 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;use_stats&#32;(Optional[bool],&#32;optional):&#32;If&#32;True,&#32;statistics&#32;collection&#32;will&#32;be</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00192"/>00192 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;enabled&#32;in&#32;the&#32;archive.&#32;Defaults&#32;to&#32;False.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00193"/>00193 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00194"/>00194 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00195"/>00195 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Archive:&#32;The&#32;initialized&#32;archive&#32;object&#32;for&#32;QD&#32;experiments.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00196"/><link linkend="_namespacefcmaes_1_1mapelites_1a49c2831aa0bf9634663977bbd6321afc">00196</link> <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00197"/>00197 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00198"/>00198 
<anchor xml:id="_mapelites_8py_source_1l00199"/>00199 &#32;&#32;&#32;&#32;archive&#32;=&#32;<link linkend="_classfcmaes_1_1mapelites_1_1_archive">Archive</link>(dim,&#32;qd_bounds,&#32;niche_num,&#32;use_stats)
<anchor xml:id="_mapelites_8py_source_1l00200"/>00200 &#32;&#32;&#32;&#32;archive.init_niches(samples_per_niche)
<anchor xml:id="_mapelites_8py_source_1l00201"/>00201 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;archive
<anchor xml:id="_mapelites_8py_source_1l00202"/>00202 
<anchor xml:id="_mapelites_8py_source_1l00203"/>00203 <emphasis role="keyword">def&#32;</emphasis><link linkend="_namespacefcmaes_1_1mapelites_1ace0194d76906adbf0c0dd3db084f177c">set_KDTree</link>(archive:&#32;Archive,
<anchor xml:id="_mapelites_8py_source_1l00204"/>00204 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;centers:Optional[np.ndarray]&#32;=&#32;<emphasis role="keywordtype">None</emphasis>,&#32;
<anchor xml:id="_mapelites_8py_source_1l00205"/>00205 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;niche_num:&#32;Optional[int]&#32;&#32;=&#32;<emphasis role="keywordtype">None</emphasis>,&#32;
<anchor xml:id="_mapelites_8py_source_1l00206"/>00206 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_bounds:&#32;Optional[Bounds]&#32;=&#32;<emphasis role="keywordtype">None</emphasis>,&#32;
<anchor xml:id="_mapelites_8py_source_1l00207"/>00207 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;samples_per_niche:&#32;Optional[int]&#32;=&#32;100):
<anchor xml:id="_mapelites_8py_source_1l00208"/>00208 
<anchor xml:id="_mapelites_8py_source_1l00209"/>00209 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00210"/>00210 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Sets&#32;up&#32;a&#32;KDTree&#32;for&#32;the&#32;given&#32;archive&#32;using&#32;specified&#32;or&#32;default&#32;parameters.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00211"/>00211 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00212"/>00212 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;This&#32;function&#32;initializes&#32;a&#32;KDTree&#32;structure&#32;with&#32;the&#32;given&#32;or&#32;generated&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00213"/>00213 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;centers,&#32;enabling&#32;efficient&#32;spatial&#32;searches&#32;within&#32;the&#32;archive.&#32;If&#32;the&#32;centers&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00214"/>00214 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;are&#32;not&#32;provided,&#32;they&#32;will&#32;be&#32;generated&#32;using&#32;the&#32;`get_centers_`&#32;function&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00215"/>00215 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;based&#32;on&#32;the&#32;number&#32;of&#32;niches,&#32;dimensionality&#32;of&#32;the&#32;bounds,&#32;and&#32;the&#32;number&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00216"/>00216 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;of&#32;samples&#32;per&#32;niche.&#32;This&#32;KDTree&#32;is&#32;essential&#32;for&#32;spatial&#32;partitioning&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00217"/>00217 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;and&#32;querying&#32;in&#32;the&#32;archive.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00218"/>00218 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00219"/>00219 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00220"/>00220 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive&#32;(Archive):&#32;The&#32;archive&#32;object&#32;for&#32;which&#32;the&#32;KDTree&#32;will&#32;be&#32;set&#32;up.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00221"/>00221 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;centers&#32;(Optional[np.ndarray]):&#32;Coordinates&#32;of&#32;the&#32;centers&#32;to&#32;construct&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00222"/>00222 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;KDTree.&#32;If&#32;`None`,&#32;they&#32;will&#32;be&#32;generated&#32;automatically.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00223"/>00223 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;niche_num&#32;(Optional[int]):&#32;The&#32;number&#32;of&#32;niches&#32;used&#32;to&#32;determine&#32;the&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00224"/>00224 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;grid&#32;of&#32;centers&#32;if&#32;`centers`&#32;is&#32;not&#32;provided.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00225"/>00225 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_bounds&#32;(Optional[Bounds]):&#32;The&#32;bounds&#32;within&#32;which&#32;the&#32;niches&#32;lie.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00226"/>00226 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;samples_per_niche&#32;(Optional[int]):&#32;The&#32;number&#32;of&#32;sample&#32;centers&#32;per&#32;niche&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00227"/><link linkend="_namespacefcmaes_1_1mapelites_1ace0194d76906adbf0c0dd3db084f177c">00227</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;to&#32;generate&#32;when&#32;`centers`&#32;is&#32;not&#32;provided.&#32;Defaults&#32;to&#32;100.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00228"/>00228 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00229"/>00229 
<anchor xml:id="_mapelites_8py_source_1l00230"/>00230 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;centers&#32;<emphasis role="keywordflow">is</emphasis>&#32;<emphasis role="keywordtype">None</emphasis>:&#32;<emphasis role="comment">#&#32;cache&#32;centers&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00231"/>00231 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;centers&#32;=&#32;<link linkend="_namespacefcmaes_1_1mapelites_1a1cd72ab87d7aa999a255ad854895d3aa">get_centers_</link>(niche_num,&#32;len(qd_bounds.lb),&#32;samples_per_niche)
<anchor xml:id="_mapelites_8py_source_1l00232"/>00232 &#32;&#32;&#32;&#32;archive.kdt&#32;=&#32;KDTree(centers,&#32;leaf_size=30,&#32;metric=<emphasis role="stringliteral">&apos;euclidean&apos;</emphasis>)&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00233"/>00233 &#32;&#32;&#32;&#32;archive.centers&#32;=&#32;centers&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00234"/>00234 
<anchor xml:id="_mapelites_8py_source_1l00235"/>00235 <emphasis role="keyword">def&#32;</emphasis><link linkend="_namespacefcmaes_1_1mapelites_1a9430b58efcd2bccef1537defe6b7e8db">load_archive</link>(name:&#32;str,&#32;
<anchor xml:id="_mapelites_8py_source_1l00236"/>00236 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bounds:&#32;Bounds,&#32;
<anchor xml:id="_mapelites_8py_source_1l00237"/>00237 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_bounds:&#32;Bounds,&#32;
<anchor xml:id="_mapelites_8py_source_1l00238"/>00238 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;niche_num:&#32;Optional[int]&#32;=&#32;10000,
<anchor xml:id="_mapelites_8py_source_1l00239"/>00239 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;use_stats:&#32;Optional[bool]&#32;=&#32;<emphasis role="keyword">False</emphasis>,&#32;
<anchor xml:id="_mapelites_8py_source_1l00240"/>00240 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;)&#32;-&gt;&#32;Archive:
<anchor xml:id="_mapelites_8py_source_1l00241"/>00241 
<anchor xml:id="_mapelites_8py_source_1l00242"/>00242 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00243"/>00243 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Loads&#32;an&#32;archive&#32;based&#32;on&#32;the&#32;provided&#32;parameters.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00244"/>00244 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00245"/>00245 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;This&#32;function&#32;creates&#32;and&#32;configures&#32;an&#32;Archive&#32;instance&#32;using&#32;the&#32;specified</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00246"/>00246 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;parameters.&#32;It&#32;initializes&#32;the&#32;Archive&#32;with&#32;bounds,&#32;QD&#32;bounds,&#32;niche&#32;number,</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00247"/>00247 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;and&#32;optional&#32;usage&#32;of&#32;statistics.&#32;After&#32;initialization,&#32;it&#32;loads&#32;the&#32;archive</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00248"/>00248 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;data&#32;from&#32;the&#32;provided&#32;file&#32;name.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00249"/>00249 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00250"/>00250 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00251"/>00251 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;name&#32;(str):&#32;The&#32;file&#32;name&#32;from&#32;which&#32;to&#32;load&#32;the&#32;archive.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00252"/>00252 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bounds&#32;(Bounds):&#32;The&#32;lower&#32;and&#32;upper&#32;bounds&#32;for&#32;the&#32;archive&apos;s&#32;dimensionality.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00253"/>00253 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_bounds&#32;(Bounds):&#32;The&#32;bounds&#32;specific&#32;to&#32;the&#32;QD&#32;optimization&#32;process.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00254"/>00254 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;niche_num&#32;(Optional[int]):&#32;The&#32;number&#32;of&#32;niches&#32;in&#32;the&#32;archive.&#32;Defaults&#32;to&#32;10000.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00255"/>00255 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;use_stats&#32;(Optional[bool]):&#32;Flag&#32;to&#32;indicate&#32;whether&#32;statistics&#32;should&#32;be&#32;used.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00256"/>00256 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Defaults&#32;to&#32;False.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00257"/>00257 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00258"/><link linkend="_namespacefcmaes_1_1mapelites_1a9430b58efcd2bccef1537defe6b7e8db">00258</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00259"/>00259 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Archive:&#32;An&#32;Archive&#32;instance&#32;loaded&#32;with&#32;the&#32;specified&#32;configurations&#32;and&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00260"/>00260 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00261"/>00261 &#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00262"/>00262 &#32;&#32;&#32;&#32;dim&#32;=&#32;len(bounds.lb)
<anchor xml:id="_mapelites_8py_source_1l00263"/>00263 &#32;&#32;&#32;&#32;archive&#32;=&#32;<link linkend="_classfcmaes_1_1mapelites_1_1_archive">Archive</link>(dim,&#32;qd_bounds,&#32;niche_num,&#32;name,&#32;use_stats)
<anchor xml:id="_mapelites_8py_source_1l00264"/>00264 &#32;&#32;&#32;&#32;archive.load(name)
<anchor xml:id="_mapelites_8py_source_1l00265"/>00265 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;archive
<anchor xml:id="_mapelites_8py_source_1l00266"/>00266 
<anchor xml:id="_mapelites_8py_source_1l00267"/>00267 <emphasis role="keyword">def&#32;</emphasis><link linkend="_namespacefcmaes_1_1mapelites_1ad2ec9edcc53986935aa2f2e1127d458d">optimize_map_elites_</link>(archive,&#32;fitness,&#32;bounds,&#32;workers,
<anchor xml:id="_mapelites_8py_source_1l00268"/>00268 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;me_params,&#32;cma_params):
<anchor xml:id="_mapelites_8py_source_1l00269"/>00269 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00270"/>00270 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Optimize&#32;a&#32;solution&#32;using&#32;Map-Elites&#32;algorithm&#32;via&#32;multi-processing.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00271"/>00271 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00272"/>00272 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;This&#32;function&#32;orchestrates&#32;the&#32;execution&#32;of&#32;the&#32;Map-Elites&#32;optimization</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00273"/>00273 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;algorithm&#32;over&#32;multiple&#32;processes.&#32;Each&#32;process&#32;operates&#32;independently&#32;with&#32;its</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00274"/>00274 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;own&#32;random&#32;generator&#32;to&#32;explore&#32;the&#32;solution&#32;space.&#32;It&#32;uses&#32;CMA-ES&#32;to&#32;update</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00275"/>00275 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;solutions&#32;iteratively.&#32;The&#32;provided&#32;parameters&#32;configure&#32;the&#32;optimization</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00276"/>00276 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;behavior,&#32;such&#32;as&#32;the&#32;solution&#32;archive,&#32;fitness&#32;evaluation&#32;function,&#32;search</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00277"/>00277 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;bounds,&#32;and&#32;process&#32;settings&#32;specific&#32;to&#32;Map-Elites&#32;and&#32;CMA-ES.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00278"/>00278 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00279"/>00279 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00280"/>00280 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive:&#32;A&#32;data&#32;structure&#32;to&#32;store&#32;the&#32;solutions&#32;found&#32;during&#32;the&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00281"/>00281 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;optimization&#32;process&#32;and&#32;their&#32;corresponding&#32;evaluation.&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00282"/>00282 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fitness:&#32;A&#32;callable&#32;function&#32;that&#32;evaluates&#32;the&#32;quality&#32;of&#32;a&#32;solution.&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00283"/>00283 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bounds:&#32;A&#32;sequence&#32;of&#32;tuples&#32;defining&#32;the&#32;lower&#32;and&#32;upper&#32;bounds&#32;for</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00284"/>00284 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;each&#32;decision&#32;variable.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00285"/>00285 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;workers:&#32;An&#32;integer&#32;specifying&#32;the&#32;number&#32;of&#32;parallel&#32;processes</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00286"/>00286 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;to&#32;run&#32;during&#32;optimization.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00287"/>00287 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;me_params:&#32;A&#32;dictionary&#32;or&#32;configuration&#32;object&#32;with&#32;parameters</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00288"/>00288 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;for&#32;the&#32;Map-Elites&#32;algorithm.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00289"/>00289 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cma_params:&#32;A&#32;dictionary&#32;or&#32;configuration&#32;object&#32;with&#32;parameters</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00290"/>00290 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;for&#32;the&#32;Covariance&#32;Matrix&#32;Adaptation&#32;Evolution&#32;Strategy&#32;(CMA-ES).</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00291"/>00291 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00292"/>00292 &#32;&#32;&#32;&#32;sg&#32;=&#32;SeedSequence()
<anchor xml:id="_mapelites_8py_source_1l00293"/>00293 &#32;&#32;&#32;&#32;rgs&#32;=&#32;[Generator(PCG64DXSM(s))&#32;<emphasis role="keywordflow">for</emphasis>&#32;s&#32;<emphasis role="keywordflow">in</emphasis>&#32;sg.spawn(workers)]
<anchor xml:id="_mapelites_8py_source_1l00294"/><link linkend="_namespacefcmaes_1_1mapelites_1ad2ec9edcc53986935aa2f2e1127d458d">00294</link> &#32;&#32;&#32;&#32;proc=[Process(target=run_map_elites_,
<anchor xml:id="_mapelites_8py_source_1l00295"/>00295 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;args=(archive,&#32;fitness,&#32;bounds,&#32;rgs[p],
<anchor xml:id="_mapelites_8py_source_1l00296"/>00296 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;me_params,&#32;cma_params))&#32;<emphasis role="keywordflow">for</emphasis>&#32;p&#32;<emphasis role="keywordflow">in</emphasis>&#32;range(workers)]
<anchor xml:id="_mapelites_8py_source_1l00297"/>00297 &#32;&#32;&#32;&#32;[p.start()&#32;<emphasis role="keywordflow">for</emphasis>&#32;p&#32;<emphasis role="keywordflow">in</emphasis>&#32;proc]
<anchor xml:id="_mapelites_8py_source_1l00298"/>00298 &#32;&#32;&#32;&#32;[p.join()&#32;<emphasis role="keywordflow">for</emphasis>&#32;p&#32;<emphasis role="keywordflow">in</emphasis>&#32;proc]
<anchor xml:id="_mapelites_8py_source_1l00299"/>00299 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00300"/>00300 <emphasis role="keyword">def&#32;</emphasis><link linkend="_namespacefcmaes_1_1mapelites_1a04bcf57530df0bef091b00ceb8e9d44a">run_map_elites_</link>(archive,&#32;fitness,&#32;bounds,&#32;rg,&#32;
<anchor xml:id="_mapelites_8py_source_1l00301"/>00301 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;me_params,&#32;cma_params):
<anchor xml:id="_mapelites_8py_source_1l00302"/>00302 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00303"/>00303 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Runs&#32;the&#32;MAP-Elites&#32;algorithm&#32;with&#32;optional&#32;SBX&#32;(Simulated&#32;Binary&#32;Crossover)&#32;or&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00304"/>00304 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;iso+line&#32;variation,&#32;followed&#32;by&#32;CMA-ES&#32;optimization.&#32;The&#32;algorithm&#32;iteratively&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00305"/>00305 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;updates&#32;the&#32;archive&#32;with&#32;new&#32;solutions,&#32;balancing&#32;exploration&#32;and&#32;exploitation&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00306"/>00306 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;over&#32;the&#32;specified&#32;number&#32;of&#32;generations.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00307"/>00307 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00308"/>00308 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00309"/>00309 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive:&#32;An&#32;archive&#32;object&#32;for&#32;storing&#32;solutions,&#32;descriptors,&#32;and&#32;their&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00310"/>00310 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fitness&#32;values,&#32;supporting&#32;niche&#32;identification&#32;and&#32;updating&#32;mechanisms.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00311"/>00311 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fitness:&#32;Callable&#32;that&#32;computes&#32;the&#32;fitness&#32;and&#32;descriptor&#32;of&#32;a&#32;given&#32;solution.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00312"/>00312 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bounds:&#32;Bounds&#32;object&#32;holding&#32;the&#32;lower&#32;and&#32;upper&#32;bounds&#32;for&#32;the&#32;solutions&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00313"/>00313 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;during&#32;variation&#32;and&#32;optimization.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00314"/>00314 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;rg:&#32;A&#32;random&#32;generator&#32;instance&#32;used&#32;for&#32;stochastic&#32;operations&#32;within&#32;the&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00315"/>00315 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;algorithm.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00316"/>00316 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;me_params:&#32;Dictionary&#32;containing&#32;tunable&#32;MAP-Elites&#32;parameters&#32;with&#32;keys&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00317"/>00317 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;such&#32;as&#32;&apos;generations&apos;,&#32;&apos;chunk_size&apos;,&#32;&apos;use_sbx&apos;,&#32;&apos;dis_c&apos;,&#32;&apos;dis_m&apos;,&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00318"/>00318 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&apos;iso_sigma&apos;,&#32;and&#32;&apos;line_sigma&apos;.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00319"/>00319 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cma_params:&#32;Dictionary&#32;containing&#32;CMA-ES-specific&#32;parameters&#32;such&#32;as&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00320"/>00320 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&apos;cma_generations&apos;.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00321"/>00321 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00322"/>00322 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00323"/>00323 &#32;&#32;&#32;&#32;generations&#32;=&#32;me_params.get(<emphasis role="stringliteral">&apos;generations&apos;</emphasis>,&#32;10)&#32;
<anchor xml:id="_mapelites_8py_source_1l00324"/>00324 &#32;&#32;&#32;&#32;chunk_size&#32;=&#32;me_params.get(<emphasis role="stringliteral">&apos;chunk_size&apos;</emphasis>,&#32;20)&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00325"/><link linkend="_namespacefcmaes_1_1mapelites_1a04bcf57530df0bef091b00ceb8e9d44a">00325</link> &#32;&#32;&#32;&#32;use_sbx&#32;=&#32;me_params.get(<emphasis role="stringliteral">&apos;use_sbx&apos;</emphasis>,&#32;<emphasis role="keyword">True</emphasis>)&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00326"/>00326 &#32;&#32;&#32;&#32;dis_c&#32;=&#32;me_params.get(<emphasis role="stringliteral">&apos;dis_c&apos;</emphasis>,&#32;20)&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00327"/>00327 &#32;&#32;&#32;&#32;dis_m&#32;=&#32;me_params.get(<emphasis role="stringliteral">&apos;dis_m&apos;</emphasis>,&#32;20)&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00328"/>00328 &#32;&#32;&#32;&#32;iso_sigma&#32;=&#32;me_params.get(<emphasis role="stringliteral">&apos;iso_sigma&apos;</emphasis>,&#32;0.02)
<anchor xml:id="_mapelites_8py_source_1l00329"/>00329 &#32;&#32;&#32;&#32;line_sigma&#32;=&#32;me_params.get(<emphasis role="stringliteral">&apos;line_sigma&apos;</emphasis>,&#32;0.2)
<anchor xml:id="_mapelites_8py_source_1l00330"/>00330 &#32;&#32;&#32;&#32;cma_generations&#32;=&#32;cma_params.get(<emphasis role="stringliteral">&apos;cma_generations&apos;</emphasis>,&#32;20)
<anchor xml:id="_mapelites_8py_source_1l00331"/>00331 &#32;&#32;&#32;&#32;select_n&#32;=&#32;archive.capacity
<anchor xml:id="_mapelites_8py_source_1l00332"/>00332 &#32;&#32;&#32;&#32;<emphasis role="keyword">with</emphasis>&#32;threadpoolctl.threadpool_limits(limits=1,&#32;user_api=<emphasis role="stringliteral">&quot;blas&quot;</emphasis>):
<anchor xml:id="_mapelites_8py_source_1l00333"/>00333 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;_&#32;<emphasis role="keywordflow">in</emphasis>&#32;range(generations):&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00334"/>00334 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;use_sbx:
<anchor xml:id="_mapelites_8py_source_1l00335"/>00335 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;pop&#32;=&#32;archive.random_xs(select_n,&#32;chunk_size,&#32;rg)
<anchor xml:id="_mapelites_8py_source_1l00336"/>00336 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;xs&#32;=&#32;<link linkend="_namespacefcmaes_1_1mapelites_1a5f70b23800f6a77b08d918f5aa0f9b3d">variation_</link>(pop,&#32;bounds.lb,&#32;bounds.ub,&#32;rg,&#32;dis_c,&#32;dis_m)
<anchor xml:id="_mapelites_8py_source_1l00337"/>00337 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:
<anchor xml:id="_mapelites_8py_source_1l00338"/>00338 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x1&#32;=&#32;archive.random_xs(select_n,&#32;chunk_size,&#32;rg)
<anchor xml:id="_mapelites_8py_source_1l00339"/>00339 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x2&#32;=&#32;archive.random_xs(select_n,&#32;chunk_size,&#32;rg)
<anchor xml:id="_mapelites_8py_source_1l00340"/>00340 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;xs&#32;=&#32;<link linkend="_namespacefcmaes_1_1mapelites_1aa557fd895bcaf40f495273ef16953c11">iso_dd_</link>(x1,&#32;x2,&#32;bounds.lb,&#32;bounds.ub,&#32;rg,&#32;iso_sigma,&#32;line_sigma)&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00341"/>00341 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;yds&#32;=&#32;[fitness(x)&#32;<emphasis role="keywordflow">for</emphasis>&#32;x&#32;<emphasis role="keywordflow">in</emphasis>&#32;xs]
<anchor xml:id="_mapelites_8py_source_1l00342"/>00342 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;descs&#32;=&#32;np.array([yd[1]&#32;<emphasis role="keywordflow">for</emphasis>&#32;yd&#32;<emphasis role="keywordflow">in</emphasis>&#32;yds])
<anchor xml:id="_mapelites_8py_source_1l00343"/>00343 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;niches&#32;=&#32;archive.index_of_niches(descs)
<anchor xml:id="_mapelites_8py_source_1l00344"/>00344 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;range(len(yds)):
<anchor xml:id="_mapelites_8py_source_1l00345"/>00345 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive.set(niches[i],&#32;yds[i],&#32;xs[i])&#32;
<anchor xml:id="_mapelites_8py_source_1l00346"/>00346 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive.argsort()&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00347"/>00347 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;select_n&#32;=&#32;archive.get_occupied()&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00348"/>00348 &#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00349"/>00349 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;_&#32;<emphasis role="keywordflow">in</emphasis>&#32;range(cma_generations):&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00350"/>00350 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespacefcmaes_1_1mapelites_1addca945e57b8fc097ca552903b98187f">optimize_cma_</link>(archive,&#32;fitness,&#32;bounds,&#32;rg,&#32;cma_params)&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00351"/>00351 
<anchor xml:id="_mapelites_8py_source_1l00352"/>00352 <emphasis role="keyword">def&#32;</emphasis><link linkend="_namespacefcmaes_1_1mapelites_1addca945e57b8fc097ca552903b98187f">optimize_cma_</link>(archive,&#32;fitness,&#32;bounds,&#32;rg,&#32;cma_params):
<anchor xml:id="_mapelites_8py_source_1l00353"/>00353 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00354"/>00354 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Optimizes&#32;a&#32;solution&#32;using&#32;the&#32;Covariance&#32;Matrix&#32;Adaptation&#32;Evolution&#32;Strategy&#32;(CMA-ES).</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00355"/>00355 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;The&#32;function&#32;utilizes&#32;the&#32;process&#32;of&#32;evolutionary&#32;optimization&#32;based&#32;on&#32;objective&#32;fitness,</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00356"/>00356 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;adaptive&#32;step&#32;size,&#32;and&#32;population-based&#32;approach.&#32;It&#32;leverages&#32;a&#32;provided&#32;archive&#32;to&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00357"/>00357 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;introduce&#32;variations&#32;in&#32;the&#32;space&#32;of&#32;potential&#32;solutions.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00358"/>00358 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00359"/>00359 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00360"/>00360 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive:&#32;An&#32;instance&#32;of&#32;a&#32;solution&#32;archive&#32;storing&#32;previously&#32;evaluated&#32;solutions&#32;and</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00361"/>00361 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;assisting&#32;in&#32;generating&#32;new&#32;candidate&#32;solutions.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00362"/>00362 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fitness:&#32;A&#32;callable&#32;fitness&#32;function&#32;to&#32;evaluate&#32;the&#32;quality&#32;of&#32;solutions.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00363"/>00363 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bounds:&#32;The&#32;bounds&#32;or&#32;constraints&#32;of&#32;the&#32;solution&#32;space&#32;to&#32;limit&#32;candidate&#32;solutions.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00364"/>00364 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;rg:&#32;A&#32;random&#32;generator&#32;instance&#32;used&#32;to&#32;introduce&#32;stochasticity&#32;in&#32;optimization&#32;steps.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00365"/>00365 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cma_params:&#32;A&#32;dictionary&#32;containing&#32;configuration&#32;parameters&#32;for&#32;the&#32;CMA-ES&#32;optimizer,</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00366"/>00366 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;such&#32;as&#32;population&#32;size,&#32;sigma&#32;(step&#32;size),&#32;maximum&#32;iterations,&#32;and&#32;other&#32;hyperparameters.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00367"/>00367 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00368"/>00368 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Raises:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00369"/>00369 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ValueError:&#32;If&#32;parameters&#32;in&#32;cma_params&#32;are&#32;invalid&#32;(e.g.,&#32;negative&#32;population&#32;size).</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00370"/>00370 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00371"/>00371 &#32;&#32;&#32;&#32;select_n&#32;=&#32;cma_params.get(<emphasis role="stringliteral">&apos;best_n&apos;</emphasis>,&#32;100)
<anchor xml:id="_mapelites_8py_source_1l00372"/>00372 &#32;&#32;&#32;&#32;x0,&#32;y,&#32;iter&#32;=&#32;archive.random_xs_one(select_n,&#32;rg)
<anchor xml:id="_mapelites_8py_source_1l00373"/>00373 &#32;&#32;&#32;&#32;sigma&#32;=&#32;cma_params.get(<emphasis role="stringliteral">&apos;sigma&apos;</emphasis>,rg.uniform(0.03,&#32;0.3)**2)
<anchor xml:id="_mapelites_8py_source_1l00374"/><link linkend="_namespacefcmaes_1_1mapelites_1addca945e57b8fc097ca552903b98187f">00374</link> &#32;&#32;&#32;&#32;popsize&#32;=&#32;cma_params.get(<emphasis role="stringliteral">&apos;popsize&apos;</emphasis>,&#32;31)&#32;
<anchor xml:id="_mapelites_8py_source_1l00375"/>00375 &#32;&#32;&#32;&#32;es&#32;=&#32;<link linkend="_classfcmaes_1_1cmaescpp_1_1_a_c_m_a___c">cmaescpp.ACMA_C</link>(archive.dim,&#32;bounds,&#32;x0&#32;=&#32;x0,&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00376"/>00376 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;popsize&#32;=&#32;popsize,&#32;input_sigma&#32;=&#32;sigma,&#32;rg&#32;=&#32;rg)
<anchor xml:id="_mapelites_8py_source_1l00377"/>00377 &#32;&#32;&#32;&#32;maxiters&#32;=&#32;cma_params.get(<emphasis role="stringliteral">&apos;maxiters&apos;</emphasis>,&#32;100)
<anchor xml:id="_mapelites_8py_source_1l00378"/>00378 &#32;&#32;&#32;&#32;stall_criterion&#32;=&#32;cma_params.get(<emphasis role="stringliteral">&apos;stall_criterion&apos;</emphasis>,&#32;5)
<anchor xml:id="_mapelites_8py_source_1l00379"/>00379 &#32;&#32;&#32;&#32;old_ys&#32;=&#32;<emphasis role="keywordtype">None</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00380"/>00380 &#32;&#32;&#32;&#32;last_improve&#32;=&#32;0
<anchor xml:id="_mapelites_8py_source_1l00381"/>00381 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;iter&#32;<emphasis role="keywordflow">in</emphasis>&#32;range(maxiters):
<anchor xml:id="_mapelites_8py_source_1l00382"/>00382 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;xs&#32;=&#32;es.ask()
<anchor xml:id="_mapelites_8py_source_1l00383"/>00383 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;improvement,&#32;ys&#32;=&#32;<link linkend="_namespacefcmaes_1_1mapelites_1a86f7f0503dc82b70b87a882b49a95f23">update_archive</link>(archive,&#32;xs,&#32;fitness)
<anchor xml:id="_mapelites_8py_source_1l00384"/>00384 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;iter&#32;&gt;&#32;0:
<anchor xml:id="_mapelites_8py_source_1l00385"/>00385 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(np.sort(ys)&#32;&lt;&#32;old_ys).any():
<anchor xml:id="_mapelites_8py_source_1l00386"/>00386 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;last_improve&#32;=&#32;iter&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00387"/>00387 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;last_improve&#32;+&#32;stall_criterion&#32;&lt;&#32;iter:
<anchor xml:id="_mapelites_8py_source_1l00388"/>00388 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;no&#32;improvement</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00389"/>00389 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00390"/>00390 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;es.tell(improvement)&#32;!=&#32;0:
<anchor xml:id="_mapelites_8py_source_1l00391"/>00391 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>&#32;
<anchor xml:id="_mapelites_8py_source_1l00392"/>00392 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;old_ys&#32;=&#32;np.sort(ys)
<anchor xml:id="_mapelites_8py_source_1l00393"/>00393 
<anchor xml:id="_mapelites_8py_source_1l00394"/>00394 <emphasis role="preprocessor">@np.errstate(invalid=&apos;ignore&apos;)</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00395"/>00395 <emphasis role="keyword">def&#32;</emphasis><link linkend="_namespacefcmaes_1_1mapelites_1a86f7f0503dc82b70b87a882b49a95f23">update_archive</link>(archive:&#32;Archive,&#32;xs:&#32;np.ndarray,&#32;
<anchor xml:id="_mapelites_8py_source_1l00396"/>00396 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fitness:&#32;Optional[Callable[[ArrayLike],&#32;Tuple[float,&#32;np.ndarray]]]&#32;=&#32;<emphasis role="keywordtype">None</emphasis>,
<anchor xml:id="_mapelites_8py_source_1l00397"/>00397 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;yds:&#32;Optional[ArrayLike]&#32;=&#32;<emphasis role="keywordtype">None</emphasis>):
<anchor xml:id="_mapelites_8py_source_1l00398"/>00398 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00399"/>00399 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Evaluates&#32;a&#32;population,&#32;updates&#32;the&#32;archive&#32;with&#32;new&#32;solutions,&#32;and&#32;determines&#32;rankings.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00400"/>00400 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00401"/>00401 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;This&#32;function&#32;processes&#32;a&#32;set&#32;of&#32;solutions&#32;and&#32;their&#32;associated&#32;descriptions&#32;or&#32;fitness</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00402"/>00402 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;evaluations.&#32;The&#32;solutions&#32;are&#32;compared&#32;against&#32;an&#32;archive&#32;to&#32;determine&#32;and&#32;store&#32;better</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00403"/>00403 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;solutions.&#32;It&#32;prioritizes&#32;updates&#32;to&#32;empty&#32;niches&#32;in&#32;the&#32;archive&#32;and&#32;normalizes&#32;improvements</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00404"/>00404 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;for&#32;comparisons.&#32;The&#32;function&#32;finally&#32;returns&#32;the&#32;improvement&#32;values&#32;and&#32;the&#32;real&#32;fitness</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00405"/>00405 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;values&#32;for&#32;the&#32;solutions.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00406"/>00406 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00407"/>00407 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00408"/>00408 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive&#32;(Archive):&#32;The&#32;archive&#32;object&#32;where&#32;solutions&#32;and&#32;corresponding&#32;fitness&#32;data&#32;are&#32;stored.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00409"/>00409 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;xs&#32;(np.ndarray):&#32;A&#32;set&#32;of&#32;solutions&#32;to&#32;be&#32;evaluated&#32;and&#32;compared&#32;against&#32;the&#32;archive.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00410"/>00410 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fitness&#32;(Optional[Callable[[ArrayLike],&#32;Tuple[float,&#32;np.ndarray]]]):&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00411"/>00411 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;A&#32;callable&#32;function&#32;that&#32;evaluates&#32;a&#32;solution&#32;and&#32;returns&#32;its&#32;fitness&#32;value&#32;and&#32;description.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00412"/>00412 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;yds&#32;(Optional[ArrayLike]):&#32;Precomputed&#32;fitness&#32;values&#32;and&#32;descriptions,&#32;if&#32;available.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00413"/>00413 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00414"/>00414 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00415"/>00415 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Tuple[np.ndarray,&#32;np.ndarray]:&#32;A&#32;tuple&#32;containing:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00416"/>00416 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;-&#32;Improvement&#32;values&#32;compared&#32;to&#32;archive&#32;elite&#32;solutions.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00417"/>00417 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;-&#32;The&#32;real&#32;fitness&#32;values&#32;evaluated&#32;for&#32;the&#32;given&#32;solutions.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00418"/>00418 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00419"/>00419 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Raises:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00420"/>00420 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ValueError:&#32;If&#32;`ys`&#32;or&#32;`yds`&#32;contain&#32;invalid&#32;or&#32;mismatched&#32;content.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00421"/>00421 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00422"/>00422 &#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;evaluate&#32;population,&#32;update&#32;archive&#32;and&#32;determine&#32;ranking</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00423"/><link linkend="_namespacefcmaes_1_1mapelites_1a86f7f0503dc82b70b87a882b49a95f23">00423</link> &#32;&#32;&#32;&#32;popsize&#32;=&#32;len(xs)
<anchor xml:id="_mapelites_8py_source_1l00424"/>00424 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;yds&#32;<emphasis role="keywordflow">is</emphasis>&#32;<emphasis role="keywordtype">None</emphasis>:&#32;
<anchor xml:id="_mapelites_8py_source_1l00425"/>00425 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;yds&#32;=&#32;[fitness(x)&#32;<emphasis role="keywordflow">for</emphasis>&#32;x&#32;<emphasis role="keywordflow">in</emphasis>&#32;xs]
<anchor xml:id="_mapelites_8py_source_1l00426"/>00426 &#32;&#32;&#32;&#32;descs&#32;=&#32;np.array([yd[1]&#32;<emphasis role="keywordflow">for</emphasis>&#32;yd&#32;<emphasis role="keywordflow">in</emphasis>&#32;yds])
<anchor xml:id="_mapelites_8py_source_1l00427"/>00427 &#32;&#32;&#32;&#32;niches&#32;=&#32;archive.index_of_niches(descs)
<anchor xml:id="_mapelites_8py_source_1l00428"/>00428 &#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;real&#32;values</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00429"/>00429 &#32;&#32;&#32;&#32;ys&#32;=&#32;np.fromiter((yd[0]&#32;<emphasis role="keywordflow">for</emphasis>&#32;yd&#32;<emphasis role="keywordflow">in</emphasis>&#32;yds),&#32;dtype=float)
<anchor xml:id="_mapelites_8py_source_1l00430"/>00430 &#32;&#32;&#32;&#32;oldys&#32;=&#32;np.fromiter((archive.get_y(niches[i])&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;range(popsize)),&#32;dtype=float)
<anchor xml:id="_mapelites_8py_source_1l00431"/>00431 &#32;&#32;&#32;&#32;improvement&#32;=&#32;ys&#32;-&#32;oldys
<anchor xml:id="_mapelites_8py_source_1l00432"/>00432 &#32;&#32;&#32;&#32;neg&#32;=&#32;np.argwhere(improvement&#32;&lt;&#32;0)
<anchor xml:id="_mapelites_8py_source_1l00433"/>00433 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;len(neg)&#32;&gt;&#32;0:
<anchor xml:id="_mapelites_8py_source_1l00434"/>00434 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;neg&#32;=&#32;neg.reshape((len(neg)))
<anchor xml:id="_mapelites_8py_source_1l00435"/>00435 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;update&#32;archive&#32;for&#32;all&#32;real&#32;improvements</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00436"/>00436 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;neg:
<anchor xml:id="_mapelites_8py_source_1l00437"/>00437 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive.set(niches[i],&#32;yds[i],&#32;xs[i])
<anchor xml:id="_mapelites_8py_source_1l00438"/>00438 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;prioritize&#32;empty&#32;niches</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00439"/>00439 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;empty&#32;=&#32;(improvement&#32;==&#32;-np.inf)&#32;<emphasis role="comment">#&#32;these&#32;need&#32;to&#32;be&#32;sorted&#32;according&#32;to&#32;fitness</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00440"/>00440 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;occupied&#32;=&#32;np.logical_not(empty)
<anchor xml:id="_mapelites_8py_source_1l00441"/>00441 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;min_valid&#32;=&#32;np.amin(improvement[occupied])&#32;<emphasis role="keywordflow">if</emphasis>&#32;sum(occupied)&#32;&gt;&#32;0&#32;<emphasis role="keywordflow">else</emphasis>&#32;0
<anchor xml:id="_mapelites_8py_source_1l00442"/>00442 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;norm_ys&#32;=&#32;ys[empty]&#32;-&#32;np.amax(ys)&#32;-&#32;1E-9
<anchor xml:id="_mapelites_8py_source_1l00443"/>00443 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;improvement[empty]&#32;=&#32;min_valid&#32;+&#32;norm_ys
<anchor xml:id="_mapelites_8py_source_1l00444"/>00444 &#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;return&#32;both&#32;improvement&#32;compared&#32;to&#32;archive&#32;elites&#32;&#32;and&#32;real&#32;fitness</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00445"/>00445 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;improvement,&#32;ys
<anchor xml:id="_mapelites_8py_source_1l00446"/>00446 
<anchor xml:id="_mapelites_8py_source_1l00447"/>00447 <emphasis role="preprocessor">@njit()</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00448"/>00448 <emphasis role="keyword">def&#32;</emphasis><link linkend="_namespacefcmaes_1_1mapelites_1a5c3c74816cffd5997c0f9e897205abc8">get_grid_indices</link>(ds,&#32;capacity,&#32;lb,&#32;ub):
<anchor xml:id="_mapelites_8py_source_1l00449"/>00449 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00450"/>00450 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Computes&#32;and&#32;returns&#32;grid&#32;indices&#32;for&#32;a&#32;dataset&#32;based&#32;on&#32;the&#32;provided&#32;grid</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00451"/>00451 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;capacity,&#32;lower,&#32;and&#32;upper&#32;bounds.&#32;Each&#32;point&#32;in&#32;the&#32;dataset&#32;is&#32;normalized</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00452"/>00452 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;and&#32;then&#32;converted&#32;into&#32;a&#32;grid&#32;index&#32;using&#32;the&#32;specified&#32;parameters.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00453"/>00453 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00454"/>00454 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00455"/>00455 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ds&#32;(np.ndarray):&#32;Input&#32;dataset&#32;(2D&#32;numpy&#32;array)&#32;where&#32;each&#32;row&#32;is&#32;a&#32;point</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00456"/>00456 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;in&#32;a&#32;multi-dimensional&#32;space.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00457"/>00457 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;capacity&#32;(int):&#32;Total&#32;number&#32;of&#32;grid&#32;cells&#32;(capacity&#32;of&#32;the&#32;grid).</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00458"/>00458 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lb&#32;(np.ndarray):&#32;Lower&#32;bounds&#32;of&#32;the&#32;dataset&#32;in&#32;each&#32;dimension.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00459"/>00459 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ub&#32;(np.ndarray):&#32;Upper&#32;bounds&#32;of&#32;the&#32;dataset&#32;in&#32;each&#32;dimension.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00460"/>00460 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00461"/>00461 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00462"/>00462 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;An&#32;array&#32;of&#32;grid&#32;indices,&#32;where&#32;each&#32;index&#32;corresponds&#32;to&#32;a</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00463"/>00463 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;point&#32;in&#32;the&#32;input&#32;dataset.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00464"/>00464 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00465"/>00465 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00466"/>00466 &#32;&#32;&#32;&#32;rdim&#32;=&#32;int(capacity&#32;**&#32;(1/ds.shape[1])&#32;+&#32;0.5)
<anchor xml:id="_mapelites_8py_source_1l00467"/>00467 &#32;&#32;&#32;&#32;ds_norm&#32;=&#32;(ds&#32;-&#32;lb)&#32;/&#32;(ub&#32;-&#32;lb)
<anchor xml:id="_mapelites_8py_source_1l00468"/>00468 &#32;&#32;&#32;&#32;indices&#32;=&#32;np.empty(len(ds),&#32;dtype=np.int32)&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00469"/><link linkend="_namespacefcmaes_1_1mapelites_1a5c3c74816cffd5997c0f9e897205abc8">00469</link> &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;i,&#32;d&#32;<emphasis role="keywordflow">in</emphasis>&#32;enumerate(ds_norm):
<anchor xml:id="_mapelites_8py_source_1l00470"/>00470 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;index&#32;=&#32;0
<anchor xml:id="_mapelites_8py_source_1l00471"/>00471 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;f&#32;=&#32;1
<anchor xml:id="_mapelites_8py_source_1l00472"/>00472 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;di&#32;<emphasis role="keywordflow">in</emphasis>&#32;d:
<anchor xml:id="_mapelites_8py_source_1l00473"/>00473 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;index&#32;+=&#32;f&#32;*&#32;int(rdim*di)
<anchor xml:id="_mapelites_8py_source_1l00474"/>00474 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;f&#32;*=&#32;rdim
<anchor xml:id="_mapelites_8py_source_1l00475"/>00475 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;indices[i]&#32;=&#32;max(0,&#32;min(capacity-1,&#32;int(index)))&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00476"/>00476 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;indices
<anchor xml:id="_mapelites_8py_source_1l00477"/>00477 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00478"/>00478 <emphasis role="keyword">class&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive">Archive</link>(object):
<anchor xml:id="_mapelites_8py_source_1l00479"/>00479 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;Handles&#32;the&#32;storage,&#32;organization,&#32;and&#32;management&#32;of&#32;solutions&#32;in&#32;a&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00480"/>00480 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;multi-dimensional&#32;archive&#32;for&#32;Quality-Diversity&#32;optimization.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00481"/>00481 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00482"/>00482 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;The&#32;Archive&#32;class&#32;allows&#32;for&#32;storing&#32;solutions&#32;with&#32;associated&#32;features&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00483"/>00483 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;and&#32;fitness&#32;values,&#32;clustering&#32;them&#32;into&#32;niches,&#32;and&#32;updating&#32;the&#32;archive&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00484"/>00484 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;based&#32;on&#32;improvements&#32;to&#32;the&#32;corresponding&#32;niches.&#32;The&#32;class&#32;also&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00485"/>00485 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;provides&#32;methods&#32;to&#32;retrieve&#32;statistical&#32;data&#32;on&#32;stored&#32;solutions&#32;as&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00486"/>00486 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;well&#32;as&#32;mechanisms&#32;for&#32;saving/loading&#32;the&#32;archive&#32;state.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00487"/>00487 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00488"/>00488 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Attributes:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00489"/>00489 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dim&#32;(int):&#32;Dimensionality&#32;of&#32;the&#32;solution&#32;vectors.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00490"/>00490 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_dim&#32;(int):&#32;Dimensionality&#32;of&#32;the&#32;quality-diversity&#32;descriptors.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00491"/>00491 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_bounds&#32;(Bounds):&#32;Bounds&#32;for&#32;the&#32;quality-diversity&#32;descriptors.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00492"/>00492 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;desc_lb&#32;(ndarray):&#32;Lower&#32;bounds&#32;for&#32;the&#32;descriptors.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00493"/>00493 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;desc_scale&#32;(ndarray):&#32;Scale&#32;of&#32;the&#32;descriptor&#32;bounds,&#32;calculated&#32;as&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00494"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive">00494</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;difference&#32;between&#32;upper&#32;and&#32;lower&#32;bounds.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00495"/>00495 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;capacity&#32;(int):&#32;Maximum&#32;capacity&#32;of&#32;the&#32;archive&#32;in&#32;terms&#32;of&#32;number&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00496"/>00496 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;of&#32;solutions&#32;that&#32;can&#32;be&#32;stored.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00497"/>00497 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;name&#32;(Optional[str]):&#32;Optional&#32;name&#32;for&#32;the&#32;archive.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00498"/>00498 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;use_stats&#32;(bool):&#32;Flag&#32;to&#32;determine&#32;if&#32;solution&#32;statistics&#32;such&#32;as&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00499"/>00499 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mean,&#32;standard&#32;deviation,&#32;min,&#32;max,&#32;etc.,&#32;should&#32;be&#32;collected.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00500"/>00500 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00501"/>00501 &#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00502"/>00502 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ae996ab317d60b697d3c339df9335a60f">__init__</link>(self,&#32;
<anchor xml:id="_mapelites_8py_source_1l00503"/>00503 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dim:&#32;int,
<anchor xml:id="_mapelites_8py_source_1l00504"/>00504 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_bounds:&#32;Bounds,
<anchor xml:id="_mapelites_8py_source_1l00505"/>00505 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;capacity:&#32;int,&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00506"/>00506 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;name:&#32;Optional[str]&#32;=&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>,
<anchor xml:id="_mapelites_8py_source_1l00507"/>00507 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;use_stats&#32;=&#32;<emphasis role="keyword">False</emphasis>&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00508"/>00508 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;):
<anchor xml:id="_mapelites_8py_source_1l00509"/>00509 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00510"/>00510 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Initializes&#32;an&#32;instance&#32;of&#32;the&#32;class&#32;with&#32;specified&#32;parameters.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00511"/>00511 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00512"/>00512 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00513"/>00513 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dim&#32;(int):&#32;Dimensionality&#32;of&#32;the&#32;data&#32;to&#32;be&#32;handled.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00514"/>00514 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_bounds&#32;(Bounds):&#32;An&#32;object&#32;representing&#32;the&#32;lower&#32;and&#32;upper&#32;bounds&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00515"/>00515 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;for&#32;the&#32;QD&#32;space.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00516"/>00516 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;capacity&#32;(int):&#32;Maximum&#32;capacity&#32;or&#32;size&#32;to&#32;store&#32;elements.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00517"/>00517 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;name&#32;(Optional[str]):&#32;Optional&#32;string&#32;name&#32;identifier&#32;for&#32;the&#32;instance.&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00518"/>00518 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Defaults&#32;to&#32;an&#32;empty&#32;string.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00519"/>00519 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;use_stats&#32;(bool):&#32;Indicates&#32;whether&#32;to&#32;use&#32;statistics&#32;in&#32;computations&#32;or&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00520"/>00520 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;operations.&#32;Defaults&#32;to&#32;False.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00521"/>00521 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00522"/>00522 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab255103df42bedc30ec7132cfc618122">dim</link>&#32;=&#32;dim
<anchor xml:id="_mapelites_8py_source_1l00523"/>00523 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7321ff2715dbc2d3258e2e880d48ef43">qd_dim</link>&#32;=&#32;len(qd_bounds.lb)
<anchor xml:id="_mapelites_8py_source_1l00524"/>00524 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aaf23b4a84332dd3988c05887f896bdb3">qd_bounds</link>&#32;=&#32;Bounds(np.array(qd_bounds.lb),&#32;np.array(qd_bounds.ub))
<anchor xml:id="_mapelites_8py_source_1l00525"/>00525 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1acef7919c3b7f9798628857f25de27d3c">desc_lb</link>&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aaf23b4a84332dd3988c05887f896bdb3">qd_bounds</link>.lb
<anchor xml:id="_mapelites_8py_source_1l00526"/>00526 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ae3f63fce62db86da46ee146bf27293c3">desc_scale</link>&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aaf23b4a84332dd3988c05887f896bdb3">qd_bounds</link>.ub&#32;-&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aaf23b4a84332dd3988c05887f896bdb3">qd_bounds</link>.lb
<anchor xml:id="_mapelites_8py_source_1l00527"/>00527 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>&#32;=&#32;capacity
<anchor xml:id="_mapelites_8py_source_1l00528"/>00528 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a41d911980a52f7f5c409af9b3a258124">name</link>&#32;=&#32;name
<anchor xml:id="_mapelites_8py_source_1l00529"/>00529 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a2421ccea4dec3cbb9bef589d1a3209f9">cs</link>&#32;=&#32;<emphasis role="keywordtype">None</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00530"/>00530 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1abbcf8dde9401f4b34d4669a064e12373">lock</link>&#32;=&#32;mp.Lock()
<anchor xml:id="_mapelites_8py_source_1l00531"/>00531 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a1d6bb3c3d671d59cd6c48cc30574652d">use_stats</link>&#32;=&#32;use_stats
<anchor xml:id="_mapelites_8py_source_1l00532"/>00532 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1adae25149d74e878d190a51a3075af9bc">reset</link>()
<anchor xml:id="_mapelites_8py_source_1l00533"/>00533 &#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00534"/>00534 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1adae25149d74e878d190a51a3075af9bc">reset</link>(self):
<anchor xml:id="_mapelites_8py_source_1l00535"/>00535 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00536"/>00536 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resets&#32;the&#32;internal&#32;state&#32;of&#32;the&#32;object&#32;to&#32;its&#32;initial&#32;configuration&#32;by&#32;reinitializing&#32;its&#32;shared</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00537"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ae996ab317d60b697d3c339df9335a60f">00537</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;data&#32;structures&#32;and&#32;clearing&#32;any&#32;stored&#32;values.&#32;This&#32;allows&#32;the&#32;object&#32;to&#32;reuse&#32;storage&#32;and&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00538"/>00538 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;resources&#32;effectively.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00539"/>00539 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00540"/>00540 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Attributes:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00541"/>00541 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;xs&#32;(Shared2d):&#32;A&#32;2D&#32;shared&#32;array&#32;initialized&#32;with&#32;an&#32;empty&#32;array&#32;of&#32;shape&#32;`(capacity,&#32;dim)`</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00542"/>00542 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;and&#32;data&#32;type&#32;`np.float64`.&#32;Represents&#32;the&#32;primary&#32;2D&#32;data&#32;storage.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00543"/>00543 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ds&#32;(Shared2d):&#32;A&#32;2D&#32;shared&#32;array&#32;initialized&#32;with&#32;an&#32;empty&#32;array&#32;of&#32;shape&#32;`(capacity,&#32;qd_dim)`</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00544"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab255103df42bedc30ec7132cfc618122">00544</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;and&#32;data&#32;type&#32;`np.float64`.&#32;Represents&#32;supplementary&#32;2D&#32;data&#32;storage.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00545"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7321ff2715dbc2d3258e2e880d48ef43">00545</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ys&#32;(mp.RawArray):&#32;A&#32;1D&#32;shared&#32;array&#32;initialized&#32;to&#32;hold&#32;float&#32;values,&#32;representing&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00546"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aaf23b4a84332dd3988c05887f896bdb3">00546</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;additional&#32;numeric&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00547"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1acef7919c3b7f9798628857f25de27d3c">00547</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;counts&#32;(mp.RawArray):&#32;A&#32;1D&#32;shared&#32;array&#32;initialized&#32;to&#32;hold&#32;integer&#32;long&#32;values,&#32;used&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00548"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ae3f63fce62db86da46ee146bf27293c3">00548</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;to&#32;maintain&#32;counts&#32;for&#32;each&#32;capacity&#32;slot.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00549"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">00549</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;occupied&#32;(mp.RawValue):&#32;A&#32;shared&#32;value&#32;for&#32;tracking&#32;the&#32;count&#32;of&#32;currently&#32;occupied&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00550"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a41d911980a52f7f5c409af9b3a258124">00550</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;slots&#32;in&#32;the&#32;storage.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00551"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a2421ccea4dec3cbb9bef589d1a3209f9">00551</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;stats&#32;(mp.RawArray):&#32;An&#32;optional&#32;shared&#32;array&#32;for&#32;maintaining&#32;statistical&#32;records.&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00552"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1abbcf8dde9401f4b34d4669a064e12373">00552</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Its&#32;size&#32;depends&#32;on&#32;the&#32;combination&#32;of&#32;`capacity`,&#32;`dim`,&#32;and&#32;the&#32;`use_stats`&#32;flag.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00553"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a1d6bb3c3d671d59cd6c48cc30574652d">00553</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;When&#32;`use_stats`&#32;is&#32;False,&#32;it&#32;is&#32;initialized&#32;with&#32;size&#32;`0`.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00554"/>00554 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00555"/>00555 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Raises:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00556"/>00556 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ValueError:&#32;Raised&#32;if&#32;any&#32;invalid&#32;or&#32;unexpected&#32;conditions&#32;arise&#32;during&#32;the&#32;reset&#32;operation,</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00557"/>00557 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;such&#32;as&#32;capacity&#32;mismatch,&#32;invalid&#32;dimensions,&#32;or&#32;unavailable&#32;memory&#32;for&#32;shared&#32;arrays.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00558"/>00558 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00559"/>00559 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a55043a25e987ca5ad6f1cfaf22c835a2">xs</link>&#32;=&#32;<link linkend="_classfcmaes_1_1retry_1_1_shared2d">Shared2d</link>(np.empty((self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab255103df42bedc30ec7132cfc618122">dim</link>),&#32;dtype&#32;=&#32;np.float64))
<anchor xml:id="_mapelites_8py_source_1l00560"/>00560 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a60f70e50d917a1db752b0a0124a8e756">ds</link>&#32;=&#32;<link linkend="_classfcmaes_1_1retry_1_1_shared2d">Shared2d</link>(np.empty((self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7321ff2715dbc2d3258e2e880d48ef43">qd_dim</link>),&#32;dtype&#32;=&#32;np.float64))
<anchor xml:id="_mapelites_8py_source_1l00561"/>00561 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a3976d13396ea59523d79e16b7d96f448">create_views</link>()
<anchor xml:id="_mapelites_8py_source_1l00562"/>00562 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1acb4c09718b6457bb5bfbb7f3773f7178">ys</link>&#32;=&#32;mp.RawArray(ct.c_double,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>)
<anchor xml:id="_mapelites_8py_source_1l00563"/>00563 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a17848162fe39d036fbc93aa58cc77b50">counts</link>&#32;=&#32;mp.RawArray(ct.c_long,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>)&#32;<emphasis role="comment">#&#32;count</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00564"/>00564 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab1c9fa575d5a8225ba10e8a40fd0d59b">occupied</link>&#32;=&#32;mp.RawValue(ct.c_long,&#32;0)
<anchor xml:id="_mapelites_8py_source_1l00565"/>00565 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ada2a26ca8d9683a969403f104a759c61">stats</link>&#32;=&#32;mp.RawArray(ct.c_double,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>&#32;*&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab255103df42bedc30ec7132cfc618122">dim</link>&#32;*&#32;4&#32;<emphasis role="keywordflow">if</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a1d6bb3c3d671d59cd6c48cc30574652d">use_stats</link>&#32;<emphasis role="keywordflow">else</emphasis>&#32;0)
<anchor xml:id="_mapelites_8py_source_1l00566"/>00566 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;range(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>):
<anchor xml:id="_mapelites_8py_source_1l00567"/>00567 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a17848162fe39d036fbc93aa58cc77b50">counts</link>[i]&#32;=&#32;0
<anchor xml:id="_mapelites_8py_source_1l00568"/>00568 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1afc25798d5b07a1addd68fc50cec1f3e5">set_y</link>(i,&#32;np.inf)&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00569"/>00569 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aba20d5a20cc178e6aa4f14538b54334f">ds_view</link>[i]&#32;=&#32;np.full(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7321ff2715dbc2d3258e2e880d48ef43">qd_dim</link>,&#32;np.inf)
<anchor xml:id="_mapelites_8py_source_1l00570"/>00570 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ada2a26ca8d9683a969403f104a759c61">stats</link>:
<anchor xml:id="_mapelites_8py_source_1l00571"/>00571 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a574aed6e61fc20fb94b479cb8fd5fc55">set_stat</link>(i,&#32;0,&#32;np.zeros(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab255103df42bedc30ec7132cfc618122">dim</link>))&#32;<emphasis role="comment">#&#32;mean</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00572"/>00572 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a574aed6e61fc20fb94b479cb8fd5fc55">set_stat</link>(i,&#32;1,&#32;np.zeros(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab255103df42bedc30ec7132cfc618122">dim</link>))&#32;<emphasis role="comment">#&#32;qmean</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00573"/>00573 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a574aed6e61fc20fb94b479cb8fd5fc55">set_stat</link>(i,&#32;2,&#32;np.full(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab255103df42bedc30ec7132cfc618122">dim</link>,&#32;np.inf))&#32;<emphasis role="comment">#&#32;min</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00574"/>00574 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a574aed6e61fc20fb94b479cb8fd5fc55">set_stat</link>(i,&#32;3,&#32;np.full(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab255103df42bedc30ec7132cfc618122">dim</link>,&#32;-np.inf))&#32;<emphasis role="comment">#&#32;max</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00575"/>00575 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00576"/>00576 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ac93d7c0f2200637a996a7b2802ff2e4b">init_niches</link>(self,&#32;samples_per_niche:&#32;int&#32;=&#32;10):
<anchor xml:id="_mapelites_8py_source_1l00577"/>00577 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00578"/>00578 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Initializes&#32;niches&#32;for&#32;clustering&#32;based&#32;on&#32;the&#32;specified&#32;sampling&#32;method&#32;and&#32;parameters.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00579"/>00579 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00580"/>00580 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;configures&#32;the&#32;clustering&#32;mode&#32;(CVT-clustering&#32;or&#32;grid-clustering)</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00581"/>00581 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;based&#32;on&#32;the&#32;`samples_per_niche`&#32;parameter.&#32;It&#32;also&#32;sets&#32;up&#32;necessary&#32;resources,</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00582"/>00582 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;such&#32;as&#32;a&#32;KDTree&#32;and&#32;shared&#32;memory&#32;for&#32;centroids,&#32;when&#32;CVT-clustering&#32;is&#32;selected.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00583"/>00583 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00584"/>00584 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00585"/>00585 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;samples_per_niche&#32;(int,&#32;optional):&#32;Defines&#32;the&#32;sampling&#32;strategy&#32;for&#32;niches.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00586"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1adae25149d74e878d190a51a3075af9bc">00586</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;If&#32;greater&#32;than&#32;0,&#32;CVT-clustering&#32;is&#32;used;&#32;otherwise,&#32;grid-clustering&#32;is&#32;used.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00587"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a55043a25e987ca5ad6f1cfaf22c835a2">00587</link> <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00588"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a60f70e50d917a1db752b0a0124a8e756">00588</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00589"/>00589 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;If&#32;samples_per_niche&#32;&gt;&#32;0&#32;cvt-clustering&#32;is&#32;used,&#32;else&#32;grid-clustering&#32;is&#32;used.&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00590"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1acb4c09718b6457bb5bfbb7f3773f7178">00590</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab750559fbd8fab712d01cf489c8d8cb9">cvt_clustering</link>&#32;=&#32;samples_per_niche&#32;&gt;&#32;0
<anchor xml:id="_mapelites_8py_source_1l00591"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a17848162fe39d036fbc93aa58cc77b50">00591</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab750559fbd8fab712d01cf489c8d8cb9">cvt_clustering</link>:
<anchor xml:id="_mapelites_8py_source_1l00592"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab1c9fa575d5a8225ba10e8a40fd0d59b">00592</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespacefcmaes_1_1mapelites_1ace0194d76906adbf0c0dd3db084f177c">set_KDTree</link>(self,&#32;<emphasis role="keywordtype">None</emphasis>,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aaf23b4a84332dd3988c05887f896bdb3">qd_bounds</link>,&#32;samples_per_niche)
<anchor xml:id="_mapelites_8py_source_1l00593"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ada2a26ca8d9683a969403f104a759c61">00593</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a2421ccea4dec3cbb9bef589d1a3209f9">cs</link>&#32;=&#32;mp.RawArray(ct.c_double,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>&#32;*&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7321ff2715dbc2d3258e2e880d48ef43">qd_dim</link>)
<anchor xml:id="_mapelites_8py_source_1l00594"/>00594 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7b98c28bd774c39099d0e41b1c38459d">set_cs</link>(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aa7d0f9677d34b82ef42b01e551011a4a">centers</link>)
<anchor xml:id="_mapelites_8py_source_1l00595"/>00595 &#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00596"/>00596 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ad4060a6948b61fe981b124afc8c12ba4">get_occupied_data</link>(self):
<anchor xml:id="_mapelites_8py_source_1l00597"/>00597 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00598"/>00598 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Retrieves&#32;the&#32;data&#32;points&#32;marked&#32;as&#32;&quot;occupied&quot;.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00599"/>00599 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00600"/>00600 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;processes&#32;the&#32;&apos;ys&apos;&#32;array&#32;(retrieved&#32;by&#32;the&#32;`get_ys`&#32;method)&#32;to&#32;identify</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00601"/>00601 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;elements&#32;corresponding&#32;to&#32;occupied&#32;data&#32;points.&#32;Occupied&#32;data&#32;points&#32;are&#32;determined</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00602"/>00602 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;by&#32;checking&#32;where&#32;the&#32;values&#32;in&#32;&apos;ys&apos;&#32;are&#32;less&#32;than&#32;positive&#32;infinity.&#32;Once&#32;identified,</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00603"/>00603 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;it&#32;returns&#32;the&#32;`ys`,&#32;`ds_view`,&#32;and&#32;`xs_view`&#32;data&#32;points&#32;corresponding&#32;to&#32;the</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00604"/>00604 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;occupied&#32;entries.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00605"/>00605 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00606"/>00606 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00607"/>00607 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;tuple:&#32;A&#32;tuple&#32;containing&#32;three&#32;arrays:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00608"/>00608 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;-&#32;The&#32;&apos;ys&apos;&#32;values&#32;for&#32;occupied&#32;data&#32;points.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00609"/>00609 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;-&#32;The&#32;corresponding&#32;&apos;ds_view&apos;&#32;values&#32;for&#32;occupied&#32;data&#32;points.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00610"/>00610 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;-&#32;The&#32;corresponding&#32;&apos;xs_view&apos;&#32;values&#32;for&#32;occupied&#32;data&#32;points.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00611"/>00611 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00612"/>00612 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ys&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a91c9f1ac5485896833fc7b9859b85af1">get_ys</link>()
<anchor xml:id="_mapelites_8py_source_1l00613"/>00613 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;occupied&#32;=&#32;(ys&#32;&lt;&#32;np.inf)
<anchor xml:id="_mapelites_8py_source_1l00614"/>00614 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;ys[occupied],&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aba20d5a20cc178e6aa4f14538b54334f">ds_view</link>[occupied],&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a6cbf2375b7948682ad57e3ef3d2f1dcb">xs_view</link>[occupied]&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00615"/>00615 &#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00616"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ac93d7c0f2200637a996a7b2802ff2e4b">00616</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7374d1c9c1cc25dbe1e472f9a01360da">join</link>(self,&#32;archive:&#32;Archive):
<anchor xml:id="_mapelites_8py_source_1l00617"/>00617 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00618"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab750559fbd8fab712d01cf489c8d8cb9">00618</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Joins&#32;data&#32;from&#32;the&#32;given&#32;archive&#32;into&#32;the&#32;current&#32;archive&#32;by&#32;retrieving&#32;and&#32;processing</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00619"/>00619 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;occupied&#32;data,&#32;assigning&#32;it&#32;to&#32;corresponding&#32;niches,&#32;and&#32;sorting&#32;the&#32;archive.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00620"/>00620 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00621"/>00621 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00622"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aa7d0f9677d34b82ef42b01e551011a4a">00622</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive&#32;(Archive):&#32;An&#32;archive&#32;containing&#32;data&#32;to&#32;be&#32;joined&#32;with&#32;the&#32;current&#32;archive.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00623"/>00623 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00624"/>00624 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ys,&#32;ds,&#32;xs&#32;=&#32;archive.get_occupied_data()
<anchor xml:id="_mapelites_8py_source_1l00625"/>00625 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;niches&#32;=&#32;archive.index_of_niches(ds)
<anchor xml:id="_mapelites_8py_source_1l00626"/>00626 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;yds&#32;=&#32;np.array([(y,&#32;d)&#32;<emphasis role="keywordflow">for</emphasis>&#32;y,&#32;d&#32;<emphasis role="keywordflow">in</emphasis>&#32;zip(ys,&#32;ds)])&#32;
<anchor xml:id="_mapelites_8py_source_1l00627"/>00627 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;range(len(ys)):
<anchor xml:id="_mapelites_8py_source_1l00628"/>00628 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive.set(niches[i],&#32;yds[i],&#32;xs[i])&#32;
<anchor xml:id="_mapelites_8py_source_1l00629"/>00629 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archive.argsort()&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00630"/>00630 
<anchor xml:id="_mapelites_8py_source_1l00631"/>00631 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a57b4373d065065bf5d4dbc7cc312c092">fname</link>(self,&#32;name):
<anchor xml:id="_mapelites_8py_source_1l00632"/>00632 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00633"/>00633 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Generates&#32;a&#32;formatted&#32;string&#32;using&#32;name,&#32;capacity,&#32;dimension,&#32;and&#32;quality-dimension</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00634"/>00634 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;values&#32;for&#32;a&#32;specific&#32;architecture.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00635"/>00635 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00636"/>00636 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00637"/>00637 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;name:&#32;The&#32;name&#32;string&#32;that&#32;will&#32;be&#32;included&#32;in&#32;the&#32;formatted&#32;output.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00638"/>00638 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00639"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ad4060a6948b61fe981b124afc8c12ba4">00639</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00640"/>00640 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;str:&#32;A&#32;formatted&#32;string&#32;in&#32;the&#32;format&#32;&apos;arch.{name}.{self.capacity}.{self.dim}.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00641"/>00641 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{self.qd_dim}&apos;.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00642"/>00642 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00643"/>00643 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;f<emphasis role="stringliteral">&apos;arch.{name}.{self.capacity}.{self.dim}.{self.qd_dim}&apos;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00644"/>00644 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00645"/>00645 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aedbfd9567b2d8da13a94da232465aa42">save</link>(self,&#32;name:&#32;str):
<anchor xml:id="_mapelites_8py_source_1l00646"/>00646 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00647"/>00647 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Saves&#32;the&#32;processed&#32;data&#32;and&#32;corresponding&#32;metadata&#32;in&#32;a&#32;compressed&#32;NPZ&#32;format.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00648"/>00648 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00649"/>00649 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;The&#32;method&#32;stores&#32;the&#32;data&#32;views&#32;such&#32;as&#32;xs&#32;(features),&#32;ds&#32;(distances),&#32;ys&#32;(labels),&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00650"/>00650 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;and&#32;other&#32;optional&#32;attributes&#32;like&#32;clustering&#32;and&#32;statistics&#32;in&#32;a&#32;compressed&#32;file.&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00651"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7374d1c9c1cc25dbe1e472f9a01360da">00651</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;The&#32;filename&#32;of&#32;the&#32;saved&#32;file&#32;is&#32;dynamically&#32;generated&#32;based&#32;on&#32;the&#32;provided&#32;name.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00652"/>00652 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00653"/>00653 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00654"/>00654 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;name:&#32;Name&#32;used&#32;to&#32;generate&#32;the&#32;filename&#32;for&#32;the&#32;saved&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00655"/>00655 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>&#32;
<anchor xml:id="_mapelites_8py_source_1l00656"/>00656 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.savez_compressed(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a57b4373d065065bf5d4dbc7cc312c092">fname</link>(name),&#32;
<anchor xml:id="_mapelites_8py_source_1l00657"/>00657 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;xs=self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a6cbf2375b7948682ad57e3ef3d2f1dcb">xs_view</link>,&#32;
<anchor xml:id="_mapelites_8py_source_1l00658"/>00658 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ds=self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aba20d5a20cc178e6aa4f14538b54334f">ds_view</link>,&#32;
<anchor xml:id="_mapelites_8py_source_1l00659"/>00659 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ys=self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a91c9f1ac5485896833fc7b9859b85af1">get_ys</link>(),&#32;
<anchor xml:id="_mapelites_8py_source_1l00660"/>00660 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cs=self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a9884e6696809729e69a167c91d245464">get_cs</link>()&#32;<emphasis role="keywordflow">if</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab750559fbd8fab712d01cf489c8d8cb9">cvt_clustering</link>&#32;<emphasis role="keywordflow">else</emphasis>&#32;np.empty(0),
<anchor xml:id="_mapelites_8py_source_1l00661"/>00661 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;stats=self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a97f1345584f4d25bd8a24af6cb7d7e4c">get_stats</link>(),
<anchor xml:id="_mapelites_8py_source_1l00662"/>00662 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;counts=self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1abfbc79753a308a9880da632d96b37d5c">get_counts</link>()
<anchor xml:id="_mapelites_8py_source_1l00663"/>00663 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;)
<anchor xml:id="_mapelites_8py_source_1l00664"/>00664 
<anchor xml:id="_mapelites_8py_source_1l00665"/>00665 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a62da9c6f511c298d1ef06d6af7600196">load</link>(self,&#32;name:&#32;str):
<anchor xml:id="_mapelites_8py_source_1l00666"/>00666 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00667"/>00667 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Loads&#32;data&#32;from&#32;a&#32;specified&#32;file&#32;into&#32;the&#32;current&#32;object,&#32;initializing&#32;or&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00668"/>00668 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;updating&#32;its&#32;properties&#32;and&#32;attributes.&#32;This&#32;method&#32;reads&#32;numpy&#32;data&#32;files&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00669"/>00669 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;and&#32;adjusts&#32;internal&#32;structures,&#32;such&#32;as&#32;clustering&#32;state,&#32;dimensions,&#32;capacity,&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00670"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a57b4373d065065bf5d4dbc7cc312c092">00670</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;and&#32;associated&#32;statistics&#32;based&#32;on&#32;the&#32;data&#32;provided.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00671"/>00671 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00672"/>00672 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00673"/>00673 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;name&#32;(str):&#32;The&#32;base&#32;name&#32;of&#32;the&#32;file&#32;from&#32;which&#32;to&#32;load&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00674"/>00674 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00675"/>00675 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Raises:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00676"/>00676 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;FileNotFoundError:&#32;If&#32;the&#32;file&#32;specified&#32;by&#32;the&#32;name&#32;parameter&#32;does&#32;not&#32;exist.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00677"/>00677 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ValueError:&#32;If&#32;the&#32;data&#32;in&#32;the&#32;file&#32;is&#32;inconsistent&#32;or&#32;incompatible&#32;with&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00678"/>00678 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;current&#32;object&apos;s&#32;structure.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00679"/>00679 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00680"/>00680 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a2421ccea4dec3cbb9bef589d1a3209f9">cs</link>&#32;=&#32;mp.RawArray(ct.c_double,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>&#32;*&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7321ff2715dbc2d3258e2e880d48ef43">qd_dim</link>)
<anchor xml:id="_mapelites_8py_source_1l00681"/>00681 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">with</emphasis>&#32;np.load(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a57b4373d065065bf5d4dbc7cc312c092">fname</link>(name)&#32;+&#32;<emphasis role="stringliteral">&apos;.npz&apos;</emphasis>)&#32;<emphasis role="keyword">as</emphasis>&#32;data:
<anchor xml:id="_mapelites_8py_source_1l00682"/>00682 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab750559fbd8fab712d01cf489c8d8cb9">cvt_clustering</link>&#32;=&#32;len(data[<emphasis role="stringliteral">&apos;cs&apos;</emphasis>])&#32;&gt;&#32;0
<anchor xml:id="_mapelites_8py_source_1l00683"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aedbfd9567b2d8da13a94da232465aa42">00683</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;xs&#32;=&#32;data[<emphasis role="stringliteral">&apos;xs&apos;</emphasis>]
<anchor xml:id="_mapelites_8py_source_1l00684"/>00684 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ds&#32;=&#32;data[<emphasis role="stringliteral">&apos;ds&apos;</emphasis>]
<anchor xml:id="_mapelites_8py_source_1l00685"/>00685 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a55043a25e987ca5ad6f1cfaf22c835a2">xs</link>.view()[:]&#32;=&#32;xs
<anchor xml:id="_mapelites_8py_source_1l00686"/>00686 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a60f70e50d917a1db752b0a0124a8e756">ds</link>.view()[:]&#32;=&#32;ds
<anchor xml:id="_mapelites_8py_source_1l00687"/>00687 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a06c36a088a4f1f50b63e7d0cdf1dcc40">set_ys</link>(data[<emphasis role="stringliteral">&apos;ys&apos;</emphasis>])
<anchor xml:id="_mapelites_8py_source_1l00688"/>00688 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab750559fbd8fab712d01cf489c8d8cb9">cvt_clustering</link>:
<anchor xml:id="_mapelites_8py_source_1l00689"/>00689 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7b98c28bd774c39099d0e41b1c38459d">set_cs</link>(data[<emphasis role="stringliteral">&apos;cs&apos;</emphasis>])
<anchor xml:id="_mapelites_8py_source_1l00690"/>00690 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a17848162fe39d036fbc93aa58cc77b50">counts</link>[:]&#32;=&#32;data[<emphasis role="stringliteral">&apos;counts&apos;</emphasis>]
<anchor xml:id="_mapelites_8py_source_1l00691"/>00691 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;stats&#32;=&#32;data[<emphasis role="stringliteral">&apos;stats&apos;</emphasis>]
<anchor xml:id="_mapelites_8py_source_1l00692"/>00692 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;len(stats)&#32;==&#32;len(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ada2a26ca8d9683a969403f104a759c61">stats</link>):
<anchor xml:id="_mapelites_8py_source_1l00693"/>00693 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a0e469ed5be63b9dd87ea220095b620b8">set_stats</link>(stats)
<anchor xml:id="_mapelites_8py_source_1l00694"/>00694 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab1c9fa575d5a8225ba10e8a40fd0d59b">occupied</link>.value&#32;=&#32;np.count_nonzero(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a91c9f1ac5485896833fc7b9859b85af1">get_ys</link>()&#32;&lt;&#32;np.inf)
<anchor xml:id="_mapelites_8py_source_1l00695"/>00695 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab255103df42bedc30ec7132cfc618122">dim</link>&#32;=&#32;xs.shape[1]
<anchor xml:id="_mapelites_8py_source_1l00696"/>00696 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7321ff2715dbc2d3258e2e880d48ef43">qd_dim</link>&#32;=&#32;ds.shape[1]
<anchor xml:id="_mapelites_8py_source_1l00697"/>00697 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>&#32;=&#32;xs.shape[0]
<anchor xml:id="_mapelites_8py_source_1l00698"/>00698 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab750559fbd8fab712d01cf489c8d8cb9">cvt_clustering</link>:
<anchor xml:id="_mapelites_8py_source_1l00699"/>00699 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespacefcmaes_1_1mapelites_1ace0194d76906adbf0c0dd3db084f177c">set_KDTree</link>(self,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a9884e6696809729e69a167c91d245464">get_cs</link>(),&#32;<emphasis role="keywordtype">None</emphasis>,&#32;<emphasis role="keywordtype">None</emphasis>,&#32;<emphasis role="keywordtype">None</emphasis>)
<anchor xml:id="_mapelites_8py_source_1l00700"/>00700 &#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00701"/>00701 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a6b4ef0e37ad2c67546dfbab83913c402">index_of_niches</link>(self,&#32;ds):
<anchor xml:id="_mapelites_8py_source_1l00702"/>00702 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00703"/>00703 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Determines&#32;the&#32;indices&#32;of&#32;the&#32;niches&#32;for&#32;the&#32;given&#32;data&#32;samples&#32;(ds)&#32;based&#32;on&#32;the&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00704"/>00704 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;clustering&#32;method&#32;used&#32;(either&#32;k-means&#32;clusters&#32;or&#32;grid-based&#32;clustering).</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00705"/>00705 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00706"/>00706 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00707"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a62da9c6f511c298d1ef06d6af7600196">00707</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ds:&#32;Input&#32;data&#32;samples&#32;for&#32;which&#32;the&#32;niche&#32;indices&#32;are&#32;to&#32;be&#32;determined.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00708"/>00708 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00709"/>00709 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00710"/>00710 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ndarray:&#32;Niche&#32;indices&#32;of&#32;the&#32;input&#32;data&#32;samples.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00711"/>00711 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00712"/>00712 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;hasattr(self,&#32;<emphasis role="stringliteral">&quot;kdt&quot;</emphasis>):&#32;<emphasis role="comment">#&#32;use&#32;k-means&#32;clusters</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00713"/>00713 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.kdt.query(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a4c0b220309e8100c4a104b29b9ca4898">encode_d</link>(ds),&#32;k=1,&#32;sort_results=<emphasis role="keyword">False</emphasis>)[1].T[0]&#32;
<anchor xml:id="_mapelites_8py_source_1l00714"/>00714 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:&#32;<emphasis role="comment">#&#32;use&#32;grid&#32;based&#32;clustering</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00715"/>00715 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_namespacefcmaes_1_1mapelites_1a5c3c74816cffd5997c0f9e897205abc8">get_grid_indices</link>(ds,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aaf23b4a84332dd3988c05887f896bdb3">qd_bounds</link>.lb,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aaf23b4a84332dd3988c05887f896bdb3">qd_bounds</link>.ub)
<anchor xml:id="_mapelites_8py_source_1l00716"/>00716 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00717"/>00717 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ac73f5b05c273a6238d1da2d70603b2af">in_niche_filter</link>(self,&#32;
<anchor xml:id="_mapelites_8py_source_1l00718"/>00718 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fit:&#32;Callable[[ArrayLike],&#32;float],&#32;
<anchor xml:id="_mapelites_8py_source_1l00719"/>00719 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;index:&#32;int):
<anchor xml:id="_mapelites_8py_source_1l00720"/>00720 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00721"/>00721 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Filters&#32;an&#32;element&#32;based&#32;on&#32;its&#32;fitness&#32;and&#32;niche&#32;index.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00722"/>00722 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00723"/>00723 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;function&#32;evaluates&#32;whether&#32;an&#32;element,&#32;represented&#32;by&#32;its&#32;fitness&#32;value&#32;and&#32;niche&#32;index,&#32;satisfies&#32;the&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00724"/>00724 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;condition&#32;required&#32;for&#32;inclusion&#32;in&#32;a&#32;niche.&#32;The&#32;filtering&#32;mechanism&#32;is&#32;defined&#32;externally&#32;and&#32;passed&#32;in&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00725"/>00725 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;as&#32;a&#32;callable.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00726"/>00726 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00727"/>00727 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00728"/>00728 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fit&#32;(Callable[[ArrayLike],&#32;float]):&#32;A&#32;callable&#32;function&#32;that&#32;takes&#32;an&#32;array-like&#32;object&#32;and&#32;calculates&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00729"/>00729 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;a&#32;fitness&#32;value&#32;for&#32;evaluation.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00730"/>00730 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;index&#32;(int):&#32;The&#32;index&#32;of&#32;the&#32;element&#32;within&#32;its&#32;group&#32;to&#32;be&#32;filtered.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00731"/>00731 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00732"/>00732 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00733"/>00733 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bool:&#32;True&#32;if&#32;the&#32;element&#32;satisfies&#32;the&#32;niche&#32;filter&#32;condition,&#32;False&#32;otherwise.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00734"/>00734 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00735"/>00735 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_classfcmaes_1_1mapelites_1_1in__niche__filter">in_niche_filter</link>(fit,&#32;index,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a6b4ef0e37ad2c67546dfbab83913c402">index_of_niches</link>)
<anchor xml:id="_mapelites_8py_source_1l00736"/>00736 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00737"/>00737 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a82cd0403d58fbb41ef29c2cfb6ac74f7">set</link>(self,&#32;
<anchor xml:id="_mapelites_8py_source_1l00738"/>00738 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i:&#32;int,&#32;
<anchor xml:id="_mapelites_8py_source_1l00739"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab4f4023cb427da5cbedcf919c4641bfa">00739</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;yd:&#32;np.ndarray,&#32;
<anchor xml:id="_mapelites_8py_source_1l00740"/>00740 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x:&#32;np.ndarray):
<anchor xml:id="_mapelites_8py_source_1l00741"/>00741 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00742"/>00742 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Updates&#32;statistical&#32;data&#32;and&#32;modifies&#32;the&#32;internal&#32;data&#32;store&#32;with&#32;the&#32;given&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00743"/>00743 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;values&#32;if&#32;certain&#32;conditions&#32;are&#32;met&#32;(e.g.,&#32;improvement&#32;in&#32;objective&#32;value&#32;`y`).</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00744"/>00744 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00745"/>00745 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00746"/>00746 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;(int):&#32;The&#32;index&#32;representing&#32;the&#32;position&#32;in&#32;the&#32;internal&#32;data&#32;storage&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00747"/>00747 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;to&#32;update.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00748"/>00748 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;yd&#32;(np.ndarray):&#32;A&#32;numpy&#32;array&#32;containing&#32;the&#32;objective&#32;value&#32;`y`&#32;and&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00749"/>00749 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;additional&#32;associated&#32;data&#32;`d`&#32;as&#32;elements.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00750"/>00750 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x&#32;(np.ndarray):&#32;A&#32;numpy&#32;array&#32;representing&#32;the&#32;new&#32;input&#32;data&#32;associated&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00751"/>00751 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;with&#32;the&#32;index&#32;`i`.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00752"/>00752 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00753"/>00753 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>&#32;
<anchor xml:id="_mapelites_8py_source_1l00754"/>00754 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a9aaaf43220a388cc81d0750b7849dbdc">update_stats</link>(i,&#32;x)
<anchor xml:id="_mapelites_8py_source_1l00755"/>00755 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;y,&#32;d&#32;=&#32;yd
<anchor xml:id="_mapelites_8py_source_1l00756"/>00756 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;register&#32;improvement</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00757"/>00757 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;yold&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ac9390a3bfd798bdb09d79476ed6c6584">get_y</link>(i)
<anchor xml:id="_mapelites_8py_source_1l00758"/>00758 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;y&#32;&lt;&#32;yold:
<anchor xml:id="_mapelites_8py_source_1l00759"/>00759 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;yold&#32;==&#32;np.inf:&#32;<emphasis role="comment">#&#32;not&#32;yet&#32;occupied</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00760"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ac73f5b05c273a6238d1da2d70603b2af">00760</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab1c9fa575d5a8225ba10e8a40fd0d59b">occupied</link>.value&#32;+=&#32;1
<anchor xml:id="_mapelites_8py_source_1l00761"/>00761 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1afc25798d5b07a1addd68fc50cec1f3e5">set_y</link>(i,&#32;y)
<anchor xml:id="_mapelites_8py_source_1l00762"/>00762 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a6cbf2375b7948682ad57e3ef3d2f1dcb">xs_view</link>[i]&#32;=&#32;x
<anchor xml:id="_mapelites_8py_source_1l00763"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a6b4ef0e37ad2c67546dfbab83913c402">00763</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aba20d5a20cc178e6aa4f14538b54334f">ds_view</link>[i]&#32;=&#32;d
<anchor xml:id="_mapelites_8py_source_1l00764"/>00764 &#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00765"/>00765 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a9aaaf43220a388cc81d0750b7849dbdc">update_stats</link>(self,&#32;
<anchor xml:id="_mapelites_8py_source_1l00766"/>00766 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i:&#32;int,&#32;
<anchor xml:id="_mapelites_8py_source_1l00767"/>00767 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x:&#32;np.ndarray):
<anchor xml:id="_mapelites_8py_source_1l00768"/>00768 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00769"/>00769 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Updates&#32;the&#32;statistical&#32;information&#32;for&#32;the&#32;given&#32;index&#32;and&#32;array&#32;input.&#32;Tracks&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00770"/>00770 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;counts,&#32;mean,&#32;quadratic&#32;mean&#32;(qmean),&#32;minimum,&#32;and&#32;maximum&#32;values&#32;for&#32;the&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00771"/>00771 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;specified&#32;index.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00772"/>00772 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00773"/>00773 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00774"/>00774 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;(int):&#32;Index&#32;of&#32;the&#32;element&#32;whose&#32;statistics&#32;need&#32;to&#32;be&#32;updated.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00775"/>00775 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x&#32;(numpy.ndarray):&#32;Input&#32;array&#32;used&#32;to&#32;update&#32;the&#32;statistics.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00776"/>00776 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00777"/>00777 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">with</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1abbcf8dde9401f4b34d4669a064e12373">lock</link>:
<anchor xml:id="_mapelites_8py_source_1l00778"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a82cd0403d58fbb41ef29c2cfb6ac74f7">00778</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a17848162fe39d036fbc93aa58cc77b50">counts</link>[i]&#32;+=&#32;1
<anchor xml:id="_mapelites_8py_source_1l00779"/>00779 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;count&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a17848162fe39d036fbc93aa58cc77b50">counts</link>[i]
<anchor xml:id="_mapelites_8py_source_1l00780"/>00780 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a1d6bb3c3d671d59cd6c48cc30574652d">use_stats</link>:&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00781"/>00781 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;mean&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a240c31cf1f2a4a8f2fe6bef3ece80206">get_x_mean</link>(i)
<anchor xml:id="_mapelites_8py_source_1l00782"/>00782 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;diff&#32;=&#32;x&#32;-&#32;mean&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00783"/>00783 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a574aed6e61fc20fb94b479cb8fd5fc55">set_stat</link>(i,&#32;0,&#32;mean&#32;+&#32;diff&#32;*&#32;(1./count))&#32;<emphasis role="comment">#&#32;mean</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00784"/>00784 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a574aed6e61fc20fb94b479cb8fd5fc55">set_stat</link>(i,&#32;1,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a4a9c0d92560064a154b7bbcf1d537480">get_stat</link>(i,&#32;1)&#32;+&#32;np.multiply(diff,diff)&#32;*&#32;((count-1)/count))&#32;<emphasis role="comment">#&#32;qmean&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00785"/>00785 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a574aed6e61fc20fb94b479cb8fd5fc55">set_stat</link>(i,&#32;2,&#32;np.minimum(x,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a4a9c0d92560064a154b7bbcf1d537480">get_stat</link>(i,&#32;2)))&#32;<emphasis role="comment">#&#32;min</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00786"/>00786 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a574aed6e61fc20fb94b479cb8fd5fc55">set_stat</link>(i,&#32;3,&#32;np.maximum(x,&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a4a9c0d92560064a154b7bbcf1d537480">get_stat</link>(i,&#32;3)))&#32;<emphasis role="comment">#&#32;max</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00787"/>00787 &#32;
<anchor xml:id="_mapelites_8py_source_1l00788"/>00788 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7d6497547e738f46792eed929c0eb09c">get_occupied</link>(self)&#32;-&gt;&#32;int:
<anchor xml:id="_mapelites_8py_source_1l00789"/>00789 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00790"/>00790 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Retrieves&#32;the&#32;current&#32;number&#32;of&#32;occupied&#32;spaces&#32;from&#32;the&#32;associated&#32;value.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00791"/>00791 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00792"/>00792 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00793"/>00793 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;int:&#32;The&#32;number&#32;of&#32;occupied&#32;spaces.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00794"/>00794 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00795"/>00795 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab1c9fa575d5a8225ba10e8a40fd0d59b">occupied</link>.value
<anchor xml:id="_mapelites_8py_source_1l00796"/>00796 &#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00797"/>00797 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1af0512120043e652b080fc57f7f9bc34e">get_count</link>(self,&#32;i:&#32;int)&#32;-&gt;&#32;int:
<anchor xml:id="_mapelites_8py_source_1l00798"/>00798 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00799"/>00799 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Get&#32;the&#32;count&#32;for&#32;a&#32;specific&#32;index.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00800"/>00800 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00801"/>00801 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;retrieves&#32;the&#32;count&#32;value&#32;from&#32;the&#32;`counts`&#32;collection&#32;based&#32;on&#32;the&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00802"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a9aaaf43220a388cc81d0750b7849dbdc">00802</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;provided&#32;index.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00803"/>00803 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00804"/>00804 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00805"/>00805 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;(int):&#32;The&#32;index&#32;of&#32;the&#32;element&#32;whose&#32;count&#32;is&#32;to&#32;be&#32;retrieved.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00806"/>00806 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00807"/>00807 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00808"/>00808 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;int:&#32;The&#32;count&#32;corresponding&#32;to&#32;the&#32;given&#32;index.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00809"/>00809 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00810"/>00810 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a17848162fe39d036fbc93aa58cc77b50">counts</link>[i]
<anchor xml:id="_mapelites_8py_source_1l00811"/>00811 
<anchor xml:id="_mapelites_8py_source_1l00812"/>00812 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1abfbc79753a308a9880da632d96b37d5c">get_counts</link>(self)&#32;-&gt;&#32;np.ndarray:
<anchor xml:id="_mapelites_8py_source_1l00813"/>00813 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00814"/>00814 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Retrieves&#32;a&#32;copy&#32;of&#32;the&#32;`counts`&#32;as&#32;a&#32;NumPy&#32;array.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00815"/>00815 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00816"/>00816 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;returns&#32;a&#32;deep&#32;copy&#32;of&#32;the&#32;`counts`&#32;list,&#32;converted&#32;to&#32;a&#32;NumPy</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00817"/>00817 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;array.&#32;It&#32;ensures&#32;that&#32;the&#32;original&#32;data&#32;remains&#32;unaltered&#32;while&#32;providing</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00818"/>00818 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;a&#32;convenient&#32;format&#32;for&#32;numerical&#32;operations.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00819"/>00819 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00820"/>00820 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00821"/>00821 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;A&#32;NumPy&#32;array&#32;containing&#32;the&#32;copied&#32;elements&#32;of&#32;`counts`.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00822"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7d6497547e738f46792eed929c0eb09c">00822</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00823"/>00823 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;np.array(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a17848162fe39d036fbc93aa58cc77b50">counts</link>[:])
<anchor xml:id="_mapelites_8py_source_1l00824"/>00824 &#32;
<anchor xml:id="_mapelites_8py_source_1l00825"/>00825 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a240c31cf1f2a4a8f2fe6bef3ece80206">get_x_mean</link>(self,&#32;i:&#32;int)&#32;-&gt;&#32;np.ndarray:
<anchor xml:id="_mapelites_8py_source_1l00826"/>00826 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00827"/>00827 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Calculates&#32;and&#32;retrieves&#32;the&#32;mean&#32;value&#32;for&#32;a&#32;specific&#32;index&#32;of&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00828"/>00828 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00829"/>00829 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;function&#32;calls&#32;another&#32;internal&#32;method&#32;to&#32;obtain&#32;the&#32;required&#32;statistic</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00830"/>00830 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;associated&#32;with&#32;the&#32;given&#32;index&#32;and&#32;statistic&#32;type&#32;(mean&#32;in&#32;this&#32;case).</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00831"/>00831 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00832"/>00832 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00833"/>00833 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;(int):&#32;The&#32;index&#32;of&#32;the&#32;data&#32;for&#32;which&#32;the&#32;mean&#32;value&#32;will&#32;be&#32;computed.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00834"/>00834 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00835"/>00835 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00836"/>00836 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;The&#32;calculated&#32;mean&#32;value&#32;for&#32;the&#32;specified&#32;index.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00837"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1af0512120043e652b080fc57f7f9bc34e">00837</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00838"/>00838 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a4a9c0d92560064a154b7bbcf1d537480">get_stat</link>(i,&#32;0)
<anchor xml:id="_mapelites_8py_source_1l00839"/>00839 
<anchor xml:id="_mapelites_8py_source_1l00840"/>00840 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a12befeeecf65003f61a073520070a4d7">get_x_stdev</link>(self,&#32;i:&#32;int)&#32;-&gt;&#32;np.ndarray:
<anchor xml:id="_mapelites_8py_source_1l00841"/>00841 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00842"/>00842 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Calculates&#32;the&#32;standard&#32;deviation&#32;of&#32;x&#32;for&#32;a&#32;given&#32;identifier.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00843"/>00843 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00844"/>00844 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;computes&#32;the&#32;standard&#32;deviation&#32;of&#32;the&#32;variable&#32;&apos;x&apos;,&#32;based&#32;on&#32;the</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00845"/>00845 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;statistics&#32;collected&#32;for&#32;a&#32;specific&#32;identifier.&#32;If&#32;no&#32;data&#32;is&#32;available&#32;for</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00846"/>00846 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;identifier,&#32;it&#32;returns&#32;a&#32;zero&#32;array&#32;with&#32;the&#32;appropriate&#32;dimension.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00847"/>00847 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00848"/>00848 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00849"/>00849 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;(int):&#32;Identifier&#32;used&#32;to&#32;retrieve&#32;the&#32;specific&#32;statistics.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00850"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1abfbc79753a308a9880da632d96b37d5c">00850</link> <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00851"/>00851 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00852"/>00852 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;A&#32;numpy&#32;array&#32;representing&#32;the&#32;standard&#32;deviation&#32;of&#32;x,&#32;with</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00853"/>00853 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;same&#32;dimension&#32;as&#32;the&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00854"/>00854 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00855"/>00855 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;count&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1af0512120043e652b080fc57f7f9bc34e">get_count</link>(i)
<anchor xml:id="_mapelites_8py_source_1l00856"/>00856 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;count&#32;==&#32;0:
<anchor xml:id="_mapelites_8py_source_1l00857"/>00857 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;np.zeros(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab255103df42bedc30ec7132cfc618122">dim</link>)
<anchor xml:id="_mapelites_8py_source_1l00858"/>00858 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:
<anchor xml:id="_mapelites_8py_source_1l00859"/>00859 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qmean&#32;=&#32;np.array(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a4a9c0d92560064a154b7bbcf1d537480">get_stat</link>(i,&#32;1))
<anchor xml:id="_mapelites_8py_source_1l00860"/>00860 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;np.sqrt(qmean&#32;*&#32;(1./count))
<anchor xml:id="_mapelites_8py_source_1l00861"/>00861 
<anchor xml:id="_mapelites_8py_source_1l00862"/>00862 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a864352039c770d3095a4c68c67c07cc6">get_x_min</link>(self,&#32;i:&#32;int)&#32;-&gt;&#32;np.ndarray:
<anchor xml:id="_mapelites_8py_source_1l00863"/>00863 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00864"/>00864 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Gets&#32;the&#32;minimum&#32;x-coordinate&#32;value&#32;from&#32;a&#32;statistical&#32;data&#32;set.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00865"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a240c31cf1f2a4a8f2fe6bef3ece80206">00865</link> <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00866"/>00866 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;function&#32;retrieves&#32;the&#32;minimum&#32;value&#32;of&#32;the&#32;x-coordinate&#32;from&#32;the</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00867"/>00867 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dataset&#32;for&#32;a&#32;specified&#32;index&#32;and&#32;returns&#32;it&#32;as&#32;a&#32;NumPy&#32;array.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00868"/>00868 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00869"/>00869 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00870"/>00870 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;(int):&#32;The&#32;index&#32;of&#32;the&#32;dataset&#32;for&#32;which&#32;the&#32;minimum&#32;x-coordinate</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00871"/>00871 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;value&#32;is&#32;retrieved.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00872"/>00872 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00873"/>00873 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00874"/>00874 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;The&#32;minimum&#32;x-coordinate&#32;value&#32;in&#32;the&#32;dataset&#32;corresponding</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00875"/>00875 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;to&#32;the&#32;provided&#32;index.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00876"/>00876 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00877"/>00877 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a4a9c0d92560064a154b7bbcf1d537480">get_stat</link>(i,&#32;2)
<anchor xml:id="_mapelites_8py_source_1l00878"/>00878 
<anchor xml:id="_mapelites_8py_source_1l00879"/>00879 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ae14fb3f28ebc29cc2356048a91d8e072">get_x_max</link>(self,&#32;i:&#32;int)&#32;-&gt;&#32;np.ndarray:
<anchor xml:id="_mapelites_8py_source_1l00880"/>00880 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00881"/>00881 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns&#32;the&#32;maximum&#32;value&#32;of&#32;the&#32;&apos;x&apos;&#32;statistic&#32;for&#32;the&#32;specified&#32;index.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00882"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a12befeeecf65003f61a073520070a4d7">00882</link> <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00883"/>00883 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;retrieves&#32;the&#32;maximum&#32;value&#32;of&#32;the&#32;&apos;x&apos;&#32;statistic&#32;by&#32;utilizing</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00884"/>00884 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;`get_stat`&#32;method&#32;with&#32;specific&#32;parameters.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00885"/>00885 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00886"/>00886 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00887"/>00887 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;(int):&#32;The&#32;index&#32;for&#32;which&#32;the&#32;&apos;x&apos;&#32;statistic&apos;s&#32;maximum&#32;value&#32;is&#32;to</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00888"/>00888 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;be&#32;retrieved.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00889"/>00889 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00890"/>00890 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00891"/>00891 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;The&#32;maximum&#32;value&#32;of&#32;the&#32;&apos;x&apos;&#32;statistic&#32;for&#32;the&#32;specified</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00892"/>00892 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;index.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00893"/>00893 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00894"/>00894 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a4a9c0d92560064a154b7bbcf1d537480">get_stat</link>(i,&#32;3)
<anchor xml:id="_mapelites_8py_source_1l00895"/>00895 
<anchor xml:id="_mapelites_8py_source_1l00896"/>00896 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a3976d13396ea59523d79e16b7d96f448">create_views</link>(self):&#32;<emphasis role="comment">#&#32;needs&#32;to&#32;be&#32;called&#32;in&#32;the&#32;target&#32;process</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00897"/>00897 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00898"/>00898 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Creates&#32;views&#32;for&#32;the&#32;attributes&#32;within&#32;the&#32;target&#32;process.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00899"/>00899 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00900"/>00900 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;initializes&#32;views&#32;for&#32;specific&#32;attributes&#32;to&#32;enhance</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00901"/>00901 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;performance&#32;and&#32;allow&#32;efficient&#32;data&#32;manipulation&#32;in&#32;the&#32;target</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00902"/>00902 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;process.&#32;The&#32;views&#32;are&#32;created&#32;using&#32;the&#32;`view()`&#32;method.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00903"/>00903 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00904"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a864352039c770d3095a4c68c67c07cc6">00904</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Raises:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00905"/>00905 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;AttributeError:&#32;If&#32;either&#32;`xs`&#32;or&#32;`ds`&#32;is&#32;not&#32;properly&#32;initialized</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00906"/>00906 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;or&#32;does&#32;not&#32;support&#32;the&#32;`view()`&#32;method.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00907"/>00907 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00908"/>00908 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a6cbf2375b7948682ad57e3ef3d2f1dcb">xs_view</link>&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a55043a25e987ca5ad6f1cfaf22c835a2">xs</link>.view()
<anchor xml:id="_mapelites_8py_source_1l00909"/>00909 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aba20d5a20cc178e6aa4f14538b54334f">ds_view</link>&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a60f70e50d917a1db752b0a0124a8e756">ds</link>.view()
<anchor xml:id="_mapelites_8py_source_1l00910"/>00910 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00911"/>00911 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a4c0b220309e8100c4a104b29b9ca4898">encode_d</link>(self,&#32;d):
<anchor xml:id="_mapelites_8py_source_1l00912"/>00912 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00913"/>00913 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Encodes&#32;the&#32;given&#32;value&#32;using&#32;the&#32;specified&#32;scale&#32;and&#32;lower&#32;bound.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00914"/>00914 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00915"/>00915 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;calculates&#32;a&#32;normalized&#32;value&#32;by&#32;subtracting&#32;the&#32;lower</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00916"/>00916 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bound&#32;(self.desc_lb)&#32;from&#32;the&#32;input&#32;and&#32;then&#32;dividing&#32;by&#32;the&#32;scale</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00917"/>00917 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;factor&#32;(self.desc_scale).</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00918"/>00918 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00919"/>00919 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00920"/>00920 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;d:&#32;A&#32;numerical&#32;value&#32;to&#32;be&#32;encoded.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00921"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ae14fb3f28ebc29cc2356048a91d8e072">00921</link> <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00922"/>00922 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00923"/>00923 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;float:&#32;The&#32;encoded&#32;value&#32;after&#32;applying&#32;the&#32;normalization&#32;formula.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00924"/>00924 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00925"/>00925 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;(d&#32;-&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1acef7919c3b7f9798628857f25de27d3c">desc_lb</link>)&#32;/&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ae3f63fce62db86da46ee146bf27293c3">desc_scale</link>
<anchor xml:id="_mapelites_8py_source_1l00926"/>00926 &#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00927"/>00927 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ae916520d6c7090a4aebb511b782f003c">decode_d</link>(self,&#32;d):
<anchor xml:id="_mapelites_8py_source_1l00928"/>00928 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00929"/>00929 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Decodes&#32;a&#32;given&#32;value&#32;`d`&#32;using&#32;the&#32;object&apos;s&#32;scaling&#32;factor&#32;and&#32;lower&#32;bound.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00930"/>00930 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00931"/>00931 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;applies&#32;a&#32;transformation&#32;to&#32;the&#32;input&#32;value&#32;`d`&#32;based&#32;on&#32;the</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00932"/>00932 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;attributes&#32;`desc_scale`&#32;and&#32;`desc_lb`&#32;of&#32;the&#32;object.&#32;It&#32;linearly&#32;scales</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00933"/>00933 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;and&#32;offsets&#32;the&#32;input&#32;to&#32;produce&#32;the&#32;decoded&#32;value.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00934"/>00934 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00935"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a3976d13396ea59523d79e16b7d96f448">00935</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00936"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a6cbf2375b7948682ad57e3ef3d2f1dcb">00936</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;d:&#32;Input&#32;value&#32;to&#32;decode.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00937"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aba20d5a20cc178e6aa4f14538b54334f">00937</link> <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00938"/>00938 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00939"/>00939 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;The&#32;decoded&#32;value&#32;as&#32;a&#32;float.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00940"/>00940 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00941"/>00941 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;(d&#32;*&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ae3f63fce62db86da46ee146bf27293c3">desc_scale</link>)&#32;+&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1acef7919c3b7f9798628857f25de27d3c">desc_lb</link>
<anchor xml:id="_mapelites_8py_source_1l00942"/>00942 
<anchor xml:id="_mapelites_8py_source_1l00943"/>00943 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a052f1f8d58ffc784ec8ee16aca535a14">get_xs</link>(self)&#32;-&gt;&#32;np.ndarray:
<anchor xml:id="_mapelites_8py_source_1l00944"/>00944 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00945"/>00945 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Gets&#32;a&#32;view&#32;of&#32;the&#32;`xs`&#32;attribute.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00946"/>00946 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00947"/>00947 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;returns&#32;a&#32;view&#32;of&#32;the&#32;`xs`&#32;attribute,&#32;allowing&#32;access&#32;to</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00948"/>00948 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;data&#32;without&#32;copying&#32;it.&#32;The&#32;returned&#32;view&#32;reflects&#32;changes&#32;made</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00949"/>00949 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;to&#32;the&#32;original&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00950"/>00950 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00951"/>00951 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00952"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a4c0b220309e8100c4a104b29b9ca4898">00952</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;A&#32;view&#32;of&#32;the&#32;`xs`&#32;attribute.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00953"/>00953 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00954"/>00954 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a55043a25e987ca5ad6f1cfaf22c835a2">xs</link>.view()
<anchor xml:id="_mapelites_8py_source_1l00955"/>00955 
<anchor xml:id="_mapelites_8py_source_1l00956"/>00956 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1af91d2fd25aee22c7bcc46b2c5cad0092">get_ds</link>(self)&#32;-&gt;&#32;np.ndarray:
<anchor xml:id="_mapelites_8py_source_1l00957"/>00957 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00958"/>00958 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns&#32;a&#32;view&#32;of&#32;the&#32;`ds`&#32;attribute.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00959"/>00959 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00960"/>00960 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;provides&#32;a&#32;view&#32;of&#32;the&#32;data&#32;stored&#32;in&#32;the&#32;`ds`&#32;attribute.&#32;It</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00961"/>00961 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;enables&#32;access&#32;to&#32;the&#32;data&#32;without&#32;modifying&#32;the&#32;original&#32;structure.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00962"/>00962 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00963"/>00963 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00964"/>00964 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;A&#32;view&#32;of&#32;the&#32;`ds`&#32;attribute&#32;as&#32;a&#32;NumPy&#32;array.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00965"/>00965 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00966"/>00966 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a60f70e50d917a1db752b0a0124a8e756">ds</link>.view()
<anchor xml:id="_mapelites_8py_source_1l00967"/>00967 &#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00968"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ae916520d6c7090a4aebb511b782f003c">00968</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ac9390a3bfd798bdb09d79476ed6c6584">get_y</link>(self,&#32;i:&#32;int)&#32;-&gt;&#32;float:
<anchor xml:id="_mapelites_8py_source_1l00969"/>00969 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00970"/>00970 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Retrieves&#32;the&#32;y-coordinate&#32;value&#32;at&#32;a&#32;given&#32;index&#32;from&#32;the&#32;list&#32;of&#32;y-values.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00971"/>00971 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00972"/>00972 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00973"/>00973 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;(int):&#32;The&#32;index&#32;of&#32;the&#32;y-value&#32;to&#32;retrieve.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00974"/>00974 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00975"/>00975 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00976"/>00976 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;float:&#32;The&#32;y-coordinate&#32;value&#32;at&#32;the&#32;specified&#32;index.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00977"/>00977 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00978"/>00978 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1acb4c09718b6457bb5bfbb7f3773f7178">ys</link>[i]
<anchor xml:id="_mapelites_8py_source_1l00979"/>00979 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00980"/>00980 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a91c9f1ac5485896833fc7b9859b85af1">get_ys</link>(self)&#32;-&gt;&#32;np.ndarray:
<anchor xml:id="_mapelites_8py_source_1l00981"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a052f1f8d58ffc784ec8ee16aca535a14">00981</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00982"/>00982 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns&#32;a&#32;copy&#32;of&#32;the&#32;`ys`&#32;array.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00983"/>00983 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00984"/>00984 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;provides&#32;access&#32;to&#32;a&#32;copy&#32;of&#32;the&#32;`ys`&#32;attribute,&#32;ensuring</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00985"/>00985 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;that&#32;the&#32;original&#32;data&#32;remains&#32;unaltered.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00986"/>00986 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00987"/>00987 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00988"/>00988 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;A&#32;numpy&#32;array&#32;representing&#32;a&#32;copy&#32;of&#32;the&#32;`ys`&#32;attribute.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00989"/>00989 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00990"/>00990 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;np.array(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1acb4c09718b6457bb5bfbb7f3773f7178">ys</link>[:])
<anchor xml:id="_mapelites_8py_source_1l00991"/>00991 &#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l00992"/>00992 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a50c9e9bac3b339e4158614dad396bb18">get_qd_score</link>(self)&#32;-&gt;&#32;float:
<anchor xml:id="_mapelites_8py_source_1l00993"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1af91d2fd25aee22c7bcc46b2c5cad0092">00993</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00994"/>00994 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Calculates&#32;the&#32;QD&#32;(Quality-Diversity)&#32;score&#32;based&#32;on&#32;the&#32;provided&#32;array&#32;of&#32;values.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00995"/>00995 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l00996"/>00996 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;The&#32;method&#32;processes&#32;an&#32;array&#32;of&#32;values&#32;(`ys`)&#32;to&#32;compute&#32;a&#32;QD&#32;score&#32;using&#32;either&#32;the&#32;sum&#32;of&#32;reciprocal</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00997"/>00997 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;values&#32;for&#32;positive&#32;values&#32;or&#32;the&#32;sum&#32;of&#32;negated&#32;negative&#32;values.&#32;The&#32;computed&#32;score&#32;is&#32;dependent&#32;on</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00998"/>00998 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;whether&#32;all&#32;the&#32;values&#32;in&#32;the&#32;array&#32;are&#32;positive&#32;or&#32;some&#32;are&#32;negative.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l00999"/>00999 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01000"/>01000 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01001"/>01001 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;float:&#32;The&#32;calculated&#32;QD&#32;score.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01002"/>01002 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01003"/>01003 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ys&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a91c9f1ac5485896833fc7b9859b85af1">get_ys</link>()
<anchor xml:id="_mapelites_8py_source_1l01004"/>01004 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;occupied&#32;=&#32;(ys&#32;!=&#32;np.inf)
<anchor xml:id="_mapelites_8py_source_1l01005"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ac9390a3bfd798bdb09d79476ed6c6584">01005</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ys&#32;=&#32;ys[occupied]
<anchor xml:id="_mapelites_8py_source_1l01006"/>01006 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;len(ys)&#32;==&#32;0:
<anchor xml:id="_mapelites_8py_source_1l01007"/>01007 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;0
<anchor xml:id="_mapelites_8py_source_1l01008"/>01008 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;min_y&#32;=&#32;np.amin(ys)
<anchor xml:id="_mapelites_8py_source_1l01009"/>01009 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;min_y&#32;&gt;&#32;0:&#32;<emphasis role="comment">#&#32;if&#32;all&#32;y&#32;&gt;&#32;0&#32;use&#32;sum&#32;of&#32;reciprocal</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01010"/>01010 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;np.sum(np.reciprocal(ys,&#32;where&#32;=&#32;ys!=0))&#32;
<anchor xml:id="_mapelites_8py_source_1l01011"/>01011 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:&#32;<emphasis role="comment">#&#32;else&#32;use&#32;only&#32;the&#32;negative&#32;ones</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01012"/>01012 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;neg&#32;=&#32;(ys&#32;&lt;&#32;0)
<anchor xml:id="_mapelites_8py_source_1l01013"/>01013 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ys&#32;=&#32;ys[neg]
<anchor xml:id="_mapelites_8py_source_1l01014"/>01014 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;np.sum(-ys)&#32;
<anchor xml:id="_mapelites_8py_source_1l01015"/>01015 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01016"/>01016 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1afc25798d5b07a1addd68fc50cec1f3e5">set_y</link>(self,&#32;i:&#32;int,&#32;y:&#32;float):
<anchor xml:id="_mapelites_8py_source_1l01017"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a91c9f1ac5485896833fc7b9859b85af1">01017</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01018"/>01018 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Updates&#32;the&#32;`ys`&#32;attribute&#32;at&#32;the&#32;specified&#32;index&#32;with&#32;a&#32;new&#32;value.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01019"/>01019 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01020"/>01020 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01021"/>01021 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;(int):&#32;The&#32;index&#32;to&#32;update&#32;in&#32;the&#32;`ys`&#32;attribute.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01022"/>01022 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;y&#32;(float):&#32;The&#32;new&#32;value&#32;to&#32;set&#32;at&#32;the&#32;specified&#32;index.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01023"/>01023 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01024"/>01024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1acb4c09718b6457bb5bfbb7f3773f7178">ys</link>[i]&#32;=&#32;y
<anchor xml:id="_mapelites_8py_source_1l01025"/>01025 
<anchor xml:id="_mapelites_8py_source_1l01026"/>01026 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a06c36a088a4f1f50b63e7d0cdf1dcc40">set_ys</link>(self,&#32;ys:&#32;ArrayLike):
<anchor xml:id="_mapelites_8py_source_1l01027"/>01027 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01028"/>01028 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Sets&#32;multiple&#32;y-values&#32;for&#32;the&#32;object&#32;by&#32;iterating&#32;over&#32;the&#32;provided&#32;array-like&#32;collection.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01029"/>01029 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01030"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a50c9e9bac3b339e4158614dad396bb18">01030</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01031"/>01031 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ys&#32;(ArrayLike):&#32;An&#32;array-like&#32;collection&#32;of&#32;y-values&#32;to&#32;be&#32;set.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01032"/>01032 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01033"/>01033 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01034"/>01034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;range(len(ys)):
<anchor xml:id="_mapelites_8py_source_1l01035"/>01035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1afc25798d5b07a1addd68fc50cec1f3e5">set_y</link>(i,&#32;ys[i])
<anchor xml:id="_mapelites_8py_source_1l01036"/>01036 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01037"/>01037 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ad3c852a54d31d2126b5f233e7d2fd7bb">get_c</link>(self,&#32;i:&#32;int)&#32;-&gt;&#32;float:
<anchor xml:id="_mapelites_8py_source_1l01038"/>01038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01039"/>01039 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Retrieves&#32;a&#32;slice&#32;of&#32;the&#32;`cs`&#32;list&#32;for&#32;the&#32;given&#32;index.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01040"/>01040 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01041"/>01041 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01042"/>01042 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;(int):&#32;Index&#32;to&#32;slice&#32;the&#32;`cs`&#32;list.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01043"/>01043 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01044"/>01044 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01045"/>01045 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;float:&#32;The&#32;extracted&#32;portion&#32;of&#32;the&#32;`cs`&#32;list&#32;corresponding&#32;to&#32;the</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01046"/>01046 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;specified&#32;index,&#32;scaled&#32;by&#32;`qd_dim`.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01047"/>01047 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01048"/>01048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a2421ccea4dec3cbb9bef589d1a3209f9">cs</link>[i*self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7321ff2715dbc2d3258e2e880d48ef43">qd_dim</link>:(i+1)*self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7321ff2715dbc2d3258e2e880d48ef43">qd_dim</link>]
<anchor xml:id="_mapelites_8py_source_1l01049"/>01049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01050"/>01050 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a9884e6696809729e69a167c91d245464">get_cs</link>(self)&#32;-&gt;&#32;np.ndarray:
<anchor xml:id="_mapelites_8py_source_1l01051"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1afc25798d5b07a1addd68fc50cec1f3e5">01051</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01052"/>01052 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Generates&#32;an&#32;array&#32;of&#32;results&#32;produced&#32;by&#32;the&#32;`get_c`&#32;method&#32;for&#32;a&#32;range</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01053"/>01053 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;of&#32;indices.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01054"/>01054 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01055"/>01055 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;The&#32;`get_cs`&#32;method&#32;computes&#32;an&#32;array&#32;containing&#32;the&#32;output&#32;of&#32;the&#32;`get_c`</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01056"/>01056 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;method&#32;for&#32;a&#32;sequence&#32;of&#32;indices&#32;up&#32;to&#32;a&#32;specified&#32;capacity.&#32;Each&#32;index&#32;is</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01057"/>01057 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;processed&#32;individually&#32;to&#32;construct&#32;the&#32;final&#32;array.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01058"/>01058 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01059"/>01059 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01060"/>01060 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;A&#32;NumPy&#32;array&#32;comprising&#32;results&#32;obtained&#32;from&#32;the&#32;`get_c`</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01061"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a06c36a088a4f1f50b63e7d0cdf1dcc40">01061</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;method&#32;called&#32;for&#32;indices&#32;ranging&#32;from&#32;0&#32;to&#32;the&#32;object&apos;s&#32;capacity.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01062"/>01062 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01063"/>01063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;np.array([self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ad3c852a54d31d2126b5f233e7d2fd7bb">get_c</link>(i)&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;range(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>)])
<anchor xml:id="_mapelites_8py_source_1l01064"/>01064 
<anchor xml:id="_mapelites_8py_source_1l01065"/>01065 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1abf4f2d32b118fa044a6eb99d9b508c1f">get_cs_decoded</link>(self)&#32;-&gt;&#32;np.ndarray:
<anchor xml:id="_mapelites_8py_source_1l01066"/>01066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01067"/>01067 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns&#32;decoded&#32;data&#32;using&#32;the&#32;decode_d&#32;method.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01068"/>01068 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01069"/>01069 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;retrieves&#32;data&#32;by&#32;iterating&#32;over&#32;a&#32;range&#32;equivalent&#32;to&#32;the</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01070"/>01070 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;capacity&#32;attribute,&#32;applies&#32;the&#32;get_c&#32;method&#32;to&#32;each&#32;index,&#32;and&#32;returns</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01071"/>01071 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;results&#32;as&#32;a&#32;NumPy&#32;array.&#32;The&#32;resulting&#32;array&#32;is&#32;then&#32;passed&#32;to&#32;the</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01072"/>01072 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;decode_d&#32;method&#32;to&#32;decode&#32;and&#32;return&#32;the&#32;final&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01073"/>01073 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01074"/>01074 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01075"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ad3c852a54d31d2126b5f233e7d2fd7bb">01075</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;Decoded&#32;data&#32;obtained&#32;from&#32;processing&#32;the&#32;capacity&#32;range.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01076"/>01076 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01077"/>01077 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ae916520d6c7090a4aebb511b782f003c">decode_d</link>(np.array([self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ad3c852a54d31d2126b5f233e7d2fd7bb">get_c</link>(i)&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;range(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>)]))
<anchor xml:id="_mapelites_8py_source_1l01078"/>01078 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01079"/>01079 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1acb89d9fdd7c875d487477a461c3585f7">set_c</link>(self,&#32;i:&#32;int,&#32;c:&#32;float):
<anchor xml:id="_mapelites_8py_source_1l01080"/>01080 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;Sets&#32;the&#32;values&#32;of&#32;a&#32;specific&#32;segment&#32;of&#32;the&#32;&apos;cs&apos;&#32;attribute.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01081"/>01081 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01082"/>01082 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;updates&#32;a&#32;specific&#32;segment&#32;of&#32;the&#32;&apos;cs&apos;&#32;attribute&#32;based&#32;on&#32;the</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01083"/>01083 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;provided&#32;index&#32;and&#32;float&#32;values.&#32;The&#32;index&#32;determines&#32;the&#32;segment&#32;of</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01084"/>01084 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&apos;cs&apos;&#32;to&#32;be&#32;updated,&#32;while&#32;the&#32;float&#32;input&#32;defines&#32;the&#32;new&#32;values&#32;to</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01085"/>01085 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;assign&#32;to&#32;the&#32;segment.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01086"/>01086 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01087"/>01087 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01088"/>01088 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;(int):&#32;Index&#32;to&#32;determine&#32;the&#32;specific&#32;segment&#32;of&#32;&apos;cs&apos;&#32;to&#32;update.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01089"/>01089 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;c&#32;(float):&#32;New&#32;float&#32;value&#32;that&#32;will&#32;replace&#32;the&#32;content&#32;of&#32;the</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01090"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a9884e6696809729e69a167c91d245464">01090</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;specified&#32;segment&#32;in&#32;&apos;cs&apos;.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01091"/>01091 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01092"/>01092 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01093"/>01093 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a2421ccea4dec3cbb9bef589d1a3209f9">cs</link>[i*self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7321ff2715dbc2d3258e2e880d48ef43">qd_dim</link>:(i+1)*self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7321ff2715dbc2d3258e2e880d48ef43">qd_dim</link>]&#32;=&#32;c[:]
<anchor xml:id="_mapelites_8py_source_1l01094"/>01094 
<anchor xml:id="_mapelites_8py_source_1l01095"/>01095 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7b98c28bd774c39099d0e41b1c38459d">set_cs</link>(self,&#32;cs:&#32;ArrayLike):
<anchor xml:id="_mapelites_8py_source_1l01096"/>01096 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01097"/>01097 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Sets&#32;the&#32;values&#32;from&#32;the&#32;provided&#32;array-like&#32;object&#32;to&#32;the&#32;internal&#32;structure&#32;by&#32;calling</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01098"/>01098 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;`set_c`&#32;method&#32;for&#32;each&#32;element&#32;of&#32;the&#32;array-like&#32;object.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01099"/>01099 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01100"/>01100 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01101"/>01101 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cs&#32;(ArrayLike):&#32;An&#32;array-like&#32;object&#32;containing&#32;elements&#32;to&#32;be&#32;set&#32;using&#32;`set_c`&#32;method.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01102"/>01102 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01103"/>01103 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;range(len(cs)):
<anchor xml:id="_mapelites_8py_source_1l01104"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1abf4f2d32b118fa044a6eb99d9b508c1f">01104</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1acb89d9fdd7c875d487477a461c3585f7">set_c</link>(i,&#32;cs[i])
<anchor xml:id="_mapelites_8py_source_1l01105"/>01105 
<anchor xml:id="_mapelites_8py_source_1l01106"/>01106 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a4a9c0d92560064a154b7bbcf1d537480">get_stat</link>(self,&#32;i:&#32;int,&#32;j:&#32;int)&#32;-&gt;&#32;float:
<anchor xml:id="_mapelites_8py_source_1l01107"/>01107 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01108"/>01108 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Retrieves&#32;a&#32;specific&#32;statistical&#32;value&#32;for&#32;given&#32;indices&#32;i&#32;and&#32;j.&#32;The&#32;method</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01109"/>01109 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;calculates&#32;an&#32;index&#32;based&#32;on&#32;the&#32;input&#32;values&#32;and&#32;extracts&#32;the&#32;corresponding</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01110"/>01110 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dimension&#32;slice&#32;from&#32;the&#32;stats&#32;attribute.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01111"/>01111 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01112"/>01112 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01113"/>01113 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;(int):&#32;Represents&#32;the&#32;first&#32;index&#32;to&#32;calculate&#32;the&#32;position.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01114"/>01114 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;j&#32;(int):&#32;Represents&#32;the&#32;second&#32;index&#32;to&#32;calculate&#32;the&#32;position.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01115"/>01115 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01116"/>01116 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01117"/>01117 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;float:&#32;A&#32;specific&#32;statistical&#32;value&#32;derived&#32;from&#32;the&#32;stats&#32;attribute.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01118"/>01118 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01119"/>01119 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;p&#32;=&#32;4*i+j
<anchor xml:id="_mapelites_8py_source_1l01120"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1acb89d9fdd7c875d487477a461c3585f7">01120</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ada2a26ca8d9683a969403f104a759c61">stats</link>[p*self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab255103df42bedc30ec7132cfc618122">dim</link>:(p+1)*self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab255103df42bedc30ec7132cfc618122">dim</link>]
<anchor xml:id="_mapelites_8py_source_1l01121"/>01121 
<anchor xml:id="_mapelites_8py_source_1l01122"/>01122 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a97f1345584f4d25bd8a24af6cb7d7e4c">get_stats</link>(self)&#32;-&gt;&#32;&#32;np.ndarray:
<anchor xml:id="_mapelites_8py_source_1l01123"/>01123 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01124"/>01124 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns&#32;a&#32;copy&#32;of&#32;the&#32;stats&#32;data&#32;as&#32;a&#32;NumPy&#32;array.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01125"/>01125 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01126"/>01126 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;provides&#32;access&#32;to&#32;the&#32;current&#32;statistical&#32;data&#32;by&#32;returning&#32;a</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01127"/>01127 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;NumPy&#32;array&#32;that&#32;contains&#32;a&#32;copy&#32;of&#32;the&#32;internal&#32;stats&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01128"/>01128 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01129"/>01129 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01130"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7b98c28bd774c39099d0e41b1c38459d">01130</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;A&#32;NumPy&#32;array&#32;containing&#32;a&#32;copy&#32;of&#32;the&#32;stats&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01131"/>01131 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01132"/>01132 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;np.array(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ada2a26ca8d9683a969403f104a759c61">stats</link>[:])
<anchor xml:id="_mapelites_8py_source_1l01133"/>01133 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01134"/>01134 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a574aed6e61fc20fb94b479cb8fd5fc55">set_stat</link>(self,&#32;i:&#32;int,&#32;j:&#32;int,&#32;stat:&#32;ArrayLike):
<anchor xml:id="_mapelites_8py_source_1l01135"/>01135 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01136"/>01136 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Sets&#32;a&#32;specific&#32;portion&#32;of&#32;the&#32;stats&#32;array&#32;based&#32;on&#32;the&#32;given&#32;indices&#32;and&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01137"/>01137 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01138"/>01138 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;function&#32;updates&#32;the&#32;stats&#32;array&#32;by&#32;calculating&#32;an&#32;index&#32;position&#32;derived&#32;from</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01139"/>01139 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;given&#32;indices&#32;`i`&#32;and&#32;`j`.&#32;The&#32;data&#32;in&#32;`stat`&#32;is&#32;then&#32;inserted&#32;into&#32;the&#32;stats&#32;array</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01140"/>01140 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;at&#32;a&#32;position&#32;determined&#32;by&#32;the&#32;indices&#32;and&#32;the&#32;object&apos;s&#32;dimension&#32;property.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01141"/>01141 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01142"/>01142 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01143"/>01143 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;(int):&#32;Row&#32;index&#32;used&#32;to&#32;determine&#32;the&#32;position&#32;in&#32;the&#32;stats&#32;array.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01144"/>01144 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;j&#32;(int):&#32;Column&#32;index&#32;used&#32;to&#32;determine&#32;the&#32;position&#32;in&#32;the&#32;stats&#32;array.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01145"/>01145 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;stat&#32;(ArrayLike):&#32;Array&#32;of&#32;statistical&#32;data&#32;to&#32;update&#32;the&#32;stats&#32;array.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01146"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a4a9c0d92560064a154b7bbcf1d537480">01146</link> <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01147"/>01147 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01148"/>01148 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;p&#32;=&#32;4*i+j
<anchor xml:id="_mapelites_8py_source_1l01149"/>01149 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ada2a26ca8d9683a969403f104a759c61">stats</link>[p*self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab255103df42bedc30ec7132cfc618122">dim</link>:(p+1)*self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ab255103df42bedc30ec7132cfc618122">dim</link>]&#32;=&#32;stat[:]
<anchor xml:id="_mapelites_8py_source_1l01150"/>01150 
<anchor xml:id="_mapelites_8py_source_1l01151"/>01151 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a0e469ed5be63b9dd87ea220095b620b8">set_stats</link>(self,&#32;stats:&#32;ArrayLike):
<anchor xml:id="_mapelites_8py_source_1l01152"/>01152 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01153"/>01153 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Sets&#32;the&#32;statistics&#32;for&#32;the&#32;object.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01154"/>01154 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01155"/>01155 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;updates&#32;the&#32;internal&#32;statistics&#32;of&#32;the&#32;object&#32;with&#32;the&#32;values</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01156"/>01156 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;provided&#32;in&#32;the&#32;input&#32;array.&#32;The&#32;values&#32;in&#32;the&#32;input&#32;array&#32;are&#32;assigned</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01157"/>01157 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;directly&#32;to&#32;the&#32;object&apos;s&#32;statistics.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01158"/>01158 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01159"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a97f1345584f4d25bd8a24af6cb7d7e4c">01159</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01160"/>01160 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;stats&#32;(ArrayLike):&#32;The&#32;array-like&#32;object&#32;containing&#32;the&#32;new&#32;statistics&#32;to</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01161"/>01161 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;be&#32;set.&#32;It&#32;must&#32;be&#32;compatible&#32;with&#32;the&#32;internal&#32;statistics&#32;structure</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01162"/>01162 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;of&#32;the&#32;object.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01163"/>01163 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01164"/>01164 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ada2a26ca8d9683a969403f104a759c61">stats</link>[:]&#32;=&#32;stats[:]
<anchor xml:id="_mapelites_8py_source_1l01165"/>01165 
<anchor xml:id="_mapelites_8py_source_1l01166"/>01166 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a5721ccf23e8de4509bc3a9e996e1861a">random_xs</link>(self,&#32;best_n:&#32;int,&#32;chunk_size:&#32;int,&#32;rg:&#32;Generator)&#32;-&gt;&#32;np.ndarray:
<anchor xml:id="_mapelites_8py_source_1l01167"/>01167 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01168"/>01168 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Generates&#32;a&#32;random&#32;selection&#32;of&#32;indices&#32;and&#32;returns&#32;corresponding&#32;elements&#32;from&#32;the&#32;view.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01169"/>01169 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01170"/>01170 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;function&#32;utilizes&#32;a&#32;random&#32;number&#32;generator&#32;to&#32;produce&#32;a&#32;set&#32;of&#32;indices&#32;based&#32;on</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01171"/>01171 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;provided&#32;parameters&#32;and&#32;returns&#32;the&#32;corresponding&#32;elements&#32;from&#32;an&#32;internal&#32;view.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01172"/>01172 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01173"/>01173 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01174"/>01174 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;best_n&#32;(int):&#32;The&#32;upper&#32;limit&#32;for&#32;the&#32;random&#32;integer&#32;selection&#32;range.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01175"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a574aed6e61fc20fb94b479cb8fd5fc55">01175</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;chunk_size&#32;(int):&#32;The&#32;number&#32;of&#32;random&#32;integers&#32;to&#32;select.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01176"/>01176 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;rg&#32;(Generator):&#32;A&#32;random&#32;number&#32;generator&#32;instance&#32;to&#32;produce&#32;the&#32;selection.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01177"/>01177 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01178"/>01178 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01179"/>01179 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;The&#32;array&#32;of&#32;selected&#32;elements&#32;corresponding&#32;to&#32;the&#32;randomly&#32;generated&#32;indices.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01180"/>01180 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01181"/>01181 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;selection&#32;=&#32;rg.integers(0,&#32;best_n,&#32;chunk_size)
<anchor xml:id="_mapelites_8py_source_1l01182"/>01182 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;best_n&#32;&lt;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>:&#32;
<anchor xml:id="_mapelites_8py_source_1l01183"/>01183 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;selection&#32;=&#32;np.fromiter((self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aa1482261105e35a39ca342dd76b15a18">si</link>[i]&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;selection),&#32;dtype=int)
<anchor xml:id="_mapelites_8py_source_1l01184"/>01184 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a6cbf2375b7948682ad57e3ef3d2f1dcb">xs_view</link>[selection]
<anchor xml:id="_mapelites_8py_source_1l01185"/>01185 &#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01186"/>01186 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a691e8315e1b9c8d92b67520216c72cdf">random_xs_one</link>(self,&#32;best_n:&#32;int,&#32;rg:&#32;Generator)&#32;-&gt;&#32;Tuple[np.ndarray,&#32;float,&#32;int]:
<anchor xml:id="_mapelites_8py_source_1l01187"/>01187 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01188"/>01188 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Selects&#32;and&#32;retrieves&#32;random&#32;elements&#32;based&#32;on&#32;the&#32;given&#32;range&#32;and&#32;size.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01189"/>01189 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01190"/>01190 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;function&#32;utilizes&#32;a&#32;random&#32;number&#32;generator&#32;to&#32;select&#32;an&#32;index&#32;from&#32;a&#32;range</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01191"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a0e469ed5be63b9dd87ea220095b620b8">01191</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;up&#32;to&#32;`best_n`&#32;and&#32;fetch&#32;the&#32;corresponding&#32;elements.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01192"/>01192 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01193"/>01193 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01194"/>01194 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;best_n:&#32;The&#32;upper&#32;limit&#32;(exclusive)&#32;for&#32;selecting&#32;a&#32;random&#32;index,&#32;provided</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01195"/>01195 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;as&#32;an&#32;integer.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01196"/>01196 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;rg:&#32;An&#32;instance&#32;of&#32;a&#32;random&#32;number&#32;generator&#32;implementing&#32;the&#32;`Generator`</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01197"/>01197 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;interface,&#32;used&#32;for&#32;generating&#32;random&#32;numbers.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01198"/>01198 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01199"/>01199 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01200"/>01200 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;A&#32;tuple&#32;containing:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01201"/>01201 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;-&#32;The&#32;randomly&#32;selected&#32;x-coordinate&#32;as&#32;a&#32;numpy&#32;array.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01202"/>01202 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;-&#32;The&#32;corresponding&#32;y-coordinate&#32;as&#32;a&#32;float.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01203"/>01203 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;-&#32;The&#32;randomly&#32;chosen&#32;index&#32;as&#32;an&#32;integer.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01204"/>01204 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01205"/>01205 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;=&#32;int(rg.random()*best_n)
<anchor xml:id="_mapelites_8py_source_1l01206"/>01206 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.get_x(i),&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ac9390a3bfd798bdb09d79476ed6c6584">get_y</link>(i),&#32;&#32;i
<anchor xml:id="_mapelites_8py_source_1l01207"/>01207 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01208"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a5721ccf23e8de4509bc3a9e996e1861a">01208</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1abf0a5f4c90fb9600c527281e0e6b37bf">argsort</link>(self)&#32;-&gt;&#32;np.ndarray:
<anchor xml:id="_mapelites_8py_source_1l01209"/>01209 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01210"/>01210 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Sorts&#32;the&#32;indices&#32;of&#32;the&#32;array&#32;returned&#32;by&#32;`get_ys()`&#32;in&#32;ascending&#32;order.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01211"/>01211 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01212"/>01212 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;sorts&#32;the&#32;elements&#32;of&#32;the&#32;array&#32;obtained&#32;by&#32;calling&#32;`get_ys()`&#32;and</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01213"/>01213 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;returns&#32;the&#32;indices&#32;that&#32;would&#32;sort&#32;this&#32;array&#32;in&#32;ascending&#32;order.&#32;The&#32;sorted</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01214"/>01214 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;indices&#32;are&#32;also&#32;stored&#32;in&#32;the&#32;`si`&#32;attribute&#32;for&#32;future&#32;use.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01215"/>01215 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01216"/>01216 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01217"/>01217 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;The&#32;indices&#32;that&#32;would&#32;sort&#32;the&#32;array&#32;in&#32;ascending&#32;order.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01218"/>01218 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01219"/>01219 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aa1482261105e35a39ca342dd76b15a18">si</link>&#32;=&#32;np.argsort(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a91c9f1ac5485896833fc7b9859b85af1">get_ys</link>())
<anchor xml:id="_mapelites_8py_source_1l01220"/>01220 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aa1482261105e35a39ca342dd76b15a18">si</link>
<anchor xml:id="_mapelites_8py_source_1l01221"/>01221 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01222"/>01222 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a0bcd8007cc5cf709da8ccc42aa2c46eb">dump</link>(self,&#32;n:&#32;Optional[int]&#32;=&#32;<emphasis role="keywordtype">None</emphasis>):
<anchor xml:id="_mapelites_8py_source_1l01223"/>01223 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01224"/>01224 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Prints&#32;a&#32;sorted&#32;dump&#32;of&#32;data&#32;points&#32;up&#32;to&#32;the&#32;specified&#32;limit.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01225"/>01225 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01226"/>01226 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;retrieves&#32;a&#32;list&#32;of&#32;data&#32;points&#32;(`ys`),&#32;sorts&#32;them&#32;in&#32;ascending</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01227"/>01227 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;order,&#32;and&#32;prints&#32;the&#32;indices,&#32;values,&#32;additional&#32;details,&#32;and&#32;associated</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01228"/>01228 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;features&#32;for&#32;the&#32;top&#32;`n`&#32;data&#32;points.&#32;If&#32;`n`&#32;is&#32;not&#32;specified,&#32;it&#32;defaults&#32;to</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01229"/>01229 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;object&apos;s&#32;capacity.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01230"/>01230 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01231"/>01231 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01232"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a691e8315e1b9c8d92b67520216c72cdf">01232</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;n:&#32;Optional[int],&#32;optional.&#32;The&#32;number&#32;of&#32;data&#32;points&#32;to&#32;print.&#32;Defaults&#32;to</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01233"/>01233 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;object&apos;s&#32;capacity.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01234"/>01234 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01235"/>01235 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;n&#32;<emphasis role="keywordflow">is</emphasis>&#32;<emphasis role="keywordtype">None</emphasis>:
<anchor xml:id="_mapelites_8py_source_1l01236"/>01236 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;n&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a543edcd72de56099d1f83c9dcd79e082">capacity</link>
<anchor xml:id="_mapelites_8py_source_1l01237"/>01237 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ys&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a91c9f1ac5485896833fc7b9859b85af1">get_ys</link>()
<anchor xml:id="_mapelites_8py_source_1l01238"/>01238 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;si&#32;=&#32;np.argsort(ys)
<anchor xml:id="_mapelites_8py_source_1l01239"/>01239 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;range(n):
<anchor xml:id="_mapelites_8py_source_1l01240"/>01240 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;print(si[i],&#32;ys[si[i]],&#32;self.get_d(si[i]),&#32;self.get_x(si[i]))&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01241"/>01241 &#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01242"/>01242 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a4299111d24891cea4a03c19f28360923">info</link>(self)&#32;-&gt;&#32;str:
<anchor xml:id="_mapelites_8py_source_1l01243"/>01243 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01244"/>01244 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Generates&#32;a&#32;formatted&#32;string&#32;containing&#32;key&#32;metrics.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01245"/>01245 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01246"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1abf0a5f4c90fb9600c527281e0e6b37bf">01246</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;method&#32;calculates&#32;and&#32;returns&#32;a&#32;string&#32;with&#32;the&#32;following&#32;information:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01247"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1aa1482261105e35a39ca342dd76b15a18">01247</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;occupied&#32;cells,&#32;the&#32;quality&#32;diversity&#32;(QD)&#32;score,&#32;the&#32;lowest&#32;value&#32;from</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01248"/>01248 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;a&#32;collection&#32;of&#32;data&#32;(&apos;ys&apos;),&#32;and&#32;the&#32;total&#32;count&#32;of&#32;items.&#32;The&#32;output&#32;is</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01249"/>01249 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;formatted&#32;as&#32;a&#32;single&#32;string.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01250"/>01250 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01251"/>01251 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01252"/>01252 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;str:&#32;A&#32;formatted&#32;string&#32;that&#32;includes&#32;occupied&#32;cells,&#32;QD&#32;score&#32;rounded</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01253"/>01253 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;to&#32;three&#32;decimal&#32;places,&#32;the&#32;minimum&#32;value&#32;from&#32;&apos;ys&apos;&#32;rounded&#32;to&#32;three</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01254"/>01254 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;decimal&#32;places,&#32;and&#32;the&#32;total&#32;count&#32;of&#32;items.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01255"/>01255 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01256"/>01256 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;occ&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a7d6497547e738f46792eed929c0eb09c">get_occupied</link>()
<anchor xml:id="_mapelites_8py_source_1l01257"/>01257 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;score&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a50c9e9bac3b339e4158614dad396bb18">get_qd_score</link>()
<anchor xml:id="_mapelites_8py_source_1l01258"/>01258 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;best_y&#32;=&#32;np.amin(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a91c9f1ac5485896833fc7b9859b85af1">get_ys</link>())
<anchor xml:id="_mapelites_8py_source_1l01259"/>01259 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;count&#32;=&#32;np.sum(self.<link linkend="_classfcmaes_1_1mapelites_1_1_archive_1abfbc79753a308a9880da632d96b37d5c">get_counts</link>())
<anchor xml:id="_mapelites_8py_source_1l01260"/>01260 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;f<emphasis role="stringliteral">&apos;{occ}&#32;{score:.3f}&#32;{best_y:.3f}&#32;{count}&apos;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01261"/>01261 
<anchor xml:id="_mapelites_8py_source_1l01262"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a0bcd8007cc5cf709da8ccc42aa2c46eb">01262</link> <emphasis role="keyword">class&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1wrapper">wrapper</link>(object):
<anchor xml:id="_mapelites_8py_source_1l01263"/>01263 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;A&#32;callable&#32;class&#32;designed&#32;to&#32;fit&#32;and&#32;evaluate&#32;a&#32;function&#32;with&#32;given&#32;inputs.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01264"/>01264 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01265"/>01265 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;This&#32;class&#32;acts&#32;as&#32;a&#32;wrapper&#32;that&#32;integrates&#32;a&#32;user-defined&#32;fitness&#32;function.&#32;It&#32;manages</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01266"/>01266 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;the&#32;evaluation&#32;count,&#32;best&#32;fitness&#32;values,&#32;and&#32;optional&#32;logging&#32;and&#32;saving&#32;mechanisms&#32;for</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01267"/>01267 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;performance&#32;monitoring.&#32;It&#32;is&#32;particularly&#32;useful&#32;for&#32;optimization&#32;tasks&#32;that&#32;leverage</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01268"/>01268 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;multi-processing&#32;for&#32;concurrent&#32;evaluations.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01269"/>01269 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01270"/>01270 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Attributes:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01271"/>01271 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fit&#32;(Callable[[ArrayLike],&#32;Tuple[float,&#32;np.ndarray]]):&#32;The&#32;user-defined&#32;function</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01272"/>01272 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;that&#32;computes&#32;the&#32;fitness&#32;value&#32;and&#32;its&#32;associated&#32;descriptors&#32;for&#32;a&#32;given&#32;input.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01273"/>01273 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;evals&#32;(multiprocessing.RawValue):&#32;A&#32;counter&#32;for&#32;the&#32;number&#32;of&#32;evaluations&#32;performed.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01274"/>01274 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01275"/>01275 
<anchor xml:id="_mapelites_8py_source_1l01276"/>01276 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1ae996ab317d60b697d3c339df9335a60f">__init__</link>(self,&#32;
<anchor xml:id="_mapelites_8py_source_1l01277"/>01277 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fit:Callable[[ArrayLike],&#32;Tuple[float,&#32;np.ndarray]],&#32;
<anchor xml:id="_mapelites_8py_source_1l01278"/>01278 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_dim:&#32;int,&#32;
<anchor xml:id="_mapelites_8py_source_1l01279"/>01279 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;interval:&#32;Optional[int]&#32;=&#32;1000000,
<anchor xml:id="_mapelites_8py_source_1l01280"/>01280 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;save_interval:&#32;Optional[int]&#32;=&#32;1E20):
<anchor xml:id="_mapelites_8py_source_1l01281"/>01281 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01282"/>01282 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Initializes&#32;a&#32;new&#32;instance&#32;of&#32;the&#32;class.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01283"/><link linkend="_classfcmaes_1_1mapelites_1_1_archive_1a4299111d24891cea4a03c19f28360923">01283</link> <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01284"/>01284 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;constructor&#32;sets&#32;up&#32;the&#32;main&#32;attributes&#32;required&#32;for&#32;the&#32;class,&#32;including</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01285"/>01285 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;fitness&#32;function,&#32;dimensionality&#32;of&#32;the&#32;optimization&#32;problem,&#32;evaluation</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01286"/>01286 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;intervals,&#32;and&#32;other&#32;related&#32;parameters.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01287"/>01287 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01288"/>01288 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01289"/>01289 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fit&#32;(Callable[[ArrayLike],&#32;Tuple[float,&#32;np.ndarray]]):&#32;Fitness&#32;function&#32;used</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01290"/>01290 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;to&#32;evaluate&#32;solutions.&#32;It&#32;should&#32;take&#32;an&#32;input&#32;of&#32;type&#32;ArrayLike&#32;and</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01291"/>01291 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return&#32;a&#32;tuple&#32;containing&#32;a&#32;float&#32;and&#32;an&#32;np.ndarray.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01292"/>01292 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;qd_dim&#32;(int):&#32;Dimensionality&#32;of&#32;the&#32;search/solution&#32;space&#32;to&#32;be&#32;optimized.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01293"/>01293 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;interval&#32;(Optional[int]):&#32;Interval&#32;for&#32;certain&#32;operations&#32;during&#32;optimization.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01294"/>01294 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Defaults&#32;to&#32;1,000,000&#32;if&#32;not&#32;specified.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01295"/>01295 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;save_interval&#32;(Optional[int]):&#32;Interval&#32;for&#32;saving&#32;checkpoints.&#32;Defaults&#32;to</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01296"/>01296 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;an&#32;extremely&#32;high&#32;value&#32;(1E20)&#32;if&#32;not&#32;specified.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01297"/>01297 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01298"/>01298 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.fit&#32;=&#32;fit
<anchor xml:id="_mapelites_8py_source_1l01299"/>01299 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.evals&#32;=&#32;mp.RawValue(ct.c_int,&#32;0)&#32;
<anchor xml:id="_mapelites_8py_source_1l01300"/>01300 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.best_y&#32;=&#32;mp.RawValue(ct.c_double,&#32;np.inf)&#32;
<anchor xml:id="_mapelites_8py_source_1l01301"/><link linkend="_classfcmaes_1_1mapelites_1_1wrapper">01301</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a93873c0c4890d0bed1501c112c96cd3a">t0</link>&#32;=&#32;perf_counter()
<anchor xml:id="_mapelites_8py_source_1l01302"/>01302 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a02e60134786bef32dc1cc014911d00f8">qd_dim</link>&#32;=&#32;qd_dim
<anchor xml:id="_mapelites_8py_source_1l01303"/>01303 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a56117fe62174acee95b94c3635fc3b0b">interval</link>&#32;=&#32;interval
<anchor xml:id="_mapelites_8py_source_1l01304"/>01304 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a7550f0855e16b0f05f68bfe285d9960c">save_interval</link>&#32;=&#32;save_interval
<anchor xml:id="_mapelites_8py_source_1l01305"/>01305 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1ac4dfd1c8307fa5f6c607ff70ac71f3ee">lock</link>&#32;=&#32;mp.Lock()
<anchor xml:id="_mapelites_8py_source_1l01306"/>01306 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01307"/>01307 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1aef447c485c8dad313f64e3df4768218e">__call__</link>(self,&#32;x:&#32;ArrayLike):
<anchor xml:id="_mapelites_8py_source_1l01308"/>01308 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01309"/>01309 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Handles&#32;the&#32;evaluation&#32;of&#32;input&#32;data,&#32;including&#32;logging&#32;and&#32;archiving&#32;results,&#32;while&#32;maintaining</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01310"/>01310 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;state&#32;of&#32;evaluations,&#32;the&#32;best&#32;observed&#32;outcome,&#32;and&#32;potential&#32;exceptions&#32;during&#32;execution.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01311"/>01311 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01312"/>01312 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01313"/>01313 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x&#32;(ArrayLike):&#32;Input&#32;data&#32;array&#32;to&#32;be&#32;evaluated.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01314"/>01314 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01315"/>01315 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01316"/>01316 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;tuple:&#32;A&#32;tuple&#32;containing:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01317"/>01317 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;-&#32;A&#32;float&#32;value&#32;representing&#32;the&#32;evaluation&#32;result&#32;or&#32;`np.inf`&#32;if&#32;the&#32;result&#32;is&#32;invalid.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01318"/>01318 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;-&#32;A&#32;numpy&#32;array&#32;representing&#32;the&#32;descriptor&#32;or&#32;a&#32;zero&#32;array&#32;if&#32;the&#32;result&#32;is&#32;invalid.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01319"/>01319 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01320"/>01320 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Raises:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01321"/>01321 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Exception:&#32;Logs&#32;the&#32;exception&#32;details&#32;if&#32;execution&#32;fails.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01322"/>01322 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01323"/><link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1aabff3459c811afa2fde70139254db138">01323</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">try</emphasis>:
<anchor xml:id="_mapelites_8py_source_1l01324"/>01324 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;np.isnan(x).any():
<anchor xml:id="_mapelites_8py_source_1l01325"/>01325 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;np.inf,&#32;np.zeros(self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a02e60134786bef32dc1cc014911d00f8">qd_dim</link>)
<anchor xml:id="_mapelites_8py_source_1l01326"/>01326 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">with</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1ac4dfd1c8307fa5f6c607ff70ac71f3ee">lock</link>:
<anchor xml:id="_mapelites_8py_source_1l01327"/>01327 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a8ea76006dbf24383642dea6e049cbf21">evals</link>.value&#32;+=&#32;1
<anchor xml:id="_mapelites_8py_source_1l01328"/><link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a3dcdc7f9a349494aad1b493a11cd42af">01328</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;log&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a8ea76006dbf24383642dea6e049cbf21">evals</link>.value&#32;%&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a56117fe62174acee95b94c3635fc3b0b">interval</link>&#32;==&#32;0
<anchor xml:id="_mapelites_8py_source_1l01329"/><link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a8ea76006dbf24383642dea6e049cbf21">01329</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;save&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a8ea76006dbf24383642dea6e049cbf21">evals</link>.value&#32;%&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a7550f0855e16b0f05f68bfe285d9960c">save_interval</link>&#32;==&#32;0
<anchor xml:id="_mapelites_8py_source_1l01330"/><link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1ab23032c564e05c9cd76c2040c1ed9ac3">01330</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;y,&#32;desc&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a3dcdc7f9a349494aad1b493a11cd42af">fit</link>(x)
<anchor xml:id="_mapelites_8py_source_1l01331"/><link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a93873c0c4890d0bed1501c112c96cd3a">01331</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;np.isnan(y)&#32;<emphasis role="keywordflow">or</emphasis>&#32;np.isnan(desc).any():
<anchor xml:id="_mapelites_8py_source_1l01332"/><link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a02e60134786bef32dc1cc014911d00f8">01332</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;np.inf,&#32;np.zeros(self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a02e60134786bef32dc1cc014911d00f8">qd_dim</link>)
<anchor xml:id="_mapelites_8py_source_1l01333"/><link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a56117fe62174acee95b94c3635fc3b0b">01333</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;y0&#32;=&#32;y&#32;<emphasis role="keywordflow">if</emphasis>&#32;np.isscalar(y)&#32;<emphasis role="keywordflow">else</emphasis>&#32;sum(y)
<anchor xml:id="_mapelites_8py_source_1l01334"/><link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a7550f0855e16b0f05f68bfe285d9960c">01334</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;y0&#32;&lt;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1ab23032c564e05c9cd76c2040c1ed9ac3">best_y</link>.value:
<anchor xml:id="_mapelites_8py_source_1l01335"/><link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1ac4dfd1c8307fa5f6c607ff70ac71f3ee">01335</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1ab23032c564e05c9cd76c2040c1ed9ac3">best_y</link>.value&#32;=&#32;y0
<anchor xml:id="_mapelites_8py_source_1l01336"/>01336 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;log&#32;=&#32;<emphasis role="keyword">True</emphasis>&#32;
<anchor xml:id="_mapelites_8py_source_1l01337"/>01337 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;log:
<anchor xml:id="_mapelites_8py_source_1l01338"/>01338 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;archinfo&#32;=&#32;self.archive.info()&#32;<emphasis role="keywordflow">if</emphasis>&#32;hasattr(self,&#32;<emphasis role="stringliteral">&apos;archive&apos;</emphasis>)&#32;<emphasis role="keywordflow">else</emphasis>&#32;<emphasis role="stringliteral">&apos;&apos;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01339"/>01339 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;logger.info(
<anchor xml:id="_mapelites_8py_source_1l01340"/>01340 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;f<emphasis role="stringliteral">&apos;{dtime(self.t0)}&#32;{archinfo}&#32;{self.evals.value:.0f}&#32;{self.evals.value/(1E-9&#32;+&#32;dtime(self.t0)):.1f}&#32;{self.best_y.value:.3f}&#32;{list(x)}&apos;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01341"/>01341 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;)&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01342"/>01342 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;save&#32;<emphasis role="keywordflow">and</emphasis>&#32;hasattr(self,&#32;<emphasis role="stringliteral">&apos;archive&apos;</emphasis>):
<anchor xml:id="_mapelites_8py_source_1l01343"/>01343 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.archive.save(f<emphasis role="stringliteral">&apos;{self.evals.value}&apos;</emphasis>)
<anchor xml:id="_mapelites_8py_source_1l01344"/>01344 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;y,&#32;desc
<anchor xml:id="_mapelites_8py_source_1l01345"/>01345 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">except</emphasis>&#32;Exception&#32;<emphasis role="keyword">as</emphasis>&#32;ex:
<anchor xml:id="_mapelites_8py_source_1l01346"/>01346 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;print(str(ex))&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01347"/>01347 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;np.inf,&#32;np.zeros(self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a02e60134786bef32dc1cc014911d00f8">qd_dim</link>)
<anchor xml:id="_mapelites_8py_source_1l01348"/>01348 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01349"/>01349 <emphasis role="keyword">class&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1in__niche__filter">in_niche_filter</link>(object):
<anchor xml:id="_mapelites_8py_source_1l01350"/>01350 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;Filters&#32;and&#32;evaluates&#32;data&#32;based&#32;on&#32;niche&#32;and&#32;fitness&#32;criteria.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01351"/>01351 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01352"/><link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1aef447c485c8dad313f64e3df4768218e">01352</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;This&#32;class&#32;determines&#32;whether&#32;a&#32;given&#32;data&#32;point&#32;belongs&#32;to&#32;a&#32;specific&#32;niche</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01353"/>01353 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;and&#32;evaluates&#32;it&#32;based&#32;on&#32;a&#32;fitness&#32;function.&#32;If&#32;the&#32;data&#32;point&#32;does&#32;not&#32;belong</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01354"/>01354 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;to&#32;the&#32;specified&#32;niche,&#32;it&#32;assigns&#32;an&#32;infinite&#32;fitness&#32;value&#32;to&#32;indicate&#32;that</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01355"/>01355 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;the&#32;point&#32;is&#32;not&#32;relevant&#32;to&#32;the&#32;niche&#32;being&#32;evaluated.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01356"/>01356 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01357"/>01357 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Attributes:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01358"/>01358 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fit&#32;(Callable[[ArrayLike],&#32;Tuple[float,&#32;np.ndarray]]):&#32;A&#32;fitness&#32;evaluation</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01359"/>01359 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;function&#32;that&#32;takes&#32;an&#32;input&#32;of&#32;type&#32;ArrayLike&#32;and&#32;returns&#32;a&#32;tuple&#32;with&#32;a</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01360"/>01360 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fitness&#32;value&#32;and&#32;a&#32;descriptor.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01361"/>01361 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;index&#32;(int):&#32;Index&#32;representing&#32;the&#32;specific&#32;niche&#32;to&#32;evaluate&#32;against.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01362"/>01362 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;index_of_niches&#32;(Callable[[ArrayLike],&#32;np.ndarray]):&#32;A&#32;function&#32;that&#32;determines</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01363"/>01363 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;niche&#32;index&#32;for&#32;a&#32;given&#32;input&#32;based&#32;on&#32;its&#32;descriptor.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01364"/>01364 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01365"/>01365 &#32;&#32;&#32;&#32;
<anchor xml:id="_mapelites_8py_source_1l01366"/>01366 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1aabff3459c811afa2fde70139254db138">__init__</link>(self,&#32;
<anchor xml:id="_mapelites_8py_source_1l01367"/>01367 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fit:Callable[[ArrayLike],&#32;Tuple[float,&#32;np.ndarray]],&#32;
<anchor xml:id="_mapelites_8py_source_1l01368"/>01368 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;index:&#32;int,&#32;
<anchor xml:id="_mapelites_8py_source_1l01369"/>01369 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;index_of_niches:&#32;Callable[[ArrayLike],&#32;np.ndarray]):
<anchor xml:id="_mapelites_8py_source_1l01370"/>01370 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01371"/>01371 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Initializes&#32;an&#32;instance&#32;of&#32;a&#32;class&#32;to&#32;manage&#32;niche-based&#32;functionality&#32;and&#32;fitness&#32;evaluation.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01372"/>01372 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01373"/>01373 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;This&#32;constructor&#32;sets&#32;up&#32;the&#32;necessary&#32;components&#32;to&#32;evaluate&#32;fitness&#32;and&#32;handle&#32;niche-related</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01374"/>01374 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;computations.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01375"/>01375 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01376"/>01376 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01377"/>01377 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fit&#32;(Callable[[ArrayLike],&#32;Tuple[float,&#32;np.ndarray]]):&#32;A&#32;function&#32;that&#32;takes&#32;an&#32;array-like</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01378"/>01378 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;input&#32;and&#32;returns&#32;a&#32;tuple&#32;containing&#32;a&#32;float&#32;representing&#32;the&#32;fitness&#32;value&#32;and&#32;a</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01379"/>01379 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;numpy.ndarray&#32;for&#32;additional&#32;fitness-related&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01380"/>01380 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;index&#32;(int):&#32;An&#32;integer&#32;representing&#32;the&#32;index&#32;or&#32;identifier&#32;for&#32;this&#32;instance.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01381"/>01381 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;index_of_niches&#32;(Callable[[ArrayLike],&#32;np.ndarray]):&#32;A&#32;function&#32;that&#32;takes&#32;an&#32;array-like</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01382"/>01382 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;input&#32;and&#32;returns&#32;a&#32;numpy.ndarray&#32;corresponding&#32;to&#32;the&#32;indices&#32;of&#32;niches&#32;associated</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01383"/>01383 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;with&#32;the&#32;input.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01384"/>01384 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01385"/>01385 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1a3dcdc7f9a349494aad1b493a11cd42af">fit</link>&#32;=&#32;fit
<anchor xml:id="_mapelites_8py_source_1l01386"/>01386 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.index_of_niches&#32;=&#32;index_of_niches
<anchor xml:id="_mapelites_8py_source_1l01387"/>01387 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.index&#32;=&#32;index
<anchor xml:id="_mapelites_8py_source_1l01388"/>01388 
<anchor xml:id="_mapelites_8py_source_1l01389"/>01389 &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classfcmaes_1_1mapelites_1_1wrapper_1aef447c485c8dad313f64e3df4768218e">__call__</link>(self,&#32;x:&#32;ArrayLike)&#32;-&gt;&#32;float:
<anchor xml:id="_mapelites_8py_source_1l01390"/>01390 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01391"/>01391 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Evaluates&#32;the&#32;input&#32;by&#32;fitting&#32;it&#32;and&#32;checking&#32;against&#32;a&#32;specific&#32;index.&#32;Returns&#32;the</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01392"/>01392 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;computed&#32;result&#32;if&#32;the&#32;index&#32;matches;&#32;otherwise,&#32;returns&#32;infinity.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01393"/><link linkend="_classfcmaes_1_1mapelites_1_1in__niche__filter">01393</link> <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01394"/>01394 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01395"/>01395 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x&#32;(ArrayLike):&#32;Input&#32;array&#32;to&#32;be&#32;evaluated.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01396"/>01396 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01397"/>01397 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01398"/>01398 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;float:&#32;Computed&#32;result&#32;`y`&#32;if&#32;the&#32;index&#32;matches;&#32;otherwise,&#32;infinity&#32;(np.inf).</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01399"/>01399 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01400"/>01400 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;y,&#32;desc&#32;=&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1in__niche__filter_1a92398321d5c000aad5ddad54cd92a349">fit</link>(x)
<anchor xml:id="_mapelites_8py_source_1l01401"/>01401 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1in__niche__filter_1ac6c721121ac09bd043d9d5bc141f79ff">index_of_niches</link>([desc])[0]&#32;==&#32;self.<link linkend="_classfcmaes_1_1mapelites_1_1in__niche__filter_1abefaec57e0e3215cd40bdcf1dc42f0e6">index</link>:
<anchor xml:id="_mapelites_8py_source_1l01402"/>01402 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;y
<anchor xml:id="_mapelites_8py_source_1l01403"/>01403 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:
<anchor xml:id="_mapelites_8py_source_1l01404"/>01404 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;np.inf
<anchor xml:id="_mapelites_8py_source_1l01405"/>01405 
<anchor xml:id="_mapelites_8py_source_1l01406"/>01406 <emphasis role="keyword">def&#32;</emphasis><link linkend="_namespacefcmaes_1_1mapelites_1a5f70b23800f6a77b08d918f5aa0f9b3d">variation_</link>(pop,&#32;lower,&#32;upper,&#32;rg,&#32;dis_c&#32;=&#32;20,&#32;dis_m&#32;=&#32;20):
<anchor xml:id="_mapelites_8py_source_1l01407"/>01407 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01408"/>01408 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Generates&#32;offspring&#32;using&#32;a&#32;variation&#32;operator&#32;for&#32;a&#32;given&#32;population&#32;according&#32;to&#32;the&#32;simulated</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01409"/>01409 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;binary&#32;crossover&#32;(SBX)&#32;and&#32;polynomial&#32;mutation&#32;mechanisms.&#32;This&#32;method&#32;scales&#32;both&#32;the&#32;spread&#32;factors</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01410"/>01410 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;of&#32;crossover&#32;(`dis_c`)&#32;and&#32;mutation&#32;(`dis_m`)&#32;randomly&#32;within&#32;their&#32;range&#32;to&#32;introduce&#32;stochasticity.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01411"/>01411 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01412"/>01412 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01413"/><link linkend="_classfcmaes_1_1mapelites_1_1in__niche__filter_1ae359024a8d9321fa9435b80d4f1c68b5">01413</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;pop&#32;(np.ndarray):&#32;2D&#32;array&#32;representing&#32;the&#32;population,&#32;where&#32;each&#32;row&#32;corresponds&#32;to&#32;an&#32;individual&#32;and</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01414"/>01414 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;each&#32;column&#32;to&#32;a&#32;decision&#32;variable.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01415"/>01415 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lower&#32;(np.ndarray):&#32;1D&#32;array&#32;specifying&#32;the&#32;lower&#32;bound&#32;of&#32;each&#32;decision&#32;variable.&#32;Its&#32;length&#32;must&#32;match</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01416"/>01416 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;number&#32;of&#32;columns&#32;in&#32;the&#32;population.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01417"/><link linkend="_classfcmaes_1_1mapelites_1_1in__niche__filter_1a92398321d5c000aad5ddad54cd92a349">01417</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;upper&#32;(np.ndarray):&#32;1D&#32;array&#32;specifying&#32;the&#32;upper&#32;bound&#32;of&#32;each&#32;decision&#32;variable.&#32;Its&#32;length&#32;must&#32;match</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01418"/><link linkend="_classfcmaes_1_1mapelites_1_1in__niche__filter_1ac6c721121ac09bd043d9d5bc141f79ff">01418</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;number&#32;of&#32;columns&#32;in&#32;the&#32;population.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01419"/><link linkend="_classfcmaes_1_1mapelites_1_1in__niche__filter_1abefaec57e0e3215cd40bdcf1dc42f0e6">01419</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;rg&#32;(np.random.Generator):&#32;Random&#32;generator&#32;instance&#32;for&#32;stochastic&#32;operations.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01420"/>01420 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dis_c&#32;(float,&#32;optional):&#32;Distribution&#32;index&#32;for&#32;crossover&#32;operation,&#32;controlling&#32;spread&#32;of&#32;solutions</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01421"/>01421 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;during&#32;SBX.&#32;Defaults&#32;to&#32;20.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01422"/>01422 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dis_m&#32;(float,&#32;optional):&#32;Distribution&#32;index&#32;for&#32;mutation&#32;operation,&#32;controlling&#32;spread&#32;of&#32;mutations.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01423"/>01423 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Defaults&#32;to&#32;20.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01424"/>01424 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01425"/>01425 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01426"/>01426 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.ndarray:&#32;The&#32;newly&#32;generated&#32;offspring&#32;population,&#32;with&#32;the&#32;same&#32;shape&#32;as&#32;the&#32;input&#32;`pop`.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01427"/>01427 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01428"/>01428 &#32;&#32;&#32;&#32;dis_c&#32;*=&#32;0.5&#32;+&#32;0.5*rg.random()&#32;<emphasis role="comment">#&#32;vary&#32;spread&#32;factors&#32;randomly&#32;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01429"/>01429 &#32;&#32;&#32;&#32;dis_m&#32;*=&#32;0.5&#32;+&#32;0.5*rg.random()&#32;
<anchor xml:id="_mapelites_8py_source_1l01430"/>01430 &#32;&#32;&#32;&#32;pop&#32;=&#32;pop[:(len(pop)&#32;//&#32;2)&#32;*&#32;2][:]
<anchor xml:id="_mapelites_8py_source_1l01431"/><link linkend="_classfcmaes_1_1mapelites_1_1in__niche__filter_1a488d9065cc360b95c707fcd92793ff31">01431</link> &#32;&#32;&#32;&#32;(n,&#32;d)&#32;=&#32;np.shape(pop)
<anchor xml:id="_mapelites_8py_source_1l01432"/>01432 &#32;&#32;&#32;&#32;parent_1&#32;=&#32;pop[:n&#32;//&#32;2,&#32;:]
<anchor xml:id="_mapelites_8py_source_1l01433"/>01433 &#32;&#32;&#32;&#32;parent_2&#32;=&#32;pop[n&#32;//&#32;2:,&#32;:]
<anchor xml:id="_mapelites_8py_source_1l01434"/>01434 &#32;&#32;&#32;&#32;beta&#32;=&#32;np.zeros((n&#32;//&#32;2,&#32;d))
<anchor xml:id="_mapelites_8py_source_1l01435"/>01435 &#32;&#32;&#32;&#32;mu&#32;=&#32;rg.random((n&#32;//&#32;2,&#32;d))
<anchor xml:id="_mapelites_8py_source_1l01436"/>01436 &#32;&#32;&#32;&#32;beta[mu&#32;&lt;=&#32;0.5]&#32;=&#32;np.power(2&#32;*&#32;mu[mu&#32;&lt;=&#32;0.5],&#32;1&#32;/&#32;(dis_c&#32;+&#32;1))
<anchor xml:id="_mapelites_8py_source_1l01437"/>01437 &#32;&#32;&#32;&#32;beta[mu&#32;&gt;&#32;0.5]&#32;=&#32;np.power(2&#32;*&#32;mu[mu&#32;&gt;&#32;0.5],&#32;-1&#32;/&#32;(dis_c&#32;+&#32;1))
<anchor xml:id="_mapelites_8py_source_1l01438"/>01438 &#32;&#32;&#32;&#32;beta&#32;=&#32;beta&#32;*&#32;((-1)**&#32;rg.integers(2,&#32;size=(n&#32;//&#32;2,&#32;d)))
<anchor xml:id="_mapelites_8py_source_1l01439"/>01439 &#32;&#32;&#32;&#32;beta[rg.random((n&#32;//&#32;2,&#32;d))&#32;&lt;&#32;0.5]&#32;=&#32;1
<anchor xml:id="_mapelites_8py_source_1l01440"/>01440 &#32;&#32;&#32;&#32;parent_mean&#32;=&#32;(parent_1&#32;+&#32;parent_2)&#32;/&#32;2
<anchor xml:id="_mapelites_8py_source_1l01441"/>01441 &#32;&#32;&#32;&#32;parent_diff&#32;=&#32;(parent_1&#32;-&#32;parent_2)&#32;/&#32;2
<anchor xml:id="_mapelites_8py_source_1l01442"/>01442 &#32;&#32;&#32;&#32;offspring&#32;=&#32;np.vstack((parent_mean&#32;+&#32;beta&#32;*&#32;parent_diff,&#32;parent_mean&#32;-&#32;beta&#32;*&#32;parent_diff))
<anchor xml:id="_mapelites_8py_source_1l01443"/>01443 &#32;&#32;&#32;&#32;site&#32;=&#32;rg.random((n,&#32;d))&#32;&lt;&#32;1.0&#32;/&#32;d
<anchor xml:id="_mapelites_8py_source_1l01444"/>01444 &#32;&#32;&#32;&#32;mu&#32;=&#32;rg.random((n,&#32;d))
<anchor xml:id="_mapelites_8py_source_1l01445"/>01445 &#32;&#32;&#32;&#32;temp&#32;=&#32;site&#32;&amp;&#32;(mu&#32;&lt;=&#32;0.5)
<anchor xml:id="_mapelites_8py_source_1l01446"/>01446 &#32;&#32;&#32;&#32;lower,&#32;upper&#32;=&#32;np.tile(lower,&#32;(n,&#32;1)),&#32;np.tile(upper,&#32;(n,&#32;1))
<anchor xml:id="_mapelites_8py_source_1l01447"/>01447 &#32;&#32;&#32;&#32;norm&#32;=&#32;(offspring[temp]&#32;-&#32;lower[temp])&#32;/&#32;(upper[temp]&#32;-&#32;lower[temp])
<anchor xml:id="_mapelites_8py_source_1l01448"/>01448 &#32;&#32;&#32;&#32;offspring[temp]&#32;+=&#32;(upper[temp]&#32;-&#32;lower[temp])&#32;*&#32;\
<anchor xml:id="_mapelites_8py_source_1l01449"/>01449 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(np.power(2.&#32;*&#32;mu[temp]&#32;+&#32;(1.&#32;-&#32;2.&#32;*&#32;mu[temp])&#32;*&#32;np.power(np.abs(1.&#32;-&#32;norm),&#32;dis_m&#32;+&#32;1.),
<anchor xml:id="_mapelites_8py_source_1l01450"/>01450 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;1.&#32;/&#32;(dis_m&#32;+&#32;1))&#32;-&#32;1.)
<anchor xml:id="_mapelites_8py_source_1l01451"/>01451 &#32;&#32;&#32;&#32;temp&#32;=&#32;site&#32;&amp;&#32;(mu&#32;&gt;&#32;0.5)
<anchor xml:id="_mapelites_8py_source_1l01452"/>01452 &#32;&#32;&#32;&#32;norm&#32;=&#32;(upper[temp]&#32;-&#32;offspring[temp])&#32;/&#32;(upper[temp]&#32;-&#32;lower[temp])
<anchor xml:id="_mapelites_8py_source_1l01453"/>01453 &#32;&#32;&#32;&#32;offspring[temp]&#32;+=&#32;(upper[temp]&#32;-&#32;lower[temp])&#32;*&#32;\
<anchor xml:id="_mapelites_8py_source_1l01454"/>01454 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;(1.&#32;-&#32;np.power(
<anchor xml:id="_mapelites_8py_source_1l01455"/>01455 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;2.&#32;*&#32;(1.&#32;-&#32;mu[temp])&#32;+&#32;2.&#32;*&#32;(mu[temp]&#32;-&#32;0.5)&#32;*&#32;np.power(np.abs(1.&#32;-&#32;norm),&#32;dis_m&#32;+&#32;1.),
<anchor xml:id="_mapelites_8py_source_1l01456"/>01456 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;1.&#32;/&#32;(dis_m&#32;+&#32;1.)))
<anchor xml:id="_mapelites_8py_source_1l01457"/>01457 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;np.clip(offspring,&#32;lower,&#32;upper)
<anchor xml:id="_mapelites_8py_source_1l01458"/>01458 
<anchor xml:id="_mapelites_8py_source_1l01459"/><link linkend="_namespacefcmaes_1_1mapelites_1a5f70b23800f6a77b08d918f5aa0f9b3d">01459</link> <emphasis role="keyword">def&#32;</emphasis><link linkend="_namespacefcmaes_1_1mapelites_1aa557fd895bcaf40f495273ef16953c11">iso_dd_</link>(x1,&#32;x2,&#32;lower,&#32;upper,&#32;rg,&#32;iso_sigma&#32;=&#32;0.01,&#32;line_sigma&#32;=&#32;0.2):
<anchor xml:id="_mapelites_8py_source_1l01460"/>01460 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01461"/>01461 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Generates&#32;isotropic&#32;deviation&#32;data&#32;within&#32;specified&#32;bounds.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01462"/>01462 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01463"/>01463 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;This&#32;function&#32;creates&#32;a&#32;variation&#32;of&#32;the&#32;input&#32;data&#32;`x1`&#32;influenced&#32;by</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01464"/>01464 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Gaussian&#32;noise&#32;parameters&#32;for&#32;isotropic&#32;and&#32;line&#32;deviations.&#32;The&#32;result</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01465"/>01465 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;is&#32;clipped&#32;to&#32;remain&#32;within&#32;the&#32;range&#32;defined&#32;by&#32;the&#32;`lower`&#32;and&#32;`upper`</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01466"/>01466 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;bounds.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01467"/>01467 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01468"/>01468 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01469"/>01469 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x1:&#32;The&#32;primary&#32;input&#32;array&#32;for&#32;generating&#32;isotropic&#32;deviation&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01470"/>01470 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x2:&#32;The&#32;secondary&#32;input&#32;array&#32;influencing&#32;line&#32;deviation&#32;calculation.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01471"/>01471 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lower:&#32;The&#32;lower&#32;bound&#32;for&#32;clipping&#32;the&#32;resulting&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01472"/>01472 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;upper:&#32;The&#32;upper&#32;bound&#32;for&#32;clipping&#32;the&#32;resulting&#32;data.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01473"/>01473 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;rg:&#32;Random&#32;generator&#32;object&#32;used&#32;for&#32;generating&#32;Gaussian&#32;noise.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01474"/>01474 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;iso_sigma:&#32;Standard&#32;deviation&#32;of&#32;the&#32;isotropic&#32;Gaussian&#32;noise.&#32;Defaults</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01475"/>01475 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;to&#32;0.01.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01476"/>01476 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;line_sigma:&#32;Standard&#32;deviation&#32;of&#32;the&#32;line&#32;Gaussian&#32;noise.&#32;Defaults&#32;to</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01477"/>01477 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0.2.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01478"/>01478 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01479"/>01479 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01480"/>01480 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ndarray:&#32;The&#32;processed&#32;array&#32;with&#32;isotropic&#32;and&#32;line&#32;deviations</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01481"/>01481 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;applied&#32;and&#32;bounded&#32;by&#32;the&#32;given&#32;limits.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01482"/>01482 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01483"/>01483 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01484"/>01484 &#32;&#32;&#32;&#32;a&#32;=&#32;rg.normal(0,&#32;iso_sigma,&#32;x1.shape)&#32;
<anchor xml:id="_mapelites_8py_source_1l01485"/>01485 &#32;&#32;&#32;&#32;b&#32;=&#32;rg.normal(0,&#32;line_sigma,&#32;x2.shape)&#32;
<anchor xml:id="_mapelites_8py_source_1l01486"/>01486 &#32;&#32;&#32;&#32;z&#32;=&#32;x1&#32;+&#32;a&#32;+&#32;np.multiply(b,&#32;(x1&#32;-&#32;x2))
<anchor xml:id="_mapelites_8py_source_1l01487"/>01487 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;np.clip(z,&#32;lower,&#32;upper)
<anchor xml:id="_mapelites_8py_source_1l01488"/>01488 
<anchor xml:id="_mapelites_8py_source_1l01489"/>01489 <emphasis role="keyword">def&#32;</emphasis><link linkend="_namespacefcmaes_1_1mapelites_1a1cd72ab87d7aa999a255ad854895d3aa">get_centers_</link>(niche_num,&#32;dim,&#32;samples_per_niche):
<anchor xml:id="_mapelites_8py_source_1l01490"/>01490 &#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01491"/>01491 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Determines&#32;and&#32;returns&#32;the&#32;centers&#32;of&#32;niches&#32;in&#32;a&#32;defined&#32;space&#32;using&#32;k-means&#32;clustering.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01492"/>01492 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;If&#32;the&#32;data&#32;is&#32;cached,&#32;it&#32;loads&#32;the&#32;cached&#32;centers&#32;for&#32;faster&#32;access.&#32;Otherwise,&#32;it&#32;computes</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01493"/>01493 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;the&#32;centers&#32;by&#32;applying&#32;k-means&#32;clustering&#32;on&#32;randomly&#32;generated&#32;samples&#32;and&#32;caches&#32;the</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01494"/>01494 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;result&#32;for&#32;future&#32;use.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01495"/>01495 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01496"/>01496 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Args:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01497"/>01497 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;niche_num&#32;(int):&#32;Number&#32;of&#32;niches&#32;or&#32;clusters&#32;to&#32;determine&#32;centers&#32;for.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01498"/>01498 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;dim&#32;(int):&#32;Dimensionality&#32;of&#32;the&#32;space&#32;where&#32;the&#32;niches&#32;are&#32;located.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01499"/>01499 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;samples_per_niche&#32;(int):&#32;Number&#32;of&#32;samples&#32;used&#32;per&#32;niche&#32;to&#32;compute&#32;the&#32;centers.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01500"/>01500 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_mapelites_8py_source_1l01501"/>01501 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;Returns:</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01502"/>01502 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;numpy.ndarray:&#32;An&#32;array&#32;representing&#32;the&#32;determined&#32;centers&#32;of&#32;the&#32;niches.</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01503"/>01503 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01504"/>01504 &#32;&#32;&#32;&#32;p&#32;=&#32;Path(<emphasis role="stringliteral">&apos;voronoi_cache&apos;</emphasis>)
<anchor xml:id="_mapelites_8py_source_1l01505"/>01505 &#32;&#32;&#32;&#32;p.mkdir(exist_ok=<emphasis role="keyword">True</emphasis>)
<anchor xml:id="_mapelites_8py_source_1l01506"/>01506 &#32;&#32;&#32;&#32;fname&#32;=&#32;f<emphasis role="stringliteral">&apos;centers_{niche_num}_{dim}_{samples_per_niche}.npz&apos;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01507"/>01507 &#32;&#32;&#32;&#32;files&#32;=&#32;p.glob(fname)
<anchor xml:id="_mapelites_8py_source_1l01508"/>01508 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;file&#32;<emphasis role="keywordflow">in</emphasis>&#32;files:&#32;<emphasis role="comment">#&#32;if&#32;cached&#32;just&#32;load</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01509"/>01509 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">with</emphasis>&#32;np.load(file)&#32;<emphasis role="keyword">as</emphasis>&#32;data:
<anchor xml:id="_mapelites_8py_source_1l01510"/>01510 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;data[<emphasis role="stringliteral">&apos;cs&apos;</emphasis>]
<anchor xml:id="_mapelites_8py_source_1l01511"/>01511 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:
<anchor xml:id="_mapelites_8py_source_1l01512"/>01512 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;descs&#32;=&#32;rng.uniform(0,&#32;1,&#32;(niche_num*samples_per_niche,&#32;dim))
<anchor xml:id="_mapelites_8py_source_1l01513"/>01513 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;Applies&#32;KMeans&#32;to&#32;the&#32;random&#32;samples&#32;determine&#32;the&#32;centers&#32;of&#32;each&#32;niche.&quot;&quot;&quot;</emphasis>
<anchor xml:id="_mapelites_8py_source_1l01514"/>01514 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;k_means&#32;=&#32;KMeans(init=<emphasis role="stringliteral">&apos;k-means++&apos;</emphasis>,&#32;n_clusters=niche_num,&#32;n_init=1,&#32;verbose=1)
<anchor xml:id="_mapelites_8py_source_1l01515"/><link linkend="_namespacefcmaes_1_1mapelites_1aa557fd895bcaf40f495273ef16953c11">01515</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;k_means.fit(descs)
<anchor xml:id="_mapelites_8py_source_1l01516"/>01516 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;centers&#32;=&#32;k_means.cluster_centers_
<anchor xml:id="_mapelites_8py_source_1l01517"/>01517 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;np.savez_compressed(f<emphasis role="stringliteral">&apos;voronoi_cache/centers_{niche_num}_{dim}_{samples_per_niche}&apos;</emphasis>,&#32;cs=centers)
<anchor xml:id="_mapelites_8py_source_1l01518"/>01518 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;centers
</programlisting></section>
