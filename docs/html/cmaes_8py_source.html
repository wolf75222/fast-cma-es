<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>Fast CMA-ES: fcmaes/cmaes.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/TeX/AMSmath','[tex]/TeX/AMSsymbols']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','TeX/AMSmath','TeX/AMSsymbols']
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/jothepro/doxygen-awesome-css" class="github-corner" title="View source on GitHub" target="_blank" rel="noopener noreferrer">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="fcames.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fast CMA-ES
   &#160;<span id="projectnumber">1.6.11</span>
   </div>
   <div id="projectbrief">Fast Covariance Matrix Adaptation Evolution Strategy (CMA-ES) implementation in C++ and Python</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('cmaes_8py_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">cmaes.py</div></div>
</div><!--header-->
<div class="contents">
<a href="cmaes_8py.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno"><a class="line" href="namespacefcmaes_1_1cmaes.html">    1</a></span><span class="comment"># -*- coding: utf-8 -*-</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="stringliteral">=============================================================================</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="stringliteral"> Fast CMA-ES - version 1.6.11</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="stringliteral"> (c) 2025 – Dietmar Wolz</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="stringliteral"> (c) 2025 – Latitude</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="stringliteral"> License: MIT</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="stringliteral"> File:</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="stringliteral">  - cmaes.py</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="stringliteral"> Description:</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="stringliteral">  - This module implements the Covariance Matrix Adaptation Evolution Strategy (CMA-ES)</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="stringliteral">    for optimization tasks. It provides a framework for minimizing scalar functions</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="stringliteral">    using evolutionary strategies, with support for parallel execution and adaptive</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="stringliteral">    stopping criteria.</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="stringliteral">  - The implementation is based on the original CMA-ES algorithm and has been optimized</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="stringliteral">    for performance using NumPy and SciPy libraries.</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="stringliteral"> Authors:</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="stringliteral">  - Dietmar Wolz</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="stringliteral">  - romain.despoullains@latitude.eu</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="stringliteral">  - corentin.generet@latitude.eu</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="stringliteral"> References:</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="stringliteral">  - [1] https://github.com/dietmarwo/fast-cma-es</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="stringliteral">  - [2] http://cma.gforge.inria.fr/cmaes.m</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="stringliteral">  - [3] https://www.researchgate.net/publication/227050324_The_CMA_Evolution_Strategy_A_Comparing_Review</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="stringliteral"> Documentation:</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="stringliteral">  -</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="stringliteral">=============================================================================</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span> </div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="keyword">import</span> sys</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="keyword">import</span> os</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="keyword">import</span> math</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="keyword">from</span> time <span class="keyword">import</span> time</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="keyword">import</span> ctypes <span class="keyword">as</span> ct</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="keyword">import</span> multiprocessing <span class="keyword">as</span> mp</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="keyword">from</span> scipy <span class="keyword">import</span> linalg</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> OptimizeResult, Bounds</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="keyword">from</span> numpy.random <span class="keyword">import</span> PCG64DXSM, Generator</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="keyword">from</span> <a class="code hl_namespace" href="namespacefcmaes_1_1evaluator.html">fcmaes.evaluator</a> <span class="keyword">import</span> Evaluator, serial, _check_bounds, _fitness, is_debug_active</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="keyword">from</span> loguru <span class="keyword">import</span> logger</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="keyword">from</span> typing <span class="keyword">import</span> Optional, Callable, Union</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="keyword">from</span> numpy.typing <span class="keyword">import</span> ArrayLike</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>os.environ[<span class="stringliteral">&#39;MKL_DEBUG_CPU_TYPE&#39;</span>] = <span class="stringliteral">&#39;5&#39;</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="keyword">def </span><a class="code hl_function" href="namespacefcmaes_1_1cmaes.html#ab8082e1fc4bdc2b20f0c1628e2923abd">minimize</a>(fun: Callable[[ArrayLike], float], </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>             bounds: Optional[Bounds] = <span class="keywordtype">None</span>, </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>             x0: Optional[ArrayLike] = <span class="keywordtype">None</span>,</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>             input_sigma: Optional[Union[float, ArrayLike, Callable]] = 0.3,</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>             popsize: Optional[int] = 31,</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>             max_evaluations: Optional[int]  = 100000,</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>             max_iterations: Optional[int]  = 100000,</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>             workers: Optional[int]  = 1,</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>             accuracy: Optional[float] = 1.0,</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>             stop_fitness: Optional[float] = -np.inf,</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>             is_terminate: Optional[Callable[[ArrayLike, float], bool]]  = <span class="keywordtype">None</span>,</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>             rg: Optional[Generator] = Generator(PCG64DXSM()),</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>             runid: Optional[int] = 0,</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>             normalize: Optional[bool] = <span class="keyword">True</span>,</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>             update_gap: Optional[int] = <span class="keywordtype">None</span>) -&gt; OptimizeResult:</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="stringliteral">    Minimizes a scalar function using the Covariance Matrix Adaptation Evolution</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="stringliteral">    Strategy (CMA-ES) algorithm.</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="stringliteral">    This function is designed to handle optimization tasks for non-linear, non-convex,</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="stringliteral">    and possibly noisy objective functions. It supports parallel execution via workers,</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="stringliteral">    normalization of the input search space, and adaptive stopping criteria based on given</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="stringliteral">    conditions.</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="stringliteral">    Args:</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="stringliteral">        fun (Callable[[ArrayLike], float]): The objective function to be minimized.</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="stringliteral">            It should take an input array and return a scalar value.</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="stringliteral">        bounds (Optional[Bounds]): The lower and upper bounds for the search space.</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="stringliteral">            If None, the search space is considered unbounded.</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="stringliteral">        x0 (Optional[ArrayLike]): Initial solution guess. If None, an initial guess</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="stringliteral">            will be generated randomly.</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="stringliteral">        input_sigma (Optional[Union[float, ArrayLike, Callable]]): The initial</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="stringliteral">            standard deviation for the sampling. Can be float, array, or callable.</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="stringliteral">        popsize (Optional[int]): The population size for the CMA-ES algorithm.</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="stringliteral">            Defaults to 31.</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span><span class="stringliteral">        max_evaluations (Optional[int]): Maximum number of function evaluations</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="stringliteral">            allowed. Defaults to 100,000.</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="stringliteral">        max_iterations (Optional[int]): Maximum number of iterations allowed</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span><span class="stringliteral">            for the algorithm. Defaults to 100,000.</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="stringliteral">        workers (Optional[int]): Number of parallel processes to be used. If set</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span><span class="stringliteral">            to 1 or less, the algorithm will run in serial mode. Defaults to 1.</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span><span class="stringliteral">        accuracy (Optional[float]): The accuracy tolerance used to adjust the</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="stringliteral">            optimization stopping criteria. Defaults to 1.0.</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span><span class="stringliteral">        stop_fitness (Optional[float]): Objective function value at which the</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="stringliteral">            optimization process is terminated if reached. Defaults to -infinity.</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span><span class="stringliteral">        is_terminate (Optional[Callable[[ArrayLike, float], bool]]): Custom</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span><span class="stringliteral">            termination condition provided as a callable. Defaults to None.</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span><span class="stringliteral">        rg (Optional[Generator]): The random number generator to be used. Defaults</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span><span class="stringliteral">            to `Generator(PCG64DXSM())`.</span></div>
<div class="foldopen" id="foldopen00108" data-start="" data-end="">
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="namespacefcmaes_1_1cmaes.html#ab8082e1fc4bdc2b20f0c1628e2923abd">  108</a></span><span class="stringliteral">        runid (Optional[int]): Identifier for the optimization run. Defaults to 0.</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="stringliteral">        normalize (Optional[bool]): Indicates if the search space should be normalized.</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><span class="stringliteral">            Defaults to True.</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span><span class="stringliteral">        update_gap (Optional[int]): Interval for delayed updates in the algorithm.</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span><span class="stringliteral">            If None, updates are not delayed.</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span><span class="stringliteral">    Returns:</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span><span class="stringliteral">        OptimizeResult: Object containing the results of the optimization. Includes</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span><span class="stringliteral">            the optimized solution (`x`), the minimized function value (`fun`),</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span><span class="stringliteral">            number of function evaluations (`nfev`), number of iterations (`nit`),</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span><span class="stringliteral">            algorithm exit status (`status`), and success flag (`success`).</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>  </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <span class="keywordflow">if</span> workers <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> workers &lt;= 1:</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        fun = serial(fun)        </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    cmaes = <a class="code hl_class" href="classfcmaes_1_1cmaes_1_1_cmaes.html">Cmaes</a>(bounds, x0, </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>                      input_sigma, popsize, </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>                      max_evaluations, max_iterations, </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>                      accuracy, stop_fitness, </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>                      is_terminate, rg, np.random.randn, runid, normalize, </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>                      update_gap, fun)        </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="keywordflow">if</span> workers <span class="keywordflow">and</span> workers &gt; 1:</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        x, val, evals, iterations, stop = cmaes.do_optimize_delayed_update(fun, workers=workers)</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="keywordflow">else</span>:      </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>        x, val, evals, iterations, stop = cmaes.doOptimize()</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="keywordflow">return</span> OptimizeResult(x=x, fun=val, nfev=evals, nit=iterations, status=stop, </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>                          success=<span class="keyword">True</span>)</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><span class="keyword">class </span><a class="code hl_class" href="classfcmaes_1_1cmaes_1_1_cmaes.html">Cmaes</a>(object):</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><span class="stringliteral">    Optimization solver implementing the Covariance Matrix Adaptation Evolution Strategy (CMA-ES).</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span><span class="stringliteral">    The CMA-ES algorithm is an evolutionary strategy for solving complex optimization problems. This</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span><span class="stringliteral">    class is used to configure and execute the&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    </div>
<div class="foldopen" id="foldopen00144" data-start="" data-end="">
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html">  144</a></span>    <span class="keyword">def </span><a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a081d9143661974676245efab12c318cb">__init__</a>(self, bounds: Optional[Bounds] = <span class="keywordtype">None</span>,</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>                        x0: Optional[ArrayLike] = <span class="keywordtype">None</span>,</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>                        input_sigma: Optional[Union[float, ArrayLike, Callable]] = 0.3,</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>                        popsize: Optional[int] = 31,</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>                        max_evaluations: Optional[int] = 100000,</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>                        max_iterations: Optional[int] = 100000,</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>                        accuracy: Optional[int] = 1.0,</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>                        stop_fitness: Optional[float] = -np.inf,</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>                        is_terminate: Optional[bool] = <span class="keywordtype">None</span>,</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>                        rg: Optional[Generator] = Generator(PCG64DXSM()), <span class="comment"># used if x0 is undefined</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>                        randn: Optional[Callable] = np.random.randn, <span class="comment"># used for random offspring </span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>                        runid: Optional[int] = 0,</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>                        normalize: Optional[bool] = <span class="keyword">True</span>,</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>                        update_gap: Optional[int] = <span class="keywordtype">None</span>,</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>                        fun: Optional[Callable[[ArrayLike], float]] = <span class="keywordtype">None</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>                        ):</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span><span class="stringliteral">        Initializes the optimizer with user-defined or default parameters.</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span><span class="stringliteral">        This constructor sets up the configuration for the optimization process. Users can customize the</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span><span class="stringliteral">        initial state, population size, termination criteria, and other critical parameters to tune the</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span><span class="stringliteral">        algorithm&#39;s behavior. The initialization process also ensures that random generation settings are</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="stringliteral">        appropriately defined or defaulted.</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span><span class="stringliteral">        Args:</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span><span class="stringliteral">            bounds (Optional[Bounds]): Specifies the boundaries within which the optimization will occur.</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span><span class="stringliteral">            x0 (Optional[ArrayLike]): Initial guess or starting point for optimization.</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span><span class="stringliteral">            input_sigma (Optional[Union[float, ArrayLike, Callable]]): Initial standard deviation of the</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="stringliteral">                distribution used in the optimization process, with a default value of 0.3.</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span><span class="stringliteral">            popsize (Optional[int]): Population size for the evolutionary algorithm; default is 31.</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span><span class="stringliteral">            max_evaluations (Optional[int]): Maximum number of function evaluations allowed during the</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span><span class="stringliteral">                optimization process; default is 100000.</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="stringliteral">            max_iterations (Optional[int]): Maximum number of optimization iterations; default is 100000.</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span><span class="stringliteral">            accuracy (Optional[int]): Desired accuracy or precision level for the optimization process, with</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="stringliteral">                a default value of 1.0.</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span><span class="stringliteral">            stop_fitness (Optional[float]): Fitness value at which the optimization terminates early. The</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="stringliteral">                default is negative infinity (-np.inf), implying no fitness-based stopping criterion.</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span><span class="stringliteral">            is_terminate (Optional[bool]): Flag indicating whether early termination criteria are defined.</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><span class="stringliteral">            rg (Optional[Generator]): A generator object for random number generation, used if x0 is</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span><span class="stringliteral">                undefined; the default is Generator(PCG64DXSM()).</span></div>
<div class="foldopen" id="foldopen00184" data-start="" data-end="">
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a081d9143661974676245efab12c318cb">  184</a></span><span class="stringliteral">            randn (Optional[Callable]): Function for generating random offspring during the optimization</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span><span class="stringliteral">                process; default is `np.random.randn`.</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="stringliteral">            runid (Optional[int]): Identifier for the optimization run, useful for tracking multiple runs;</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span><span class="stringliteral">                default is 0.</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span><span class="stringliteral">            normalize (Optional[bool]): Flag indicating whether inputs should be normalized during the</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span><span class="stringliteral">                process; default is True.</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span><span class="stringliteral">            update_gap (Optional[int]): Frequency of updating certain parameters or values in the</span></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span><span class="stringliteral">                optimization process.</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span><span class="stringliteral">            fun (Optional[Callable[[ArrayLike], float]]): Objective function to be minimized or maximized.</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span><span class="stringliteral">                This function should accept an array-like input and return a float value representing</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span><span class="stringliteral">                the objective value.</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span> </div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <span class="comment"># runid used in is_terminate callback to identify a specific run at different iteration</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aaf84ee8e2f184fa2e5b5b49f681fb5ed">runid</a> = runid</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="comment"># bounds and guess</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        lower, upper, guess = _check_bounds(bounds, x0, rg)   </div>
</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fitfun</a> = <a class="code hl_class" href="classfcmaes_1_1evaluator_1_1__fitness.html">_fitness</a>(fun, lower, upper, normalize)</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aaf84ee8e2f184fa2e5b5b49f681fb5ed">  202</a></span>    <span class="comment"># initial guess for the arguments of the fitness function</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ad60e13f5cfc1f2c51e12bc24507708e9">guess</a> = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fitfun</a>.encode(guess)</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ad60e13f5cfc1f2c51e12bc24507708e9">  204</a></span>    <span class="comment"># random generators    </span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">  205</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a472913cd6e65e99db64b742fc0b348f8">rg</a> = rg <span class="comment"># used if x0 is undefined</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abc49c506631c8deb58566ce95a1b3069">randn</a> = randn <span class="comment"># used for random offspring </span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <span class="comment"># accuracy = 1.0 is default, &gt; 1.0 reduces accuracy</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae977d12b9b7f088beb9df50d43936122">accuracy</a> = accuracy</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a472913cd6e65e99db64b742fc0b348f8">  209</a></span>    <span class="comment"># callback to check if to terminate</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abc49c506631c8deb58566ce95a1b3069">  210</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a53ccd69a742fb33d4a8c783cdcd2b51a">is_terminate</a> = is_terminate</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <span class="comment"># Number of objective variables/problem dimension</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae977d12b9b7f088beb9df50d43936122">  212</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> = guess.size</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <span class="comment">#     Population size, offspring number. The primary strategy parameter to play</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a53ccd69a742fb33d4a8c783cdcd2b51a">  214</a></span>    <span class="comment">#     with, which can be increased from its default value. Increasing the</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <span class="comment">#     population size improves global search properties in exchange to speed.</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">  216</a></span>    <span class="comment">#     Speed decreases, as a rule, at most linearly with increasing population</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <span class="comment">#     size. It is advisable to begin with the default small population size.</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>        <span class="keywordflow">if</span> popsize:</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a761c0d9f4dee80eeede32decb57c33df">popsize</a> = popsize <span class="comment">#population size</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a761c0d9f4dee80eeede32decb57c33df">popsize</a> = 4 + int(3. * math.log(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>))</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <span class="comment">#     Individual sigma values - initial search volume. input_sigma determines</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a761c0d9f4dee80eeede32decb57c33df">  223</a></span>    <span class="comment">#     the initial coordinate wise standard deviations for the search. Setting</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <span class="comment">#     SIGMA one third of the initial search region is appropriate.   </span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>        <span class="keywordflow">if</span> callable(input_sigma):</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>            input_sigma=<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abfb4fec954b64eec89f44d931515ed48">input_sigma</a>()</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>        <span class="keywordflow">if</span> isinstance(input_sigma, list):</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a255bb1d29dc205cf8a37e794bb7fa209">insigma</a> = np.asarray(input_sigma)</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>        <span class="keywordflow">elif</span> np.isscalar(input_sigma):</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abfb4fec954b64eec89f44d931515ed48">  230</a></span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a255bb1d29dc205cf8a37e794bb7fa209">insigma</a> = np.full(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>, input_sigma)    </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a255bb1d29dc205cf8a37e794bb7fa209">  232</a></span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a255bb1d29dc205cf8a37e794bb7fa209">insigma</a> = input_sigma</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="comment"># Overall standard deviation - search volume.</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a> = max(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a255bb1d29dc205cf8a37e794bb7fa209">insigma</a>)</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="comment"># termination criteria</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    <span class="comment"># Maximal number of iterations allowed.</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae9bf236b9972f1dbb22e45c0938591b3">max_evaluations</a> = max_evaluations</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">  238</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa7a7a3eb4886eedbfa5e3b46c35adede">max_iterations</a> = max_iterations</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <span class="comment"># Limit for fitness value.</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab77d778b85b64826f6a8e7c004387f35">stop_fitness</a> = stop_fitness</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae9bf236b9972f1dbb22e45c0938591b3">  241</a></span>    <span class="comment"># Stop if x-changes larger stopTolUpX.</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa7a7a3eb4886eedbfa5e3b46c35adede">  242</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afaa10b55e67589d51b3781645d801da2">stopTolUpX</a> = 1e3 * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    <span class="comment"># Stop if x-change smaller stopTolX.</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab77d778b85b64826f6a8e7c004387f35">  244</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abebaeee4cae9bad0d9ea507610aad62a">stopTolX</a> = 1e-11 * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a> * accuracy</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    <span class="comment"># Stop if fun-changes smaller stopTolFun.</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afaa10b55e67589d51b3781645d801da2">  246</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87a139a9830d96524ee8cac362cc03a0">stopTolFun</a> = 1e-12 * accuracy</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <span class="comment"># Stop if back fun-changes smaller stopTolHistFun.</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abebaeee4cae9bad0d9ea507610aad62a">  248</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aaa66313795089b51ff1f38a62e2664fd">stopTolHistFun</a> = 1e-13 * accuracy</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    <span class="comment"># selection strategy parameters</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87a139a9830d96524ee8cac362cc03a0">  250</a></span>    <span class="comment"># Number of parents/points for recombination.</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a3d8d08495e9ebae0cc1e8164f92bbda0">mu</a> = int(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a761c0d9f4dee80eeede32decb57c33df">popsize</a>/2)</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aaa66313795089b51ff1f38a62e2664fd">  252</a></span>    <span class="comment"># timing / global best value    </span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        <span class="keywordflow">if</span> is_debug_active():</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7dc4517b21d000a43313255dd7f7b5ee">best_y</a> = mp.RawValue(ct.c_double, 1E99)</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a3d8d08495e9ebae0cc1e8164f92bbda0">  255</a></span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a13f1cc130df08ee63adedf73d9bb0d45">n_evals</a> = mp.RawValue(ct.c_long, 0)</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a83af54c38e948804ee8aceba231d25ab">time_0</a> = time()</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>            </div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7dc4517b21d000a43313255dd7f7b5ee">  258</a></span>    <span class="comment"># Array for weighted recombination.    </span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a13f1cc130df08ee63adedf73d9bb0d45">  259</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afa1dbc74053584467bcd74d4d7cbcf4c">weights</a> = (np.log(np.arange(1, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a3d8d08495e9ebae0cc1e8164f92bbda0">mu</a>+1, 1)) * -1) + math.log(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a3d8d08495e9ebae0cc1e8164f92bbda0">mu</a> + 0.5)</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a83af54c38e948804ee8aceba231d25ab">  260</a></span>        sumw = np.sum(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afa1dbc74053584467bcd74d4d7cbcf4c">weights</a>)</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>        sumwq = np.einsum(<span class="stringliteral">&#39;i,i-&gt;&#39;</span>, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afa1dbc74053584467bcd74d4d7cbcf4c">weights</a>, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afa1dbc74053584467bcd74d4d7cbcf4c">weights</a>)</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afa1dbc74053584467bcd74d4d7cbcf4c">weights</a> *= 1./sumw        </div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afa1dbc74053584467bcd74d4d7cbcf4c">  263</a></span>    <span class="comment"># Variance-effectiveness of sum w_i x_i.</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a88afdde6c2904cd36c827facfb43e8a9">  264</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">mueff</a> = sumw * sumw / sumwq </div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2ca9e07a6a38eba18c3370262eb550fd">  265</a></span> </div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    <span class="comment"># dynamic strategy parameters and constants</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    <span class="comment"># Cumulation constant.</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">  268</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a896dcfff9b45acea10fdf6f918ca8329">cc</a> = (4. + self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">mueff</a> / self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>) / (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> + 4. + 2. * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">mueff</a> / self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>)</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <span class="comment"># Cumulation constant for step-size.</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a8c15e41b9f3e7d6eb11ff2112109cd52">cs</a> = (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">mueff</a> + 2.) / (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> + self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">mueff</a> + 3.)</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    <span class="comment"># Damping for step-size.    </span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a896dcfff9b45acea10fdf6f918ca8329">  272</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa86568b2e35fa0abc9c44441370001b6">damps</a> = (1. + 2. * max(0., math.sqrt((self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">mueff</a> - 1.) / (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> + 1.)) - 1.)) * \</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>            max(0.3, 1. - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> / (1e-6 + min(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa7a7a3eb4886eedbfa5e3b46c35adede">max_iterations</a>, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae9bf236b9972f1dbb22e45c0938591b3">max_evaluations</a>/self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a761c0d9f4dee80eeede32decb57c33df">popsize</a>))) + self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a8c15e41b9f3e7d6eb11ff2112109cd52">cs</a></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a8c15e41b9f3e7d6eb11ff2112109cd52">  274</a></span>    <span class="comment"># Learning rate for rank-one update.</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a64138cc1569696378f425b77a1133c55">ccov1</a> = 2. / ((self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> + 1.3) * (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> + 1.3) + self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">mueff</a>)</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa86568b2e35fa0abc9c44441370001b6">  276</a></span>    <span class="comment"># Learning rate for rank-mu update&#39;</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac4f76391f5b24411336fd43932b1f32d">ccovmu</a> = min(1. - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a64138cc1569696378f425b77a1133c55">ccov1</a>, 2. * (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">mueff</a> - 2. + 1. / self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">mueff</a>) \</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>                / ((self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> + 2.) * (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> + 2.) + self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">mueff</a>))</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a64138cc1569696378f425b77a1133c55">  279</a></span>    <span class="comment"># Expectation of ||N(0,I)|| == norm(randn(N,1)).</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af748707b894a344fc39d3d933ddd6875">chiN</a> = math.sqrt(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>) * (1. - 1. / (4. * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>) + 1 / (21. * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>))</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac4f76391f5b24411336fd43932b1f32d">  281</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ad83a90d453bf38c57926596aab31f741">ccov1Sep</a> = min(1., self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a64138cc1569696378f425b77a1133c55">ccov1</a> * (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> + 1.5) / 3.)</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ad28c8205ed7b2094888c758757511eea">ccovmuSep</a> = min(1. - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a64138cc1569696378f425b77a1133c55">ccov1</a>, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac4f76391f5b24411336fd43932b1f32d">ccovmu</a> * (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> + 1.5) / 3.)        </div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    <span class="comment"># lazy covariance update gap</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af748707b894a344fc39d3d933ddd6875">  284</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abd695ddec4028c73504ddc1e56d9ddbb">lazy_update_gap</a> = 1. / (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a64138cc1569696378f425b77a1133c55">ccov1</a> + self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac4f76391f5b24411336fd43932b1f32d">ccovmu</a> + 1e-23) / self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> / 10 \</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ad83a90d453bf38c57926596aab31f741">  285</a></span>                                    <span class="keywordflow">if</span> update_gap <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> update_gap</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ad28c8205ed7b2094888c758757511eea">  286</a></span> </div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <span class="comment"># CMA internal values - updated each generation</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abd695ddec4028c73504ddc1e56d9ddbb">  288</a></span>    <span class="comment"># Objective variables.</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab23d2436d1c72f54ab99839058c1adf3">xmean</a> = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ad60e13f5cfc1f2c51e12bc24507708e9">guess</a></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="comment"># Evolution path.</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a72279ffee64f7ce0014f5a6f2a5dcbe2">pc</a> = np.zeros(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>)</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <span class="comment"># Evolution path for sigma.</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab23d2436d1c72f54ab99839058c1adf3">  293</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abf10f8059a83dd6d1d02c17f8c9317b0">ps</a> = np.zeros(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>)</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    <span class="comment"># Norm of ps, stored for efficiency.</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a72279ffee64f7ce0014f5a6f2a5dcbe2">  295</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a6c0ece7221cef9045ab5c872974c78fc">normps</a> = math.sqrt(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abf10f8059a83dd6d1d02c17f8c9317b0">ps</a> @ self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abf10f8059a83dd6d1d02c17f8c9317b0">ps</a>)</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    <span class="comment"># Coordinate system.</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abf10f8059a83dd6d1d02c17f8c9317b0">  297</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa02345ac78df378d92478bf7bb17362e">B</a> = np.eye(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>)        </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    <span class="comment"># Diagonal of sqrt(D), stored for efficiency.</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a6c0ece7221cef9045ab5c872974c78fc">  299</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a> = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a255bb1d29dc205cf8a37e794bb7fa209">insigma</a> / self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a02064e035283dd8a57de4869703c8977">diagC</a> = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a> * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa02345ac78df378d92478bf7bb17362e">  301</a></span>    <span class="comment"># B*D, stored for efficiency.</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#addeb9c3f1881d703fcbdab203a81e8ba">BD</a> = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa02345ac78df378d92478bf7bb17362e">B</a> * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">  303</a></span>    <span class="comment"># Covariance matrix.</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a02064e035283dd8a57de4869703c8977">  304</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a69e5ed885bebdebca4855961f2a3c4cb">C</a> = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa02345ac78df378d92478bf7bb17362e">B</a> @ (np.diag(np.ones(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>)) @ self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa02345ac78df378d92478bf7bb17362e">B</a>)</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    <span class="comment"># Number of iterations already performed.</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#addeb9c3f1881d703fcbdab203a81e8ba">  306</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a> = 0</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    <span class="comment"># Size of history queue of best values.</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a69e5ed885bebdebca4855961f2a3c4cb">  308</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a91dd0137d82524d5c7f82d0992ca823c">historySize</a> = 10 + int(3. * 10. * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> / popsize)    </div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>        </div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">  310</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a> = 0</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afada885234491b531340c56405686608">last_update</a> = 0</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a91dd0137d82524d5c7f82d0992ca823c">  312</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a> = 0</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abe14f6b9326248e7d16f17edd05660c4">best_value</a> = sys.float_info.max</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a180e3a8a1099625f1d089209c93a6d85">best_x</a> = <span class="keywordtype">None</span>    </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afada885234491b531340c56405686608">  315</a></span>        <span class="comment"># History queue of best values.</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">  316</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a37fe790f8441da81e8e25dd57ebe5e38">fitness_history</a> = np.full(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a91dd0137d82524d5c7f82d0992ca823c">historySize</a>, sys.float_info.max)</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abe14f6b9326248e7d16f17edd05660c4">  317</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a37fe790f8441da81e8e25dd57ebe5e38">fitness_history</a>[0] = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abe14f6b9326248e7d16f17edd05660c4">best_value</a>    </div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a180e3a8a1099625f1d089209c93a6d85">  318</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">arz</a> = <span class="keywordtype">None</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a> = <span class="keywordtype">None</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a37fe790f8441da81e8e25dd57ebe5e38">  320</a></span> </div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="keyword">def </span><a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a56c7e2c2ad921a3fc6263e5be6a873f8">ask</a>(self) -&gt; np.array:</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">  322</a></span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">  323</a></span><span class="stringliteral">        Generates a NumPy array by decoding elements in the current data structure.</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span><span class="stringliteral">        The method processes elements stored in the internal structure, applies a decoding</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span><span class="stringliteral">        mechanism via the fitfun&#39;s decode method, and produces an array containing the results.</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span><span class="stringliteral">        Args:</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span><span class="stringliteral">            self: Instance of the class containing necessary properties and methods to execute</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span><span class="stringliteral">                the decoding logic.</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span><span class="stringliteral">            np.array: A NumPy array containing the decoded elements.</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span> </div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        self.<a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aff1c6aff205dfd66b677b1237f3566e7">newArgs</a>()</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        <span class="keywordflow">return</span> np.array([self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fitfun</a>.decode(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">arx</a>])</div>
<div class="foldopen" id="foldopen00338" data-start="" data-end="">
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a56c7e2c2ad921a3fc6263e5be6a873f8">  338</a></span> </div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    <span class="keyword">def </span><a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a398738e6fcf7fe101cce3257fb0d579d">tell</a>(self, </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>             ys: np.ndarray, </div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>             xs: Optional[np.ndarray] = <span class="keywordtype">None</span>) -&gt; int:</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span><span class="stringliteral">        Processes the input function values and updates the internal state of the CMA-ES algorithm.</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span><span class="stringliteral">        Args:</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span><span class="stringliteral">            ys (np.ndarray): An array of objective function values corresponding to the solutions.</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span><span class="stringliteral">            xs (Optional[np.ndarray]): An optional array of candidate solutions. If not provided,</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span><span class="stringliteral">                must have `arz` defined or `ask` must have been called prior.</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span><span class="stringliteral">            int: The stop condition value indicating the status of the CMA-ES run.</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span><span class="stringliteral">        Raises:</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span><span class="stringliteral">            ValueError: If `xs` is None and `arz` is not defined or `ask` has not been previously</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span><span class="stringliteral">                called.</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span> </div>
<div class="foldopen" id="foldopen00358" data-start="" data-end="">
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a398738e6fcf7fe101cce3257fb0d579d">  358</a></span>        <span class="keywordflow">if</span> xs <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>            <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">arz</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;either call ask before or define xs&#39;</span>)</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">arx</a> = np.array([self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fitfun</a>.encode(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> xs])</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>                self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">arz</a> = (linalg.inv(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#addeb9c3f1881d703fcbdab203a81e8ba">BD</a>) @ \</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>                            ((self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">arx</a> - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab23d2436d1c72f54ab99839058c1adf3">xmean</a>).transpose() / self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a>)).transpose()   </div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">  366</a></span>            <span class="keywordflow">except</span> Exception:</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>                <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">arz</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span>: </div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>                    self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">arz</a> = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abc49c506631c8deb58566ce95a1b3069">randn</a>(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a761c0d9f4dee80eeede32decb57c33df">popsize</a>, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>)</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a> = np.asarray(ys)</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a> += 1</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>        self.<a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7dada2c399890feafb59c01d1f424ee5">updateCMA</a>()</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">arz</a> = <span class="keywordtype">None</span></div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>        <span class="keywordflow">return</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    </div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <span class="keyword">def </span><a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7d18b1bc7ca57941c7ca07bde288c8f5">population</a>(self) -&gt; np.array:</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span><span class="stringliteral">        Decodes the given array of representations into their respective solutions.</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span><span class="stringliteral"></span> </div>
</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span><span class="stringliteral">        This method utilizes the decoding function defined by the `fitfun` attribute to</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span><span class="stringliteral">        convert the input array `arx` into a population of solutions. The returned value</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span><span class="stringliteral">        is the decoded representation of the input data.</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span><span class="stringliteral">            np.array: Decoded population solutions.</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>        <span class="keywordflow">return</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fitfun</a>.decode(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">arx</a>)</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span> </div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    <span class="keyword">def </span><a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a5c6955cf059c16dfea867a214b485501">result</a>(self) -&gt; OptimizeResult:</div>
<div class="foldopen" id="foldopen00389" data-start="" data-end="">
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7d18b1bc7ca57941c7ca07bde288c8f5">  389</a></span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span><span class="stringliteral">        Returns the optimization result containing the details of the optimization process.</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span><span class="stringliteral"></span> </div>
</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span><span class="stringliteral">        The result is an instance of `OptimizeResult`, which summarizes the outcome</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span><span class="stringliteral">        of the optimization, including the final optimum, function values, and</span></div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span><span class="stringliteral">        additional side information.</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span><span class="stringliteral">        Args:</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span><span class="stringliteral">            self: The instance of the class containing the optimization process data.</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span><span class="stringliteral">            OptimizeResult: A dataclass containing the following attributes:</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span><span class="stringliteral">                - x: The best solution found during the optimization process.</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span><span class="stringliteral">                - fun: The value of the function at the best solution.</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span><span class="stringliteral">                - nfev: The number of function evaluations performed.</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span><span class="stringliteral">                - nit: The total number of iterations performed.</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span><span class="stringliteral">                - status: The status code indicating the stopping condition.</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span><span class="stringliteral">                - success: A boolean value indicating if the optimization was</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span><span class="stringliteral">                  successful.</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>        <span class="keywordflow">return</span> OptimizeResult(x=self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a180e3a8a1099625f1d089209c93a6d85">best_x</a>, fun=self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abe14f6b9326248e7d16f17edd05660c4">best_value</a>,</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>                              nfev=self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fitfun</a>.evaluation_counter, </div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>                              nit=self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a>, status=self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a>, success=<span class="keyword">True</span>)</div>
<div class="foldopen" id="foldopen00413" data-start="" data-end="">
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a5c6955cf059c16dfea867a214b485501">  413</a></span>        </div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <span class="keyword">def </span><a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab89a6f59ef9aafbe855a9547c80669f5">ask_one</a>(self) -&gt; np.array:</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span><span class="stringliteral">        Generates a single decoded solution vector based on the current distribution.</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span><span class="stringliteral"></span> </div>
</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span><span class="stringliteral">        This method utilizes the generated random numbers and transformation matrices to</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span><span class="stringliteral">        produce a candidate solution vector that adheres to feasibility constraints, while</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span><span class="stringliteral">        decoding it through the associated objective function.</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span><span class="stringliteral">        Args:</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span><span class="stringliteral">            self: Instance of the class containing current state for generating a</span></div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span><span class="stringliteral">                feasible and decoded solution vector.</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span><span class="stringliteral">            np.array: A decoded feasible solution vector.</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>        arz = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abc49c506631c8deb58566ce95a1b3069">randn</a>(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>) </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>        delta = (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#addeb9c3f1881d703fcbdab203a81e8ba">BD</a> @ arz.transpose()) * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a></div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>        arx = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fitfun</a>.closestFeasible(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab23d2436d1c72f54ab99839058c1adf3">xmean</a> + delta.transpose())  </div>
<div class="foldopen" id="foldopen00432" data-start="" data-end="">
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab89a6f59ef9aafbe855a9547c80669f5">  432</a></span>        <span class="keywordflow">return</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fitfun</a>.decode(arx)</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span> </div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    <span class="keyword">def </span><a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac7cbecf8b29fb1048bd4cc7ec900692c">tell_one</a>(self,</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>                 y: float, </div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>                 x: np.array) -&gt; int:</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span><span class="stringliteral">        Processes the given fitness value and solution vector, performs updates</span></div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span><span class="stringliteral">        to internal data structures, and logs progress during optimization.</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span><span class="stringliteral">        This function evaluates and integrates a solution (x) and its corresponding</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span><span class="stringliteral">        fitness value (y), updating the CMA-ES optimization state when the required</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span><span class="stringliteral">        population size is reached.</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span><span class="stringliteral">        Args:</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span><span class="stringliteral">            y: A float representing the fitness value of the solution.</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span><span class="stringliteral">            x: A numpy array containing the solution.</span></div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span><span class="stringliteral">            An integer indicating whether the optimization process should stop.</span></div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span> </div>
<div class="foldopen" id="foldopen00453" data-start="" data-end="">
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac7cbecf8b29fb1048bd4cc7ec900692c">  453</a></span>        <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> <span class="keywordflow">not</span> type(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a>) <span class="keywordflow">is</span> list:</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">arx</a> = []</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a> = []</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a>.append(y)</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">arx</a>.append(x)</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>        <span class="keywordflow">if</span> len(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a>) &gt;= self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a761c0d9f4dee80eeede32decb57c33df">popsize</a>:</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a> = np.asarray(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a>)</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">arx</a> = np.array([self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fitfun</a>.encode(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">arx</a>])</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>                self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">arz</a> = (linalg.inv(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#addeb9c3f1881d703fcbdab203a81e8ba">BD</a>) @ \</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>                            ((self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">arx</a> - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab23d2436d1c72f54ab99839058c1adf3">xmean</a>).transpose() / self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a>)).transpose()   </div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>            <span class="keywordflow">except</span> Exception:</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>                <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">arz</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span>: </div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>                    self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">arz</a> = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abc49c506631c8deb58566ce95a1b3069">randn</a>(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a761c0d9f4dee80eeede32decb57c33df">popsize</a>, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>)</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a> += 1</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>            self.<a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7dada2c399890feafb59c01d1f424ee5">updateCMA</a>()</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">arz</a> = <span class="keywordtype">None</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">arx</a> = []</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a> = []</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>        </div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>        <span class="keywordflow">if</span> is_debug_active():</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a13f1cc130df08ee63adedf73d9bb0d45">n_evals</a>.value += 1</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>            <span class="keywordflow">if</span> y &lt; self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7dc4517b21d000a43313255dd7f7b5ee">best_y</a>.value <span class="keywordflow">or</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a13f1cc130df08ee63adedf73d9bb0d45">n_evals</a>.value % 1000 == 999:           </div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>                <span class="keywordflow">if</span> y &lt; self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7dc4517b21d000a43313255dd7f7b5ee">best_y</a>.value: self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7dc4517b21d000a43313255dd7f7b5ee">best_y</a>.value = y</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>                t = time() - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a83af54c38e948804ee8aceba231d25ab">time_0</a></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>                c = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a13f1cc130df08ee63adedf73d9bb0d45">n_evals</a>.value</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>                message = <span class="stringliteral">&#39;&quot;c/t={0:.2f} c={1:d} t={2:.2f} y={3:.5f} yb={4:.5f} x={5!s}&#39;</span>.format(</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>                    c/t, c, t, y, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7dc4517b21d000a43313255dd7f7b5ee">best_y</a>.value, x)</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>                logger.debug(message)</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>        <span class="keywordflow">return</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a>                </div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>           </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    <span class="keyword">def </span><a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aff1c6aff205dfd66b677b1237f3566e7">newArgs</a>(self):</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span><span class="stringliteral">        Generates a new population of candidate solutions for optimization.</span></div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span><span class="stringliteral"></span> </div>
</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span><span class="stringliteral">        The method produces random offspring solutions based on the current mean and the</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span><span class="stringliteral">        covariance matrix of the search distribution. These offspring are then adjusted</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span><span class="stringliteral">        to ensure they are closest to feasible solutions within the search space.</span></div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span><span class="stringliteral">        Args:</span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span><span class="stringliteral">            self: The instance of the class invoking this method.</span></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>        <span class="comment"># generate random offspring</span></div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">arz</a> = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abc49c506631c8deb58566ce95a1b3069">randn</a>(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a761c0d9f4dee80eeede32decb57c33df">popsize</a>, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>)    </div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>        delta = (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#addeb9c3f1881d703fcbdab203a81e8ba">BD</a> @ self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">arz</a>.transpose()) * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a></div>
<div class="foldopen" id="foldopen00498" data-start="" data-end="">
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aff1c6aff205dfd66b677b1237f3566e7">  498</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">arx</a> = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fitfun</a>.closestFeasible(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab23d2436d1c72f54ab99839058c1adf3">xmean</a> + delta.transpose())  </div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    </div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    <span class="keyword">def </span><a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae86966099ee875815394d69b087738f4">do_optimize_delayed_update</a>(self, fun, max_evals=None, workers=mp.cpu_count()):</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span><span class="stringliteral">        Optimizes a given function asynchronously with delayed updates.</span></div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span><span class="stringliteral"></span> </div>
</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span><span class="stringliteral">        This method performs optimization by evaluating the function in parallel.</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span><span class="stringliteral">        It uses a worker-based approach where several evaluations of `fun` are</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span><span class="stringliteral">        performed simultaneously to explore the parameter space. The results</span></div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span><span class="stringliteral">        are processed iteratively to determine the best solution based on the given</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span><span class="stringliteral">        optimization criteria.</span></div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span><span class="stringliteral">        Args:</span></div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span><span class="stringliteral">            self: Represents the instance of the class in which this function is</span></div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span><span class="stringliteral">                defined.</span></div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span><span class="stringliteral">            fun: Callable optimization objective function to be minimized or maximized.</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span><span class="stringliteral">            max_evals: Optional; Maximum number of evaluations to perform. If not</span></div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span><span class="stringliteral">                provided, the default value of `self.max_evaluations` is used.</span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span><span class="stringliteral">            workers: Optional; The number of parallel workers to use for evaluating</span></div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span><span class="stringliteral">                the objective function. Defaults to the number of CPU cores.</span></div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span><span class="stringliteral">            tuple: A tuple containing:</span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span><span class="stringliteral">                - best_x: The best solution found for the input function.</span></div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span><span class="stringliteral">                - best_value: The best function value found.</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span><span class="stringliteral">                - evals: The total number of evaluations performed.</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span><span class="stringliteral">                - iterations: The number of iterations completed during optimization.</span></div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span><span class="stringliteral">                - stop: The stop condition or code signaling the termination reason.</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> max_evals <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae9bf236b9972f1dbb22e45c0938591b3">max_evaluations</a> =  max_evals</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>        evaluator = <a class="code hl_class" href="classfcmaes_1_1evaluator_1_1_evaluator.html">Evaluator</a>(fun)</div>
<div class="foldopen" id="foldopen00530" data-start="" data-end="">
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae86966099ee875815394d69b087738f4">  530</a></span>        evaluator.start(workers)</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>        evals_x = {}</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a94c7703c8ab62c0696018a9dec53e7ac">evals</a> = 0;</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>        <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(workers): <span class="comment"># fill queue</span></div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>            x = self.<a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab89a6f59ef9aafbe855a9547c80669f5">ask_one</a>()</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>            evaluator.pipe[0].send((self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a94c7703c8ab62c0696018a9dec53e7ac">evals</a>, x))</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a94c7703c8ab62c0696018a9dec53e7ac">  536</a></span>            evals_x[self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a94c7703c8ab62c0696018a9dec53e7ac">evals</a>] = x <span class="comment"># store x</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a94c7703c8ab62c0696018a9dec53e7ac">evals</a> += 1</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>            </div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>        <span class="keywordflow">while</span> <span class="keyword">True</span>: <span class="comment"># read from pipe, tell es and create new x</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>            evals, y = evaluator.pipe[0].recv()</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>            </div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>            x = evals_x[evals] <span class="comment"># retrieve evaluated x</span></div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>            del evals_x[evals]</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>            stop = self.<a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac7cbecf8b29fb1048bd4cc7ec900692c">tell_one</a>(y, x) <span class="comment"># tell evaluated x</span></div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>            <span class="keywordflow">if</span> stop != 0 <span class="keywordflow">or</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a94c7703c8ab62c0696018a9dec53e7ac">evals</a> &gt;= self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae9bf236b9972f1dbb22e45c0938591b3">max_evaluations</a>:</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>                <span class="keywordflow">break</span> <span class="comment"># shutdown worker if stop criteria met</span></div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>            </div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>            x = self.<a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab89a6f59ef9aafbe855a9547c80669f5">ask_one</a>() <span class="comment"># create new x</span></div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>            evaluator.pipe[0].send((self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a94c7703c8ab62c0696018a9dec53e7ac">evals</a>, x))       </div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>            evals_x[self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a94c7703c8ab62c0696018a9dec53e7ac">evals</a>] = x  <span class="comment"># store x</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a94c7703c8ab62c0696018a9dec53e7ac">evals</a> += 1            </div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>        evaluator.stop()</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        <span class="keywordflow">return</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a180e3a8a1099625f1d089209c93a6d85">best_x</a>, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abe14f6b9326248e7d16f17edd05660c4">best_value</a>, evals, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a>, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a> </div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>         </div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>    <span class="keyword">def </span><a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a974188898932b9c2ecacb33387c08fd8">doOptimize</a>(self):</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span><span class="stringliteral">        Performs an optimization process within a generation loop until termination</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span><span class="stringliteral">        conditions are met. This method repeatedly generates candidate solutions,</span></div>
</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span><span class="stringliteral">        evaluates them using the objective function, updates the optimization state,</span></div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span><span class="stringliteral">        and checks for stopping criteria.</span></div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span><span class="stringliteral">        Args:</span></div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span><span class="stringliteral">            self:</span></div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span><span class="stringliteral">            tuple: A tuple containing the following elements:</span></div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span><span class="stringliteral">                - best_x: The best solution found during the optimization process.</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span><span class="stringliteral">                - best_value: The objective function value of the best solution.</span></div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span><span class="stringliteral">                - fitfun.evaluation_counter: Total number of evaluations performed.</span></div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span><span class="stringliteral">                - iterations: Total number of iterations executed.</span></div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span><span class="stringliteral">                - stop: Stop flag indicating the reason for termination.</span></div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>        <span class="comment"># -------------------- Generation Loop --------------------------------</span></div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>        <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>            <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a> &gt; self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa7a7a3eb4886eedbfa5e3b46c35adede">max_iterations</a>:</div>
<div class="foldopen" id="foldopen00576" data-start="" data-end="">
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a974188898932b9c2ecacb33387c08fd8">  576</a></span>                <span class="keywordflow">break</span></div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a> += 1</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>            <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fitfun</a>.evaluation_counter &gt; self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae9bf236b9972f1dbb22e45c0938591b3">max_evaluations</a>:</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>                <span class="keywordflow">break</span></div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>            xs = self.<a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a56c7e2c2ad921a3fc6263e5be6a873f8">ask</a>()</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>            ys = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fitfun</a>.values(xs)</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>            self.<a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a398738e6fcf7fe101cce3257fb0d579d">tell</a>(ys, xs)</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>            <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a> != 0:</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>                <span class="keywordflow">break</span></div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>        <span class="keywordflow">return</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a180e3a8a1099625f1d089209c93a6d85">best_x</a>, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abe14f6b9326248e7d16f17edd05660c4">best_value</a>, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fitfun</a>.evaluation_counter, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a>, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a> </div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>        </div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    <span class="keyword">def </span><a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7dada2c399890feafb59c01d1f424ee5">updateCMA</a>(self):</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span><span class="stringliteral">        Updates the evolutionary process using the Covariance Matrix Adaptation (CMA)</span></div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span><span class="stringliteral">        strategy. This method handles the main operational logic for adaptive step-size</span></div>
</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span><span class="stringliteral">        control, selection, recombination, fitness evaluation, constraint checking, and</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span><span class="stringliteral">        diverse termination criteria during the optimization.</span></div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span><span class="stringliteral">        Args:</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span><span class="stringliteral">            self: Instance of the class to which this method belongs.</span></div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span><span class="stringliteral">            int: Returns -1 if the fitness values contain NaN or infinite entries;</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span><span class="stringliteral">            otherwise, returns nothing.</span></div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>        <span class="comment"># Stop for Nan / infinite fitness values</span></div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>        <span class="keywordflow">if</span> np.isfinite(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a>).sum() &lt; self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a761c0d9f4dee80eeede32decb57c33df">popsize</a>:</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>            <span class="keywordflow">return</span> -1</div>
<div class="foldopen" id="foldopen00604" data-start="" data-end="">
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7dada2c399890feafb59c01d1f424ee5">  604</a></span>        <span class="comment"># Sort by fitness and compute weighted mean into xmean</span></div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        arindex = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a>.argsort()        </div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>        best_fitness = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a>[arindex[0]]</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>        worstFitness = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a>[arindex[-1]]                        </div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>        <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abe14f6b9326248e7d16f17edd05660c4">best_value</a> &gt; best_fitness:</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abe14f6b9326248e7d16f17edd05660c4">best_value</a> = best_fitness</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a180e3a8a1099625f1d089209c93a6d85">best_x</a> = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fitfun</a>.decode(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">arx</a>[arindex[0]])    </div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>            <span class="keywordflow">if</span> best_fitness &lt; self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab77d778b85b64826f6a8e7c004387f35">stop_fitness</a>:</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>                self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a> = 1</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>                <span class="keywordflow">return</span> </div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span> </div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        <span class="comment"># Calculate new xmean, this is selection and recombination</span></div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>        xold = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab23d2436d1c72f54ab99839058c1adf3">xmean</a> <span class="comment"># for speed up of Eq. (2) and (3)</span></div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>        bestIndex = arindex[:self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a3d8d08495e9ebae0cc1e8164f92bbda0">mu</a>] </div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        bestArx = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">arx</a>[bestIndex]</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab23d2436d1c72f54ab99839058c1adf3">xmean</a> = np.transpose(bestArx) @ self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afa1dbc74053584467bcd74d4d7cbcf4c">weights</a></div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>        bestArz = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">arz</a>[bestIndex]</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>        zmean = np.transpose(bestArz) @ self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afa1dbc74053584467bcd74d4d7cbcf4c">weights</a></div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>        hsig = self.<a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae3fd3fbe79efd9509bb8462382d63bdd">updateEvolutionPaths</a>(zmean, xold)            </div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>        <span class="comment"># Adapt step size sigma - Eq. (5)</span></div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a> *= math.exp(min(1.0, (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a6c0ece7221cef9045ab5c872974c78fc">normps</a> / self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af748707b894a344fc39d3d933ddd6875">chiN</a> - 1.) * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a8c15e41b9f3e7d6eb11ff2112109cd52">cs</a> / self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa86568b2e35fa0abc9c44441370001b6">damps</a>))            </div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>        </div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>        <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a> &gt;= self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afada885234491b531340c56405686608">last_update</a> + self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abd695ddec4028c73504ddc1e56d9ddbb">lazy_update_gap</a>:</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afada885234491b531340c56405686608">last_update</a> = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a></div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>            negccov = self.<a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afd8b8665d87f14c53cd60da16c932336">updateCovariance</a>(hsig, bestArx, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">arz</a>, arindex, xold)</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>            self.<a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae26e42639fa8cb28b64c1fe1bcd7109c">updateBD</a>(negccov)                        </div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>            <span class="comment"># handle termination criteria</span></div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>            sqrtDiagC = np.sqrt(np.abs(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a02064e035283dd8a57de4869703c8977">diagC</a>))</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>            pcCol = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a72279ffee64f7ce0014f5a6f2a5dcbe2">pc</a></div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>):</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>                <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a> * max(abs(pcCol[i]), sqrtDiagC[i]) &gt; self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abebaeee4cae9bad0d9ea507610aad62a">stopTolX</a>:</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>                    <span class="keywordflow">break</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>                <span class="keywordflow">if</span> i == self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> - 1:</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>                    self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a> = 2</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>            <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a> != 0:</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>                <span class="keywordflow">return</span>            </div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>):</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>                <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a> * sqrtDiagC[i] &gt; self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afaa10b55e67589d51b3781645d801da2">stopTolUpX</a>:</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>                    self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a> = 3</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>                    <span class="keywordflow">break</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>            <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a> != 0:</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>                <span class="keywordflow">return</span> </div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>        history_best = min(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a37fe790f8441da81e8e25dd57ebe5e38">fitness_history</a>)</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>        history_worst = max(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a37fe790f8441da81e8e25dd57ebe5e38">fitness_history</a>)</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>        <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a> &gt; 2 <span class="keywordflow">and</span> max(history_worst, worstFitness) - min(history_best, best_fitness) &lt; self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87a139a9830d96524ee8cac362cc03a0">stopTolFun</a>:</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a> = 4</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>            <span class="keywordflow">return</span> </div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>        <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a> &gt; self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a37fe790f8441da81e8e25dd57ebe5e38">fitness_history</a>.size <span class="keywordflow">and</span> history_worst - history_best &lt; self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aaa66313795089b51ff1f38a62e2664fd">stopTolHistFun</a>:</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a> = 5</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>            <span class="keywordflow">return</span> </div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>        <span class="comment"># condition number of the covariance matrix exceeds 1e14</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>        <span class="keywordflow">if</span> min(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a>) != 0 <span class="keywordflow">and</span> \</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>                max(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a>) / min(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a>) &gt; 1e7 * 1.0 / math.sqrt(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae977d12b9b7f088beb9df50d43936122">accuracy</a>):</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a> = 6</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>            <span class="keywordflow">return</span> </div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>        <span class="comment"># call callback</span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>        <span class="keywordflow">if</span> (<span class="keywordflow">not</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a53ccd69a742fb33d4a8c783cdcd2b51a">is_terminate</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span>) <span class="keywordflow">and</span> \</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>                       self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a53ccd69a742fb33d4a8c783cdcd2b51a">is_terminate</a>(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aaf84ee8e2f184fa2e5b5b49f681fb5ed">runid</a>, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a>, self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abe14f6b9326248e7d16f17edd05660c4">best_value</a>):</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">stop</a> = 7</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>            <span class="keywordflow">return</span> </div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>        <span class="comment"># Adjust step size in case of equal function values (flat fitness)</span></div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>        <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abe14f6b9326248e7d16f17edd05660c4">best_value</a> == self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fitness</a>[arindex[int(0.1 + self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a761c0d9f4dee80eeede32decb57c33df">popsize</a> / 4.)]]:</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a> *= math.exp(0.2 + self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a8c15e41b9f3e7d6eb11ff2112109cd52">cs</a> / self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa86568b2e35fa0abc9c44441370001b6">damps</a>)</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>        <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a> &gt; 2 <span class="keywordflow">and</span> max(history_worst, best_fitness) - min(history_best, best_fitness) == 0:</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a> *= math.exp(0.2 + self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a8c15e41b9f3e7d6eb11ff2112109cd52">cs</a> / self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa86568b2e35fa0abc9c44441370001b6">damps</a>)</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>        <span class="comment"># store best in history</span></div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a37fe790f8441da81e8e25dd57ebe5e38">fitness_history</a>[1:] = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a37fe790f8441da81e8e25dd57ebe5e38">fitness_history</a>[:-1]</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a37fe790f8441da81e8e25dd57ebe5e38">fitness_history</a>[0] = best_fitness</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        <span class="keywordflow">return</span>       </div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    </div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    <span class="keyword">def </span><a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae3fd3fbe79efd9509bb8462382d63bdd">updateEvolutionPaths</a>(self, zmean, xold):</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span><span class="stringliteral">        Updates the evolution paths required for generating new samples in</span></div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span><span class="stringliteral">        the covariance matrix adaptation evolution strategy (CMA-ES). This</span></div>
</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span><span class="stringliteral">        method modifies the evolution paths `ps` and `pc` based on the</span></div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span><span class="stringliteral">        weighted mean of new samples (`zmean`) and the previous solution</span></div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span><span class="stringliteral">        (`xold`). Additionally, it computes a flag (`hsig`) indicating</span></div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span><span class="stringliteral">        whether the evolution path `ps` satisfies specific conditions,</span></div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span><span class="stringliteral">        which is used to adapt the covariance matrix of the algorithm.</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span><span class="stringliteral">        Args:</span></div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span><span class="stringliteral">            zmean: Weighted mean of new samples in the search space.</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span><span class="stringliteral">            xold: Previous solution in the search space.</span></div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span><span class="stringliteral">            bool: A flag indicating whether the evolution path `ps` satisfies</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span><span class="stringliteral">            the computed conditions.</span></div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span> </div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abf10f8059a83dd6d1d02c17f8c9317b0">ps</a> = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abf10f8059a83dd6d1d02c17f8c9317b0">ps</a> * (1. - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a8c15e41b9f3e7d6eb11ff2112109cd52">cs</a>) + \</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>            ((self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa02345ac78df378d92478bf7bb17362e">B</a> @ zmean) * math.sqrt(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a8c15e41b9f3e7d6eb11ff2112109cd52">cs</a> * (2. - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a8c15e41b9f3e7d6eb11ff2112109cd52">cs</a>) * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">mueff</a>))</div>
<div class="foldopen" id="foldopen00695" data-start="" data-end="">
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae3fd3fbe79efd9509bb8462382d63bdd">  695</a></span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a6c0ece7221cef9045ab5c872974c78fc">normps</a> = math.sqrt(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abf10f8059a83dd6d1d02c17f8c9317b0">ps</a> @ self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#abf10f8059a83dd6d1d02c17f8c9317b0">ps</a>) </div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>        hsig = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a6c0ece7221cef9045ab5c872974c78fc">normps</a> / math.sqrt(1. - math.pow(1. - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a8c15e41b9f3e7d6eb11ff2112109cd52">cs</a>, 2. * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a>)) / \</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af748707b894a344fc39d3d933ddd6875">chiN</a> &lt; 1.4 + 2. / (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> + 1.)</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>        self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a72279ffee64f7ce0014f5a6f2a5dcbe2">pc</a> *= 1. - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a896dcfff9b45acea10fdf6f918ca8329">cc</a>        </div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>        <span class="keywordflow">if</span> hsig:</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a72279ffee64f7ce0014f5a6f2a5dcbe2">pc</a> += (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab23d2436d1c72f54ab99839058c1adf3">xmean</a> - xold) * (math.sqrt(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a896dcfff9b45acea10fdf6f918ca8329">cc</a> * (2. - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a896dcfff9b45acea10fdf6f918ca8329">cc</a>) * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">mueff</a>) / self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a>)</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>        <span class="keywordflow">return</span> hsig</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>    </div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <span class="keyword">def </span><a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afd8b8665d87f14c53cd60da16c932336">updateCovariance</a>(self, hsig, bestArx, arz, arindex, xold):</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>        <span class="stringliteral">&quot;&quot;&quot;Updates the covariance matrix and returns the negative covariance scaling factor.</span></div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span><span class="stringliteral">        This method adjusts the covariance matrix based on the current best solution, the</span></div>
</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span><span class="stringliteral">        distribution of previous samples, and other adaptations. It incorporates mechanisms</span></div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span><span class="stringliteral">        to adaptively handle both positive and negative covariance contributions and ensures</span></div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span><span class="stringliteral">        that minimal residual variance is maintained for better exploration capabilities.</span></div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span><span class="stringliteral">        Args:</span></div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span><span class="stringliteral">            self: Instance of the class calling this method.</span></div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span><span class="stringliteral">            hsig (bool): Indicates the success of the covariance step size adaptation.</span></div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span><span class="stringliteral">            bestArx (numpy.ndarray): Array containing the best solutions in the current iteration.</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span><span class="stringliteral">            arz (numpy.ndarray): Array of normalized random vectors representing candidate solutions.</span></div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span><span class="stringliteral">            arindex (numpy.ndarray): Array containing sorted indices corresponding to ranked solutions.</span></div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span><span class="stringliteral">            xold (numpy.ndarray): Centroid of the previous population.</span></div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span><span class="stringliteral">            float: The negative covariance scaling factor (negccov), which indicates the adaptation</span></div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span><span class="stringliteral">            strength for negative covariance components.</span></div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>      </div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>        negccov = 0.</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>        <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a64138cc1569696378f425b77a1133c55">ccov1</a> + self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac4f76391f5b24411336fd43932b1f32d">ccovmu</a> &gt; 0:</div>
<div class="foldopen" id="foldopen00726" data-start="" data-end="">
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afd8b8665d87f14c53cd60da16c932336">  726</a></span>            arpos = (bestArx - xold) * (1. / self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">sigma</a>) <span class="comment"># mu difference vectors</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>            pc2d = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a72279ffee64f7ce0014f5a6f2a5dcbe2">pc</a>[:, np.newaxis] </div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>            roneu = (pc2d @ np.transpose(pc2d)) * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a64138cc1569696378f425b77a1133c55">ccov1</a></div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>            <span class="comment"># minor correction if hsig==false</span></div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>            oldFac = 0 <span class="keywordflow">if</span> hsig <span class="keywordflow">else</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a64138cc1569696378f425b77a1133c55">ccov1</a> * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a896dcfff9b45acea10fdf6f918ca8329">cc</a> * (2. - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a896dcfff9b45acea10fdf6f918ca8329">cc</a>)</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>            oldFac += 1. - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a64138cc1569696378f425b77a1133c55">ccov1</a> - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac4f76391f5b24411336fd43932b1f32d">ccovmu</a></div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>            <span class="comment"># Adapt covariance matrix C active CMA</span></div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>            negccov = (1. - self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac4f76391f5b24411336fd43932b1f32d">ccovmu</a>) * 0.25 * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">mueff</a> \</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>                    / (math.pow(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> + 2., 1.5) + 2. * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">mueff</a>)</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>            negminresidualvariance = 0.66</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>            <span class="comment"># keep at least 0.66 in all directions, small popsize are most critical</span></div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>            negalphaold = 0.5 <span class="comment"># where to make up for the variance loss,</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>            <span class="comment"># prepare vectors, compute negative updating matrix Cneg</span></div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>            arReverseIndex = arindex[::-1]</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>            arzneg = arz[arReverseIndex[:self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a3d8d08495e9ebae0cc1e8164f92bbda0">mu</a>]]</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>            arnorms = np.sqrt(np.einsum(<span class="stringliteral">&#39;ij-&gt;i&#39;</span>, arzneg * arzneg))</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>            idxnorms = arnorms.argsort()</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            arnormsSorted = arnorms[idxnorms]</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>            idxReverse = idxnorms[::-1]</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>            arnormsReverse = arnorms[idxReverse]</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>            arnorms = arnormsReverse / arnormsSorted</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>            arnormsInv = np.empty(arnorms.size)</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>            arnormsInv[idxnorms] = arnorms</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>            <span class="comment"># check and set learning rate negccov</span></div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>            negcovMax = (1. - negminresidualvariance) / ((arnormsInv*arnormsInv) @ self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afa1dbc74053584467bcd74d4d7cbcf4c">weights</a>)</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>            <span class="keywordflow">if</span> negccov &gt; negcovMax:</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>                negccov = negcovMax</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>            arzneg = np.transpose(arzneg) * arnormsInv</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>            artmp = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#addeb9c3f1881d703fcbdab203a81e8ba">BD</a> @ arzneg</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>            Cneg = artmp @ (np.diagflat(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afa1dbc74053584467bcd74d4d7cbcf4c">weights</a>) @ np.transpose(artmp))</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>            oldFac += negalphaold * negccov</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>            C = (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a69e5ed885bebdebca4855961f2a3c4cb">C</a> * oldFac) + roneu + \</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>                np.transpose(arpos * (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac4f76391f5b24411336fd43932b1f32d">ccovmu</a> + (1. - negalphaold) * negccov)) @ \</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>                    np.transpose(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#afa1dbc74053584467bcd74d4d7cbcf4c">weights</a> * np.transpose(arpos))</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a69e5ed885bebdebca4855961f2a3c4cb">C</a> = C - Cneg*negccov</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>        <span class="keywordflow">return</span> negccov</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>    </div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>    <span class="keyword">def </span><a class="code hl_function" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae26e42639fa8cb28b64c1fe1bcd7109c">updateBD</a>(self, negccov):</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span><span class="stringliteral">        Updates the internal state of the covariance matrix and its derived attributes, such as eigenvalues, eigenvectors,</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span><span class="stringliteral">        and transformations for sampling scaled isotropic Gaussian distributions. The method ensures numerical stability</span></div>
</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span><span class="stringliteral">        by handling edge cases like non-positive eigenvalues or large differences between eigenvalues.</span></div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span><span class="stringliteral">        Args:</span></div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span><span class="stringliteral">            self: Instance of the class.</span></div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span><span class="stringliteral">            negccov: The covariance matrix adjustment parameter used for updating.</span></div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span> </div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>        <span class="keywordflow">if</span> self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a64138cc1569696378f425b77a1133c55">ccov1</a> + self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac4f76391f5b24411336fd43932b1f32d">ccovmu</a> + negccov &gt; 0 <span class="keywordflow">and</span> \</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>                self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">iterations</a> % (1. / (self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a64138cc1569696378f425b77a1133c55">ccov1</a> + self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac4f76391f5b24411336fd43932b1f32d">ccovmu</a> + negccov) / self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a> / 10.) &lt; 1.:</div>
<div class="foldopen" id="foldopen00776" data-start="" data-end="">
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno"><a class="line" href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae26e42639fa8cb28b64c1fe1bcd7109c">  776</a></span>            <span class="comment"># to achieve O(N^2) enforce symmetry to prevent complex numbers</span></div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a69e5ed885bebdebca4855961f2a3c4cb">C</a> = np.triu(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a69e5ed885bebdebca4855961f2a3c4cb">C</a>, 0) + np.transpose(np.triu(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a69e5ed885bebdebca4855961f2a3c4cb">C</a>, 1))</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>            </div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>            <span class="comment"># diagD defines the scaling</span></div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>            eigen_values, eigen_vectors = linalg.eigh(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a69e5ed885bebdebca4855961f2a3c4cb">C</a>)</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span> </div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>            idx = eigen_values.argsort()[::-1]   </div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a> = eigen_values[idx]</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa02345ac78df378d92478bf7bb17362e">B</a> = eigen_vectors[:,idx]</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span> </div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>            <span class="comment"># Coordinate system</span></div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>            <span class="keywordflow">if</span> min(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a>) &lt;= 0:    </div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>                self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a> = np.maximum(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a>, 0)</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>                tfac = max(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a>) / 1e14</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>                self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a69e5ed885bebdebca4855961f2a3c4cb">C</a> += np.eye(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>) * tfac</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>                self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a> += np.ones(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>) * tfac</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span> </div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>            <span class="keywordflow">if</span> max(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a>) &gt; 1e14 * min(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a>):</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>                tfac = max(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a>) / 1e14 - min(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a>)</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>                self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a69e5ed885bebdebca4855961f2a3c4cb">C</a> += np.eye(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>) * tfac</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>                self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a> += np.ones(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">dim</a>) * tfac</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>                </div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a02064e035283dd8a57de4869703c8977">diagC</a> = np.diag(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a69e5ed885bebdebca4855961f2a3c4cb">C</a>)</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a> = np.sqrt(self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a>) <span class="comment"># diagD contains standard deviations now</span></div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>            </div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>            self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#addeb9c3f1881d703fcbdab203a81e8ba">BD</a> = self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa02345ac78df378d92478bf7bb17362e">B</a> * self.<a class="code hl_variable" href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">diagD</a> <span class="comment"># O(n^2)</span></div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>                        </div>
</div>
</div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html">fcmaes.cmaes.Cmaes</a></div><div class="ttdoc">Optimization solver implementing the Covariance Matrix Adaptation Evolution Strategy (CMA-ES).</div><div class="ttdef"><b>Definition</b> <a href="#l00144">cmaes.py:144</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a02064e035283dd8a57de4869703c8977"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a02064e035283dd8a57de4869703c8977">fcmaes.cmaes.Cmaes.diagC</a></div><div class="ttdeci">diagC</div><div class="ttdef"><b>Definition</b> <a href="#l00304">cmaes.py:304</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a081d9143661974676245efab12c318cb"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a081d9143661974676245efab12c318cb">fcmaes.cmaes.Cmaes.__init__</a></div><div class="ttdeci">__init__(self, Optional[Bounds] bounds=None, Optional[ArrayLike] x0=None, Optional[Union[float, ArrayLike, Callable]] input_sigma=0.3, Optional[int] popsize=31, Optional[int] max_evaluations=100000, Optional[int] max_iterations=100000, Optional[int] accuracy=1.0, Optional[float] stop_fitness=-np.inf, Optional[bool] is_terminate=None, Optional[Generator] rg=Generator(PCG64DXSM()), Optional[Callable] randn=np.random.randn, Optional[int] runid=0, Optional[bool] normalize=True, Optional[int] update_gap=None, Optional[Callable[[ArrayLike], float]] fun=None)</div><div class="ttdoc">Initializes the optimizer with user-defined or default parameters.</div><div class="ttdef"><b>Definition</b> <a href="#l00184">cmaes.py:199</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a0c1c9cf3e185d2a6d4e8d64db0a2f256"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a0c1c9cf3e185d2a6d4e8d64db0a2f256">fcmaes.cmaes.Cmaes.sigma</a></div><div class="ttdeci">sigma</div><div class="ttdef"><b>Definition</b> <a href="#l00238">cmaes.py:238</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a13f1cc130df08ee63adedf73d9bb0d45"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a13f1cc130df08ee63adedf73d9bb0d45">fcmaes.cmaes.Cmaes.n_evals</a></div><div class="ttdeci">n_evals</div><div class="ttdef"><b>Definition</b> <a href="#l00259">cmaes.py:259</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a180e3a8a1099625f1d089209c93a6d85"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a180e3a8a1099625f1d089209c93a6d85">fcmaes.cmaes.Cmaes.best_x</a></div><div class="ttdeci">best_x</div><div class="ttdef"><b>Definition</b> <a href="#l00318">cmaes.py:318</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a219b889766de63a8dcca256df781a0e5"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a219b889766de63a8dcca256df781a0e5">fcmaes.cmaes.Cmaes.arz</a></div><div class="ttdeci">tuple arz</div><div class="ttdef"><b>Definition</b> <a href="#l00322">cmaes.py:322</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a255bb1d29dc205cf8a37e794bb7fa209"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a255bb1d29dc205cf8a37e794bb7fa209">fcmaes.cmaes.Cmaes.insigma</a></div><div class="ttdeci">insigma</div><div class="ttdef"><b>Definition</b> <a href="#l00232">cmaes.py:232</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a2e2ca07b4daef2f2ad49d42d3220f268"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a2e2ca07b4daef2f2ad49d42d3220f268">fcmaes.cmaes.Cmaes.dim</a></div><div class="ttdeci">dim</div><div class="ttdef"><b>Definition</b> <a href="#l00216">cmaes.py:216</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a37fe790f8441da81e8e25dd57ebe5e38"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a37fe790f8441da81e8e25dd57ebe5e38">fcmaes.cmaes.Cmaes.fitness_history</a></div><div class="ttdeci">fitness_history</div><div class="ttdef"><b>Definition</b> <a href="#l00320">cmaes.py:320</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a398738e6fcf7fe101cce3257fb0d579d"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a398738e6fcf7fe101cce3257fb0d579d">fcmaes.cmaes.Cmaes.tell</a></div><div class="ttdeci">int tell(self, np.ndarray ys, Optional[np.ndarray] xs=None)</div><div class="ttdoc">Processes the input function values and updates the internal state of the CMA-ES algorithm.</div><div class="ttdef"><b>Definition</b> <a href="#l00358">cmaes.py:360</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a3d8d08495e9ebae0cc1e8164f92bbda0"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a3d8d08495e9ebae0cc1e8164f92bbda0">fcmaes.cmaes.Cmaes.mu</a></div><div class="ttdeci">mu</div><div class="ttdef"><b>Definition</b> <a href="#l00255">cmaes.py:255</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a472913cd6e65e99db64b742fc0b348f8"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a472913cd6e65e99db64b742fc0b348f8">fcmaes.cmaes.Cmaes.rg</a></div><div class="ttdeci">rg</div><div class="ttdef"><b>Definition</b> <a href="#l00209">cmaes.py:209</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a53ccd69a742fb33d4a8c783cdcd2b51a"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a53ccd69a742fb33d4a8c783cdcd2b51a">fcmaes.cmaes.Cmaes.is_terminate</a></div><div class="ttdeci">is_terminate</div><div class="ttdef"><b>Definition</b> <a href="#l00214">cmaes.py:214</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a56c7e2c2ad921a3fc6263e5be6a873f8"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a56c7e2c2ad921a3fc6263e5be6a873f8">fcmaes.cmaes.Cmaes.ask</a></div><div class="ttdeci">np.array ask(self)</div><div class="ttdoc">Generates a NumPy array by decoding elements in the current data structure.</div><div class="ttdef"><b>Definition</b> <a href="#l00338">cmaes.py:338</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a5c6955cf059c16dfea867a214b485501"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a5c6955cf059c16dfea867a214b485501">fcmaes.cmaes.Cmaes.result</a></div><div class="ttdeci">OptimizeResult result(self)</div><div class="ttdoc">Returns the optimization result containing the details of the optimization process.</div><div class="ttdef"><b>Definition</b> <a href="#l00413">cmaes.py:413</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a64138cc1569696378f425b77a1133c55"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a64138cc1569696378f425b77a1133c55">fcmaes.cmaes.Cmaes.ccov1</a></div><div class="ttdeci">ccov1</div><div class="ttdef"><b>Definition</b> <a href="#l00279">cmaes.py:279</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a69e5ed885bebdebca4855961f2a3c4cb"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a69e5ed885bebdebca4855961f2a3c4cb">fcmaes.cmaes.Cmaes.C</a></div><div class="ttdeci">C</div><div class="ttdef"><b>Definition</b> <a href="#l00308">cmaes.py:308</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a6c0ece7221cef9045ab5c872974c78fc"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a6c0ece7221cef9045ab5c872974c78fc">fcmaes.cmaes.Cmaes.normps</a></div><div class="ttdeci">normps</div><div class="ttdef"><b>Definition</b> <a href="#l00299">cmaes.py:299</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a72279ffee64f7ce0014f5a6f2a5dcbe2"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a72279ffee64f7ce0014f5a6f2a5dcbe2">fcmaes.cmaes.Cmaes.pc</a></div><div class="ttdeci">pc</div><div class="ttdef"><b>Definition</b> <a href="#l00295">cmaes.py:295</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a761c0d9f4dee80eeede32decb57c33df"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a761c0d9f4dee80eeede32decb57c33df">fcmaes.cmaes.Cmaes.popsize</a></div><div class="ttdeci">popsize</div><div class="ttdef"><b>Definition</b> <a href="#l00223">cmaes.py:223</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a777ec51b23b513f06524b1d0a73e47ef"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a777ec51b23b513f06524b1d0a73e47ef">fcmaes.cmaes.Cmaes.fitness</a></div><div class="ttdeci">list fitness</div><div class="ttdef"><b>Definition</b> <a href="#l00323">cmaes.py:323</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a7d18b1bc7ca57941c7ca07bde288c8f5"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7d18b1bc7ca57941c7ca07bde288c8f5">fcmaes.cmaes.Cmaes.population</a></div><div class="ttdeci">np.array population(self)</div><div class="ttdoc">Decodes the given array of representations into their respective solutions.</div><div class="ttdef"><b>Definition</b> <a href="#l00389">cmaes.py:389</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a7da80a6a1a85ca8df878d8d205b21d25"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7da80a6a1a85ca8df878d8d205b21d25">fcmaes.cmaes.Cmaes.diagD</a></div><div class="ttdeci">diagD</div><div class="ttdef"><b>Definition</b> <a href="#l00303">cmaes.py:303</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a7dada2c399890feafb59c01d1f424ee5"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7dada2c399890feafb59c01d1f424ee5">fcmaes.cmaes.Cmaes.updateCMA</a></div><div class="ttdeci">updateCMA(self)</div><div class="ttdoc">Updates the evolutionary process using the Covariance Matrix Adaptation (CMA) strategy.</div><div class="ttdef"><b>Definition</b> <a href="#l00604">cmaes.py:604</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a7dc4517b21d000a43313255dd7f7b5ee"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a7dc4517b21d000a43313255dd7f7b5ee">fcmaes.cmaes.Cmaes.best_y</a></div><div class="ttdeci">best_y</div><div class="ttdef"><b>Definition</b> <a href="#l00258">cmaes.py:258</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a83af54c38e948804ee8aceba231d25ab"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a83af54c38e948804ee8aceba231d25ab">fcmaes.cmaes.Cmaes.time_0</a></div><div class="ttdeci">time_0</div><div class="ttdef"><b>Definition</b> <a href="#l00260">cmaes.py:260</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a84f0007d9d933264673eb08e17e2bc8a"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a84f0007d9d933264673eb08e17e2bc8a">fcmaes.cmaes.Cmaes.arx</a></div><div class="ttdeci">list arx</div><div class="ttdef"><b>Definition</b> <a href="#l00366">cmaes.py:366</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a87a139a9830d96524ee8cac362cc03a0"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87a139a9830d96524ee8cac362cc03a0">fcmaes.cmaes.Cmaes.stopTolFun</a></div><div class="ttdeci">stopTolFun</div><div class="ttdef"><b>Definition</b> <a href="#l00250">cmaes.py:250</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a87b45423cf6e89e57e4682ff318a5c88"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a87b45423cf6e89e57e4682ff318a5c88">fcmaes.cmaes.Cmaes.mueff</a></div><div class="ttdeci">mueff</div><div class="ttdef"><b>Definition</b> <a href="#l00268">cmaes.py:268</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a896dcfff9b45acea10fdf6f918ca8329"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a896dcfff9b45acea10fdf6f918ca8329">fcmaes.cmaes.Cmaes.cc</a></div><div class="ttdeci">cc</div><div class="ttdef"><b>Definition</b> <a href="#l00272">cmaes.py:272</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a8c15e41b9f3e7d6eb11ff2112109cd52"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a8c15e41b9f3e7d6eb11ff2112109cd52">fcmaes.cmaes.Cmaes.cs</a></div><div class="ttdeci">cs</div><div class="ttdef"><b>Definition</b> <a href="#l00274">cmaes.py:274</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a91dd0137d82524d5c7f82d0992ca823c"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a91dd0137d82524d5c7f82d0992ca823c">fcmaes.cmaes.Cmaes.historySize</a></div><div class="ttdeci">historySize</div><div class="ttdef"><b>Definition</b> <a href="#l00312">cmaes.py:312</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a94c7703c8ab62c0696018a9dec53e7ac"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a94c7703c8ab62c0696018a9dec53e7ac">fcmaes.cmaes.Cmaes.evals</a></div><div class="ttdeci">int evals</div><div class="ttdef"><b>Definition</b> <a href="#l00536">cmaes.py:536</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_a974188898932b9c2ecacb33387c08fd8"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#a974188898932b9c2ecacb33387c08fd8">fcmaes.cmaes.Cmaes.doOptimize</a></div><div class="ttdeci">doOptimize(self)</div><div class="ttdoc">Performs an optimization process within a generation loop until termination conditions are met.</div><div class="ttdef"><b>Definition</b> <a href="#l00576">cmaes.py:576</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_aa02345ac78df378d92478bf7bb17362e"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa02345ac78df378d92478bf7bb17362e">fcmaes.cmaes.Cmaes.B</a></div><div class="ttdeci">B</div><div class="ttdef"><b>Definition</b> <a href="#l00301">cmaes.py:301</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_aa7a7a3eb4886eedbfa5e3b46c35adede"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa7a7a3eb4886eedbfa5e3b46c35adede">fcmaes.cmaes.Cmaes.max_iterations</a></div><div class="ttdeci">max_iterations</div><div class="ttdef"><b>Definition</b> <a href="#l00242">cmaes.py:242</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_aa86568b2e35fa0abc9c44441370001b6"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#aa86568b2e35fa0abc9c44441370001b6">fcmaes.cmaes.Cmaes.damps</a></div><div class="ttdeci">damps</div><div class="ttdef"><b>Definition</b> <a href="#l00276">cmaes.py:276</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_aaa66313795089b51ff1f38a62e2664fd"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#aaa66313795089b51ff1f38a62e2664fd">fcmaes.cmaes.Cmaes.stopTolHistFun</a></div><div class="ttdeci">stopTolHistFun</div><div class="ttdef"><b>Definition</b> <a href="#l00252">cmaes.py:252</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_aab6158b518a6657e69010bb347c9d72f"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#aab6158b518a6657e69010bb347c9d72f">fcmaes.cmaes.Cmaes.fitfun</a></div><div class="ttdeci">fitfun</div><div class="ttdef"><b>Definition</b> <a href="#l00205">cmaes.py:205</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_aaf84ee8e2f184fa2e5b5b49f681fb5ed"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#aaf84ee8e2f184fa2e5b5b49f681fb5ed">fcmaes.cmaes.Cmaes.runid</a></div><div class="ttdeci">runid</div><div class="ttdef"><b>Definition</b> <a href="#l00202">cmaes.py:202</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_ab23d2436d1c72f54ab99839058c1adf3"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab23d2436d1c72f54ab99839058c1adf3">fcmaes.cmaes.Cmaes.xmean</a></div><div class="ttdeci">xmean</div><div class="ttdef"><b>Definition</b> <a href="#l00293">cmaes.py:293</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_ab77d778b85b64826f6a8e7c004387f35"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab77d778b85b64826f6a8e7c004387f35">fcmaes.cmaes.Cmaes.stop_fitness</a></div><div class="ttdeci">stop_fitness</div><div class="ttdef"><b>Definition</b> <a href="#l00244">cmaes.py:244</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_ab89a6f59ef9aafbe855a9547c80669f5"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#ab89a6f59ef9aafbe855a9547c80669f5">fcmaes.cmaes.Cmaes.ask_one</a></div><div class="ttdeci">np.array ask_one(self)</div><div class="ttdoc">Generates a single decoded solution vector based on the current distribution.</div><div class="ttdef"><b>Definition</b> <a href="#l00432">cmaes.py:432</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_abc49c506631c8deb58566ce95a1b3069"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#abc49c506631c8deb58566ce95a1b3069">fcmaes.cmaes.Cmaes.randn</a></div><div class="ttdeci">randn</div><div class="ttdef"><b>Definition</b> <a href="#l00210">cmaes.py:210</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_abd695ddec4028c73504ddc1e56d9ddbb"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#abd695ddec4028c73504ddc1e56d9ddbb">fcmaes.cmaes.Cmaes.lazy_update_gap</a></div><div class="ttdeci">lazy_update_gap</div><div class="ttdef"><b>Definition</b> <a href="#l00288">cmaes.py:288</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_abe14f6b9326248e7d16f17edd05660c4"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#abe14f6b9326248e7d16f17edd05660c4">fcmaes.cmaes.Cmaes.best_value</a></div><div class="ttdeci">list best_value</div><div class="ttdef"><b>Definition</b> <a href="#l00317">cmaes.py:317</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_abebaeee4cae9bad0d9ea507610aad62a"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#abebaeee4cae9bad0d9ea507610aad62a">fcmaes.cmaes.Cmaes.stopTolX</a></div><div class="ttdeci">stopTolX</div><div class="ttdef"><b>Definition</b> <a href="#l00248">cmaes.py:248</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_abf10f8059a83dd6d1d02c17f8c9317b0"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#abf10f8059a83dd6d1d02c17f8c9317b0">fcmaes.cmaes.Cmaes.ps</a></div><div class="ttdeci">ps</div><div class="ttdef"><b>Definition</b> <a href="#l00297">cmaes.py:297</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_abfb4fec954b64eec89f44d931515ed48"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#abfb4fec954b64eec89f44d931515ed48">fcmaes.cmaes.Cmaes.input_sigma</a></div><div class="ttdeci">input_sigma</div><div class="ttdef"><b>Definition</b> <a href="#l00230">cmaes.py:230</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_ac4f76391f5b24411336fd43932b1f32d"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac4f76391f5b24411336fd43932b1f32d">fcmaes.cmaes.Cmaes.ccovmu</a></div><div class="ttdeci">ccovmu</div><div class="ttdef"><b>Definition</b> <a href="#l00281">cmaes.py:281</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_ac7cbecf8b29fb1048bd4cc7ec900692c"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#ac7cbecf8b29fb1048bd4cc7ec900692c">fcmaes.cmaes.Cmaes.tell_one</a></div><div class="ttdeci">int tell_one(self, float y, np.array x)</div><div class="ttdoc">Processes the given fitness value and solution vector, performs updates to internal data structures,...</div><div class="ttdef"><b>Definition</b> <a href="#l00453">cmaes.py:455</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_acc278543fe1ef34927806184e59ad84c"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#acc278543fe1ef34927806184e59ad84c">fcmaes.cmaes.Cmaes.stop</a></div><div class="ttdeci">int stop</div><div class="ttdef"><b>Definition</b> <a href="#l00316">cmaes.py:316</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_ad28c8205ed7b2094888c758757511eea"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#ad28c8205ed7b2094888c758757511eea">fcmaes.cmaes.Cmaes.ccovmuSep</a></div><div class="ttdeci">ccovmuSep</div><div class="ttdef"><b>Definition</b> <a href="#l00286">cmaes.py:286</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_ad60e13f5cfc1f2c51e12bc24507708e9"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#ad60e13f5cfc1f2c51e12bc24507708e9">fcmaes.cmaes.Cmaes.guess</a></div><div class="ttdeci">guess</div><div class="ttdef"><b>Definition</b> <a href="#l00204">cmaes.py:204</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_ad83a90d453bf38c57926596aab31f741"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#ad83a90d453bf38c57926596aab31f741">fcmaes.cmaes.Cmaes.ccov1Sep</a></div><div class="ttdeci">ccov1Sep</div><div class="ttdef"><b>Definition</b> <a href="#l00285">cmaes.py:285</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_addeb9c3f1881d703fcbdab203a81e8ba"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#addeb9c3f1881d703fcbdab203a81e8ba">fcmaes.cmaes.Cmaes.BD</a></div><div class="ttdeci">BD</div><div class="ttdef"><b>Definition</b> <a href="#l00306">cmaes.py:306</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_ae26e42639fa8cb28b64c1fe1bcd7109c"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae26e42639fa8cb28b64c1fe1bcd7109c">fcmaes.cmaes.Cmaes.updateBD</a></div><div class="ttdeci">updateBD(self, negccov)</div><div class="ttdoc">Updates the internal state of the covariance matrix and its derived attributes, such as eigenvalues,...</div><div class="ttdef"><b>Definition</b> <a href="#l00776">cmaes.py:776</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_ae3fd3fbe79efd9509bb8462382d63bdd"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae3fd3fbe79efd9509bb8462382d63bdd">fcmaes.cmaes.Cmaes.updateEvolutionPaths</a></div><div class="ttdeci">updateEvolutionPaths(self, zmean, xold)</div><div class="ttdoc">Updates the evolution paths required for generating new samples in the covariance matrix adaptation e...</div><div class="ttdef"><b>Definition</b> <a href="#l00695">cmaes.py:695</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_ae86966099ee875815394d69b087738f4"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae86966099ee875815394d69b087738f4">fcmaes.cmaes.Cmaes.do_optimize_delayed_update</a></div><div class="ttdeci">do_optimize_delayed_update(self, fun, max_evals=None, workers=mp.cpu_count())</div><div class="ttdoc">Optimizes a given function asynchronously with delayed updates.</div><div class="ttdef"><b>Definition</b> <a href="#l00530">cmaes.py:530</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_ae977d12b9b7f088beb9df50d43936122"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae977d12b9b7f088beb9df50d43936122">fcmaes.cmaes.Cmaes.accuracy</a></div><div class="ttdeci">accuracy</div><div class="ttdef"><b>Definition</b> <a href="#l00212">cmaes.py:212</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_ae9bf236b9972f1dbb22e45c0938591b3"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#ae9bf236b9972f1dbb22e45c0938591b3">fcmaes.cmaes.Cmaes.max_evaluations</a></div><div class="ttdeci">max_evaluations</div><div class="ttdef"><b>Definition</b> <a href="#l00241">cmaes.py:241</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_af748707b894a344fc39d3d933ddd6875"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#af748707b894a344fc39d3d933ddd6875">fcmaes.cmaes.Cmaes.chiN</a></div><div class="ttdeci">chiN</div><div class="ttdef"><b>Definition</b> <a href="#l00284">cmaes.py:284</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_af7581432fe2911ae409ec703de2cbc13"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#af7581432fe2911ae409ec703de2cbc13">fcmaes.cmaes.Cmaes.iterations</a></div><div class="ttdeci">iterations</div><div class="ttdef"><b>Definition</b> <a href="#l00310">cmaes.py:310</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_afa1dbc74053584467bcd74d4d7cbcf4c"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#afa1dbc74053584467bcd74d4d7cbcf4c">fcmaes.cmaes.Cmaes.weights</a></div><div class="ttdeci">weights</div><div class="ttdef"><b>Definition</b> <a href="#l00263">cmaes.py:263</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_afaa10b55e67589d51b3781645d801da2"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#afaa10b55e67589d51b3781645d801da2">fcmaes.cmaes.Cmaes.stopTolUpX</a></div><div class="ttdeci">stopTolUpX</div><div class="ttdef"><b>Definition</b> <a href="#l00246">cmaes.py:246</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_afada885234491b531340c56405686608"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#afada885234491b531340c56405686608">fcmaes.cmaes.Cmaes.last_update</a></div><div class="ttdeci">last_update</div><div class="ttdef"><b>Definition</b> <a href="#l00315">cmaes.py:315</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_afd8b8665d87f14c53cd60da16c932336"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#afd8b8665d87f14c53cd60da16c932336">fcmaes.cmaes.Cmaes.updateCovariance</a></div><div class="ttdeci">updateCovariance(self, hsig, bestArx, arz, arindex, xold)</div><div class="ttdoc">Updates the covariance matrix and returns the negative covariance scaling factor.</div><div class="ttdef"><b>Definition</b> <a href="#l00726">cmaes.py:726</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1cmaes_1_1_cmaes_html_aff1c6aff205dfd66b677b1237f3566e7"><div class="ttname"><a href="classfcmaes_1_1cmaes_1_1_cmaes.html#aff1c6aff205dfd66b677b1237f3566e7">fcmaes.cmaes.Cmaes.newArgs</a></div><div class="ttdeci">newArgs(self)</div><div class="ttdoc">Generates a new population of candidate solutions for optimization.</div><div class="ttdef"><b>Definition</b> <a href="#l00498">cmaes.py:498</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1evaluator_1_1__fitness_html"><div class="ttname"><a href="classfcmaes_1_1evaluator_1_1__fitness.html">fcmaes.evaluator._fitness</a></div><div class="ttdoc">Represents a fitness evaluation system for optimization problems.</div><div class="ttdef"><b>Definition</b> <a href="evaluator_8py_source.html#l00380">evaluator.py:380</a></div></div>
<div class="ttc" id="aclassfcmaes_1_1evaluator_1_1_evaluator_html"><div class="ttname"><a href="classfcmaes_1_1evaluator_1_1_evaluator.html">fcmaes.evaluator.Evaluator</a></div><div class="ttdoc">Evaluator class to manage the parallel evaluation of a function across multiple workers.</div><div class="ttdef"><b>Definition</b> <a href="evaluator_8py_source.html#l00183">evaluator.py:183</a></div></div>
<div class="ttc" id="anamespacefcmaes_1_1cmaes_html_ab8082e1fc4bdc2b20f0c1628e2923abd"><div class="ttname"><a href="namespacefcmaes_1_1cmaes.html#ab8082e1fc4bdc2b20f0c1628e2923abd">fcmaes.cmaes.minimize</a></div><div class="ttdeci">OptimizeResult minimize(Callable[[ArrayLike], float] fun, Optional[Bounds] bounds=None, Optional[ArrayLike] x0=None, Optional[Union[float, ArrayLike, Callable]] input_sigma=0.3, Optional[int] popsize=31, Optional[int] max_evaluations=100000, Optional[int] max_iterations=100000, Optional[int] workers=1, Optional[float] accuracy=1.0, Optional[float] stop_fitness=-np.inf, Optional[Callable[[ArrayLike, float], bool]] is_terminate=None, Optional[Generator] rg=Generator(PCG64DXSM()), Optional[int] runid=0, Optional[bool] normalize=True, Optional[int] update_gap=None)</div><div class="ttdoc">Minimizes a scalar function using the Covariance Matrix Adaptation Evolution Strategy (CMA-ES) algori...</div><div class="ttdef"><b>Definition</b> <a href="#l00108">cmaes.py:122</a></div></div>
<div class="ttc" id="anamespacefcmaes_1_1evaluator_html"><div class="ttname"><a href="namespacefcmaes_1_1evaluator.html">fcmaes.evaluator</a></div><div class="ttdef"><b>Definition</b> <a href="evaluator_8py_source.html#l00001">evaluator.py:1</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_4fd5af8b01e1bfea8ef7f814565b5f64.html">fcmaes</a></li><li class="navelem"><a class="el" href="cmaes_8py.html">cmaes.py</a></li>
    <li class="footer">Generated on Tue Jun 24 2025 15:36:17 for Fast CMA-ES by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
