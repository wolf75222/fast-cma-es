<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="moretry_8py" kind="file" language="Python">
    <compoundname>moretry.py</compoundname>
    <innerclass refid="classfcmaes_1_1moretry_1_1mo__wrapper" prot="public">fcmaes::moretry::mo_wrapper</innerclass>
    <innernamespace refid="namespacefcmaes">fcmaes</innernamespace>
    <innernamespace refid="namespacefcmaes_1_1moretry">fcmaes::moretry</innernamespace>
    <sectiondef kind="func">
      <memberdef kind="function" id="namespacefcmaes_1_1moretry_1aba66691a21a53975863acf44cac52eda" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>Tuple[np.ndarray, np.ndarray]</type>
        <definition> Tuple[np.ndarray, np.ndarray] fcmaes.moretry.minimize</definition>
        <argsstring>(Callable[[ArrayLike], float] fun, Bounds bounds, Bounds weight_bounds, Optional[int] ncon=0, Optional[float] value_exp=2.0, Optional[ArrayLike] value_limits=None, Optional[int] num_retries=1024, Optional[int] workers=mp.cpu_count(), Optional[int] popsize=31, Optional[int] max_evaluations=50000, Optional[int] capacity=None, Optional[Optimizer] optimizer=None, Optional[int] statistic_num=0, Optional[str] plot_name=None)</argsstring>
        <name>minimize</name>
        <qualifiedname>fcmaes.moretry.minimize</qualifiedname>
        <param>
          <type>Callable</type>
          <defname>fun</defname>
          <array>[[ArrayLike]</array>
        </param>
        <param>
          <type>float]</type>
          <declname>fun</declname>
          <defname>bounds</defname>
        </param>
        <param>
          <type>Bounds</type>
          <declname>bounds</declname>
          <defname>weight_bounds</defname>
        </param>
        <param>
          <type>Bounds</type>
          <declname>weight_bounds</declname>
          <defname>ncon</defname>
        </param>
        <param>
          <type>Optional</type>
          <declname>ncon</declname>
          <defname>value_exp</defname>
          <array>[int]</array>
          <defval>0</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>value_exp</declname>
          <defname>value_limits</defname>
          <array>[float]</array>
          <defval>2.0</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>value_limits</declname>
          <defname>num_retries</defname>
          <array>[ArrayLike]</array>
          <defval>None</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>num_retries</declname>
          <defname>workers</defname>
          <array>[int]</array>
          <defval>1024</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>workers</declname>
          <defname>popsize</defname>
          <array>[int]</array>
          <defval>mp.cpu_count()</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>popsize</declname>
          <defname>max_evaluations</defname>
          <array>[int]</array>
          <defval>31</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>max_evaluations</declname>
          <defname>capacity</defname>
          <array>[int]</array>
          <defval>50000</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>capacity</declname>
          <defname>optimizer</defname>
          <array>[int]</array>
          <defval>None</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>optimizer</declname>
          <defname>statistic_num</defname>
          <array>[Optimizer]</array>
          <defval>None</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>statistic_num</declname>
          <defname>plot_name</defname>
          <array>[int]</array>
          <defval>0</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>plot_name</declname>
          <array>[str]</array>
          <defval>None</defval>
        </param>
        <briefdescription>
<para>Minimization of a multi objective function of one or more variables using parallel optimization retry. </para>
        </briefdescription>
        <detaileddescription>
<sect1 id="namespacefcmaes_1_1moretry_1autotoc_md16_1s1"><sect2 id="namespacefcmaes_1_1moretry_1autotoc_md16">
<title>Parameters</title><para>fun callable The objective function to be minimized. <computeroutput>fun(x) -&gt; float</computeroutput> where <computeroutput>x</computeroutput> is an 1-D array with shape (n,) bounds sequence or <computeroutput>Bounds</computeroutput>, optional Bounds on variables. There are two ways to specify the bounds:<orderedlist>
<listitem><para>Instance of the <computeroutput>scipy.Bounds</computeroutput> class.</para>
</listitem><listitem><para>Sequence of <computeroutput>(min, max)</computeroutput> pairs for each element in <computeroutput>x</computeroutput>. None is used to specify no bound. weight_bounds <computeroutput>Bounds</computeroutput>, optional Bounds on objective weights. ncon int, optional number of constraints value_exp float, optional exponent applied to the objective values for the weighted sum. value_limits sequence of floats, optional Upper limit for optimized objective values to be stored. num_retries int, optional Number of optimization retries. workers int, optional number of parallel processes used. Default is mp.cpu_count() <programlisting><codeline><highlight class="normal">popsize<sp/>=<sp/>int,<sp/>optional</highlight></codeline>
</programlisting> CMA-ES population size used for all CMA-ES runs. Not used for differential evolution. Ignored if parameter optimizer is defined. max_evaluations int, optional Forced termination of all optimization runs after <computeroutput>max_evaluations</computeroutput> function evaluations. Only used if optimizer is undefined, otherwise this setting is defined in the optimizer. capacity int, optional capacity of the evaluation store. optimizer <ref refid="classfcmaes_1_1optimizer_1_1_optimizer" kindref="compound">optimizer.Optimizer</ref>, optional optimizer to use. Default is a sequence of differential evolution and CMA-ES. plot_name plot_name, optional if defined the pareto front is plotted during the optimization to monitor progress</para>
</listitem></orderedlist>
</para>
</sect2></sect1>
<sect1 id="namespacefcmaes_1_1moretry_1autotoc_md17_1s1"><sect2 id="namespacefcmaes_1_1moretry_1autotoc_md17">
<title>Returns</title><para>xs, ys: list of argument vectors and corresponding value vectors of the optimization results. </para>
</sect2></sect1>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/moretry.py" line="94" column="1" bodyfile="fcmaes/moretry.py" bodystart="108" bodyend="121"/>
        <references refid="namespacefcmaes_1_1moretry_1a795e0edbefdcbbf2bc2b0446d59d5903" compoundref="moretry_8py" startline="160" endline="171">fcmaes.moretry.mo_retry</references>
        <referencedby refid="namespacefcmaes_1_1moretry_1a9afe8f9041254063275650e3dc56b77e" compoundref="moretry_8py" startline="387" endline="401">fcmaes.moretry.minimize_plot</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1moretry_1a795e0edbefdcbbf2bc2b0446d59d5903" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.moretry.mo_retry</definition>
        <argsstring>(Callable[[ArrayLike], float] fun, Bounds weight_bounds, int ncon, float y_exp, store, Callable optimize, int num_retries, ArrayLike value_limits, Optional[int] workers=mp.cpu_count())</argsstring>
        <name>mo_retry</name>
        <qualifiedname>fcmaes.moretry.mo_retry</qualifiedname>
        <param>
          <type>Callable</type>
          <defname>fun</defname>
          <array>[[ArrayLike]</array>
        </param>
        <param>
          <type>float]</type>
          <declname>fun</declname>
          <defname>weight_bounds</defname>
        </param>
        <param>
          <type>Bounds</type>
          <declname>weight_bounds</declname>
          <defname>ncon</defname>
        </param>
        <param>
          <type>int</type>
          <declname>ncon</declname>
          <defname>y_exp</defname>
        </param>
        <param>
          <type>float</type>
          <declname>y_exp</declname>
          <defname>store</defname>
        </param>
        <param>
          <type>store</type>
          <defname>optimize</defname>
        </param>
        <param>
          <type>Callable</type>
          <declname>optimize</declname>
          <defname>num_retries</defname>
        </param>
        <param>
          <type>int</type>
          <declname>num_retries</declname>
          <defname>value_limits</defname>
        </param>
        <param>
          <type>ArrayLike</type>
          <declname>value_limits</declname>
          <defname>workers</defname>
        </param>
        <param>
          <type>Optional</type>
          <declname>workers</declname>
          <array>[int]</array>
          <defval>mp.cpu_count()</defval>
        </param>
        <briefdescription>
<para>Executes a multi-objective optimization with retry functionality by distributing work across multiple processes. </para>
        </briefdescription>
        <detaileddescription>
<para>This function performs optimization by spawning multiple processes, each executing a retry loop targeting a specific optimizer and constraints. The retries ensure robustness against failures or subpar outcomes in individual optimization attempts across the workers.</para>
<para><verbatim>   fun (Callable[[ArrayLike], float]): The objective function to optimize. It must accept
       an input vector and return a scalar cost or objective value.
</verbatim> <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>weight_bounds</parametername>
</parameternamelist>
<parameterdescription>
<para>Bounds for the weights, defining constraints on the optimization </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>variables.</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ncon</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of constraints to enforce during the optimization process. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>y_exp</parametername>
</parameternamelist>
<parameterdescription>
<para>The expected value used as a threshold or benchmark for optimization outcomes. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>store</parametername>
</parameternamelist>
<parameterdescription>
<para>An object for storing and managing results during optimization. Must support <computeroutput>sort</computeroutput> and <computeroutput>dump</computeroutput> methods, among others. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>optimize</parametername>
</parameternamelist>
<parameterdescription>
<para>Optimization function or solver to be used within the retry loop. It must be callable and compatible with the function and constraints provided. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>num_retries</parametername>
</parameternamelist>
<parameterdescription>
<para>The number of retries per process, ensuring multiple attempts for robust optimization results. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>value_limits</parametername>
</parameternamelist>
<parameterdescription>
<para>Array-like structure specifying the acceptable limits for values during optimization. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>workers</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of processes to spawn for parallel optimization. Defaults to the total available CPU count.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para></para>
</simplesect>
<simplesect kind="return"><para>xs_view A view or representation of the sorted results stored in the <computeroutput>store</computeroutput> after the optimization process is complete. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/moretry.py" line="152" column="1" bodyfile="fcmaes/moretry.py" bodystart="160" bodyend="171"/>
        <referencedby refid="namespacefcmaes_1_1moretry_1aba66691a21a53975863acf44cac52eda" compoundref="moretry_8py" startline="108" endline="121">fcmaes.moretry.minimize</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1moretry_1a2015c92ea717d0ce4849a00282a56d96" prot="protected" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.moretry._retry_loop</definition>
        <argsstring>(pid, rgs, fun, weight_bounds, ncon, y_exp, store, optimize, num_retries, value_limits)</argsstring>
        <name>_retry_loop</name>
        <qualifiedname>fcmaes.moretry._retry_loop</qualifiedname>
        <param>
          <type>pid</type>
          <defname>pid</defname>
        </param>
        <param>
          <type>rgs</type>
          <defname>rgs</defname>
        </param>
        <param>
          <type>fun</type>
          <defname>fun</defname>
        </param>
        <param>
          <type>weight_bounds</type>
          <defname>weight_bounds</defname>
        </param>
        <param>
          <type>ncon</type>
          <defname>ncon</defname>
        </param>
        <param>
          <type>y_exp</type>
          <defname>y_exp</defname>
        </param>
        <param>
          <type>store</type>
          <defname>store</defname>
        </param>
        <param>
          <type>optimize</type>
          <defname>optimize</defname>
        </param>
        <param>
          <type>num_retries</type>
          <defname>num_retries</defname>
        </param>
        <param>
          <type>value_limits</type>
          <defname>value_limits</defname>
        </param>
        <briefdescription>
<para>Executes a retry loop strategy for multi-objective optimization. </para>
        </briefdescription>
        <detaileddescription>
<para>This process includes generating random weights, scaling them to match constraints, optimizing the given function, and storing the results if they meet specific criteria. Additionally, it may generate and save plots of results for visualization.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>pid</parametername>
</parameternamelist>
<parameterdescription>
<para>Process ID to identify and manage the random state specific to the process. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>rgs</parametername>
</parameternamelist>
<parameterdescription>
<para>List of random number generators associated with each process. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>fun</parametername>
</parameternamelist>
<parameterdescription>
<para>The function to be optimized in the retry loop. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>weight_bounds</parametername>
</parameternamelist>
<parameterdescription>
<para>The lower and upper bounds for the weights used for scaling in the optimization process. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ncon</parametername>
</parameternamelist>
<parameterdescription>
<para>The number of constraints to account for during the optimization process. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>y_exp</parametername>
</parameternamelist>
<parameterdescription>
<para>Exponent used to adjust the scaling of weights in the optimization process. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>store</parametername>
</parameternamelist>
<parameterdescription>
<para>Instance of a class responsible for managing optimization results and storing data. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>optimize</parametername>
</parameternamelist>
<parameterdescription>
<para>Optimization function that evaluates the objective or constraints based on inputs. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>num_retries</parametername>
</parameternamelist>
<parameterdescription>
<para>The number of retries allowed for achieving a successful optimization result. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>value_limits</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional limits enforced on the objective values from the optimization results. If None, no objective value constraints are applied. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/moretry.py" line="203" column="1" bodyfile="fcmaes/moretry.py" bodystart="204" bodyend="230"/>
        <references refid="namespacefcmaes_1_1moretry_1ac6f83723e5f5c51274e705d503b7133f" compoundref="moretry_8py" startline="511" endline="516">fcmaes.moretry._avg_exp</references>
        <references refid="namespacefcmaes_1_1moretry_1a47b95fe506257996c19d9189f3f005c5" compoundref="moretry_8py" startline="425" endline="445">fcmaes.moretry.plot</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1moretry_1a76f8b50c1782e6def55706f648e3e819" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.moretry.pareto</definition>
        <argsstring>(np.ndarray xs, np.ndarray ys)</argsstring>
        <name>pareto</name>
        <qualifiedname>fcmaes.moretry.pareto</qualifiedname>
        <param>
          <type>np.ndarray</type>
          <declname>xs</declname>
        </param>
        <param>
          <type>np.ndarray</type>
          <declname>ys</declname>
        </param>
        <briefdescription>
<para>Filter and sort elements based on Pareto efficiency. </para>
        </briefdescription>
        <detaileddescription>
<para>This function calculates the Pareto front for the provided arrays, <computeroutput>xs</computeroutput> and <computeroutput>ys</computeroutput>. The Pareto front contains elements that are not dominated by any other element in the dataset. The function returns the filtered and sorted elements that belong to the Pareto front sorted by the values in the associated <computeroutput>ys</computeroutput> array.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>xs</parametername>
</parameternamelist>
<parameterdescription>
<para>A NumPy array representing the input data values. The <computeroutput>xs</computeroutput> array contains the attributes aligned with <computeroutput>ys</computeroutput>. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ys</parametername>
</parameternamelist>
<parameterdescription>
<para>A NumPy array indicating the criteria or objectives that the Pareto efficiency is calculated upon.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>A tuple containing two NumPy arrays:<itemizedlist>
<listitem><para>A filtered and sorted array of elements from <computeroutput>xs</computeroutput> corresponding to the Pareto front.</para>
</listitem><listitem><para>A filtered and sorted array of elements from <computeroutput>ys</computeroutput> corresponding to the Pareto front. </para>
</listitem></itemizedlist>
</para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/moretry.py" line="253" column="1" bodyfile="fcmaes/moretry.py" bodystart="253" bodyend="259"/>
        <references refid="namespacefcmaes_1_1moretry_1a56d8f2ec5777046d87dcd9a79c8168f9" compoundref="moretry_8py" startline="563" endline="574">fcmaes.moretry._pareto</references>
        <referencedby refid="namespacefcmaes_1_1moretry_1a6059f5a7788b8fb7273d3e5900426199" compoundref="moretry_8py" startline="479" endline="493">fcmaes.moretry.adv_minimize_plot</referencedby>
        <referencedby refid="namespacefcmaes_1_1moretry_1a47b95fe506257996c19d9189f3f005c5" compoundref="moretry_8py" startline="425" endline="445">fcmaes.moretry.plot</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1moretry_1a9afe8f9041254063275650e3dc56b77e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.moretry.minimize_plot</definition>
        <argsstring>(str name, Optimizer optimizer, Callable[[ArrayLike], float] fun, Bounds bounds, weight_bounds, Optional[int] ncon=0, Optional[ArrayLike] value_limits=None, Optional[int] num_retries=1024, Optional[float] exp=2.0, Optional[int] workers=mp.cpu_count(), statistic_num=0, plot_name=None)</argsstring>
        <name>minimize_plot</name>
        <qualifiedname>fcmaes.moretry.minimize_plot</qualifiedname>
        <param>
          <type>str</type>
          <declname>name</declname>
        </param>
        <param>
          <type>Optimizer</type>
          <declname>optimizer</declname>
        </param>
        <param>
          <type>Callable</type>
          <defname>fun</defname>
          <array>[[ArrayLike]</array>
        </param>
        <param>
          <type>float]</type>
          <declname>fun</declname>
          <defname>bounds</defname>
        </param>
        <param>
          <type>Bounds</type>
          <declname>bounds</declname>
          <defname>weight_bounds</defname>
        </param>
        <param>
          <type>weight_bounds</type>
          <defname>ncon</defname>
        </param>
        <param>
          <type>Optional</type>
          <declname>ncon</declname>
          <defname>value_limits</defname>
          <array>[int]</array>
          <defval>0</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>value_limits</declname>
          <defname>num_retries</defname>
          <array>[ArrayLike]</array>
          <defval>None</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>num_retries</declname>
          <defname>exp</defname>
          <array>[int]</array>
          <defval>1024</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>exp</declname>
          <defname>workers</defname>
          <array>[float]</array>
          <defval>2.0</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>workers</declname>
          <defname>statistic_num</defname>
          <array>[int]</array>
          <defval>mp.cpu_count()</defval>
        </param>
        <param>
          <type>statistic_num</type>
          <defname>plot_name</defname>
          <defval>0</defval>
        </param>
        <param>
          <type>plot_name</type>
          <defval>None</defval>
        </param>
        <briefdescription>
<para>Minimizes a given function using a specified optimizer and plots the results. </para>
        </briefdescription>
        <detaileddescription>
<para>This function performs optimization on a target function within the specified bounds and additional constraints. The results of the optimization, including inputs and outputs, are saved to a compressed file, and a plot is generated to visualize the optimization results.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>name</parametername>
</parameternamelist>
<parameterdescription>
<para>The base name for the output files and plots. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>optimizer</parametername>
</parameternamelist>
<parameterdescription>
<para>The optimization algorithm to be used. fun (Callable[[ArrayLike], float]): The target function to minimize. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>bounds</parametername>
</parameternamelist>
<parameterdescription>
<para>The bounds within which the optimization is performed. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>weight_bounds</parametername>
</parameternamelist>
<parameterdescription>
<para>Constraints on weight values for optimization. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ncon</parametername>
</parameternamelist>
<parameterdescription>
<para>The number of constraints in optimization. Defaults to 0. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>value_limits</parametername>
</parameternamelist>
<parameterdescription>
<para>Limits for input values in the optimization process. Defaults to None. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>num_retries</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of retries for optimization in case of failure or randomness. Defaults to 1024. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>exp</parametername>
</parameternamelist>
<parameterdescription>
<para>Exponent for value weighting during optimization. Defaults to 2.0. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>workers</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of parallel workers used during optimization. Defaults to the number of CPU cores available. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>statistic_num</parametername>
</parameternamelist>
<parameterdescription>
<para>Statistical parameter to control optimization behavior. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>plot_name</parametername>
</parameternamelist>
<parameterdescription>
<para>Custom name for the output plot. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/moretry.py" line="377" column="1" bodyfile="fcmaes/moretry.py" bodystart="387" bodyend="401"/>
        <references refid="namespacefcmaes_1_1moretry_1aba66691a21a53975863acf44cac52eda" compoundref="moretry_8py" startline="108" endline="121">fcmaes.moretry.minimize</references>
        <references refid="namespacefcmaes_1_1moretry_1a47b95fe506257996c19d9189f3f005c5" compoundref="moretry_8py" startline="425" endline="445">fcmaes.moretry.plot</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1moretry_1a47b95fe506257996c19d9189f3f005c5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.moretry.plot</definition>
        <argsstring>(name, ncon, xs, ys, eps=1E-2, all=True, interp=False, plot3d=False)</argsstring>
        <name>plot</name>
        <qualifiedname>fcmaes.moretry.plot</qualifiedname>
        <param>
          <type>name</type>
          <defname>name</defname>
        </param>
        <param>
          <type>ncon</type>
          <defname>ncon</defname>
        </param>
        <param>
          <type>xs</type>
          <defname>xs</defname>
        </param>
        <param>
          <type>ys</type>
          <defname>ys</defname>
        </param>
        <param>
          <type>eps</type>
          <defname>eps</defname>
          <defval>1E-2</defval>
        </param>
        <param>
          <type>all</type>
          <defname>all</defname>
          <defval>True</defval>
        </param>
        <param>
          <type>interp</type>
          <defname>interp</defname>
          <defval>False</defval>
        </param>
        <param>
          <type>plot3d</type>
          <defname>plot3d</defname>
          <defval>False</defval>
        </param>
        <briefdescription>
<para>Plots the feasible solution space and Pareto front for a given set of data points. </para>
        </briefdescription>
        <detaileddescription>
<para>This function processes data points and constraints to determine the feasible region and subsequently calculates the Pareto-optimal front. It can also generate visualizations of all solutions and the Pareto front if required.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>name</parametername>
</parameternamelist>
<parameterdescription>
<para>The name for the visualization files. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ncon</parametername>
</parameternamelist>
<parameterdescription>
<para>The number of constraint functions. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>xs</parametername>
</parameternamelist>
<parameterdescription>
<para>A collection of decision variable values. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ys</parametername>
</parameternamelist>
<parameterdescription>
<para>A collection of corresponding objective function values. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>eps</parametername>
</parameternamelist>
<parameterdescription>
<para>Tolerance value for feasibility conditions. Default is 1E-2. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>all</parametername>
</parameternamelist>
<parameterdescription>
<para>Flag to indicate if plotting all solutions is required. Default is True. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>interp</parametername>
</parameternamelist>
<parameterdescription>
<para>Flag to determine if interpolation is applied to the Pareto front plot. Default is False. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>plot3d</parametername>
</parameternamelist>
<parameterdescription>
<para>Flag indicating whether to create a 3D Pareto front plot. Default is False.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>Exception</parametername>
</parameternamelist>
<parameterdescription>
<para>If an error occurs during computation or plotting. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/moretry.py" line="425" column="1" bodyfile="fcmaes/moretry.py" bodystart="425" bodyend="445"/>
        <references refid="namespacefcmaes_1_1moretry_1a76f8b50c1782e6def55706f648e3e819" compoundref="moretry_8py" startline="253" endline="259">fcmaes.moretry.pareto</references>
        <referencedby refid="namespacefcmaes_1_1moretry_1a2015c92ea717d0ce4849a00282a56d96" compoundref="moretry_8py" startline="204" endline="230">fcmaes.moretry._retry_loop</referencedby>
        <referencedby refid="namespacefcmaes_1_1moretry_1a9afe8f9041254063275650e3dc56b77e" compoundref="moretry_8py" startline="387" endline="401">fcmaes.moretry.minimize_plot</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1moretry_1a6059f5a7788b8fb7273d3e5900426199" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.moretry.adv_minimize_plot</definition>
        <argsstring>(str name, Optimizer optimizer, Callable[[ArrayLike], float] fun, Optional[Bounds] bounds, Optional[float] value_limit=np.inf, Optional[int] num_retries=1024, Optional[int] statistic_num=0)</argsstring>
        <name>adv_minimize_plot</name>
        <qualifiedname>fcmaes.moretry.adv_minimize_plot</qualifiedname>
        <param>
          <type>str</type>
          <declname>name</declname>
        </param>
        <param>
          <type>Optimizer</type>
          <declname>optimizer</declname>
        </param>
        <param>
          <type>Callable</type>
          <defname>fun</defname>
          <array>[[ArrayLike]</array>
        </param>
        <param>
          <type>float]</type>
          <declname>fun</declname>
          <defname>bounds</defname>
        </param>
        <param>
          <type>Optional</type>
          <declname>bounds</declname>
          <defname>value_limit</defname>
          <array>[Bounds]</array>
        </param>
        <param>
          <type>Optional</type>
          <declname>value_limit</declname>
          <defname>num_retries</defname>
          <array>[float]</array>
          <defval>np.inf</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>num_retries</declname>
          <defname>statistic_num</defname>
          <array>[int]</array>
          <defval>1024</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>statistic_num</declname>
          <array>[int]</array>
          <defval>0</defval>
        </param>
        <briefdescription>
<para>Minimizes a given function using the provided optimizer, retries for better results, plots the outcomes, and saves the results. </para>
        </briefdescription>
        <detaileddescription>
<para>This function performs a smart optimization by leveraging retry strategies to achieve better outcomes. It evaluates the function over all inputs after optimization, generates convergence plots, and computes a Pareto front, saving the associated data and visuals.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>name</parametername>
</parameternamelist>
<parameterdescription>
<para>The base name for the output files generated during the optimization process. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>optimizer</parametername>
</parameternamelist>
<parameterdescription>
<para>The optimization algorithm to be used for minimizing the function. fun (Callable[[ArrayLike], float]): The objective function to minimize. It should accept an input array-like variable and return a float score. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>bounds</parametername>
</parameternamelist>
<parameterdescription>
<para>Bounds for the optimization process. Defines the variable limits for the optimization. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>value_limit</parametername>
</parameternamelist>
<parameterdescription>
<para>A threshold to terminate the optimization early when the function&apos;s value is below this limit. Default is infinity. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>num_retries</parametername>
</parameternamelist>
<parameterdescription>
<para>The number of retries for optimization to improve results when the process fails or is suboptimal. Default is 1024. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>statistic_num</parametername>
</parameternamelist>
<parameterdescription>
<para>A statistic counter for internal use during <programlisting><codeline><highlight class="normal">optimization<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>retries.<sp/>Default<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>0.</highlight></codeline>
</programlisting> </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/moretry.py" line="473" column="1" bodyfile="fcmaes/moretry.py" bodystart="479" bodyend="493"/>
        <references refid="namespacefcmaes_1_1moretry_1a76f8b50c1782e6def55706f648e3e819" compoundref="moretry_8py" startline="253" endline="259">fcmaes.moretry.pareto</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1moretry_1ac6f83723e5f5c51274e705d503b7133f" prot="protected" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.moretry._avg_exp</definition>
        <argsstring>(y, y_exp)</argsstring>
        <name>_avg_exp</name>
        <qualifiedname>fcmaes.moretry._avg_exp</qualifiedname>
        <param>
          <type>y</type>
          <defname>y</defname>
        </param>
        <param>
          <type>y_exp</type>
          <defname>y_exp</defname>
        </param>
        <briefdescription>
<para>Calculates the generalized mean (also known as the power mean) of a list of numbers. </para>
        </briefdescription>
        <detaileddescription>
<para>This function computes a weighted generalized mean of a list of numbers <computeroutput>y</computeroutput> using the specified exponent <computeroutput>y_exp</computeroutput>. The calculation involves summing the power of each element in the list to the given exponent and then applying the inverse of the same exponent to the resulting sum.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>y</parametername>
</parameternamelist>
<parameterdescription>
<para>List or iterable of numbers for which the generalized mean will be calculated. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>y_exp</parametername>
</parameternamelist>
<parameterdescription>
<para>Exponent parameter to control the type of mean (e.g., arithmetic, geometric).</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Weighted generalized mean computed from the input list based on the provided exponent. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/moretry.py" line="511" column="1" bodyfile="fcmaes/moretry.py" bodystart="511" bodyend="516"/>
        <referencedby refid="namespacefcmaes_1_1moretry_1a2015c92ea717d0ce4849a00282a56d96" compoundref="moretry_8py" startline="204" endline="230">fcmaes.moretry._retry_loop</referencedby>
        <referencedby refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a9f091a54dc6f2c2fefb4c6a90ab108a2" compoundref="moretry_8py" startline="327" endline="335">fcmaes.moretry.mo_wrapper.eval</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1moretry_1a6c5d049111477ebbf03ca1dbd174bbbd" prot="protected" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.moretry._pareto_values</definition>
        <argsstring>(ys)</argsstring>
        <name>_pareto_values</name>
        <qualifiedname>fcmaes.moretry._pareto_values</qualifiedname>
        <param>
          <type>ys</type>
          <defname>ys</defname>
        </param>
        <briefdescription>
<para>Determines the Pareto-optimal solutions from a given set of objective values. </para>
        </briefdescription>
        <detaileddescription>
<para>The function processes a given 2D array of objective values and identifies the Pareto-optimal points among them. Pareto-optimal solutions are those that cannot be dominated by any other solutions in all objectives.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ys</parametername>
</parameternamelist>
<parameterdescription>
<para>A 2D array where each row represents a solution, and each column corresponds to an objective.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para></para>
</simplesect>
<simplesect kind="return"><para>numpy A 2D array containing only the Pareto-optimal solutions from the input. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/moretry.py" line="534" column="1" bodyfile="fcmaes/moretry.py" bodystart="534" bodyend="544"/>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1moretry_1a56d8f2ec5777046d87dcd9a79c8168f9" prot="protected" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.moretry._pareto</definition>
        <argsstring>(ys)</argsstring>
        <name>_pareto</name>
        <qualifiedname>fcmaes.moretry._pareto</qualifiedname>
        <param>
          <type>ys</type>
          <defname>ys</defname>
        </param>
        <briefdescription>
<para>Identifies the Pareto-optimal points from the given set of points. </para>
        </briefdescription>
        <detaileddescription>
<para>Pareto-optimal points are those for which no other point dominates them. A point dominates another if it is less than or equal to the other point in all dimensions and strictly less in at least one dimension. This function removes dominated points from the dataset iteratively.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ys</parametername>
</parameternamelist>
<parameterdescription>
<para>A 2D array where each row represents a point in a multidimensional space, and each column corresponds to a dimension.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para></para>
</simplesect>
<simplesect kind="return"><para>np An array of indices representing the Pareto-optimal points in the provided dataset. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/moretry.py" line="563" column="1" bodyfile="fcmaes/moretry.py" bodystart="563" bodyend="574"/>
        <referencedby refid="namespacefcmaes_1_1moretry_1a76f8b50c1782e6def55706f648e3e819" compoundref="moretry_8py" startline="253" endline="259">fcmaes.moretry.pareto</referencedby>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>============================================================================= </para>
    </briefdescription>
    <detaileddescription>
<para>Fast version 1.6.11</para>
<para>(c) 2025 – Dietmar Wolz (c) 2025 – Latitude</para>
<para>License MIT</para>
<para><itemizedlist>
<listitem><para><ref refid="moretry_8py" kindref="compound">moretry.py</ref></para>
</listitem></itemizedlist>
</para>
<para><simplesect kind="par"><title>Description</title><para><itemizedlist>
<listitem><para>Parallel multi objective optimization retry using CMA-ES and differential evolution.</para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="author"><para>:<itemizedlist>
<listitem><para>Dietmar Wolz <programlisting><codeline><highlight class="normal">-<sp/>romain.despoullains</highlight><highlight class="preprocessor">@latitude.eu</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">-<sp/>corentin.generet</highlight><highlight class="preprocessor">@latitude.eu</highlight></codeline>
</programlisting></para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="par"><title>References</title><para><itemizedlist>
<listitem><para>[1] <ulink url="https://github.com/dietmarwo/fast-cma-es">https://github.com/dietmarwo/fast-cma-es</ulink></para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="par"><title>Documentation</title><para><itemizedlist>
<listitem><para><hruler/>
 </para>
</listitem></itemizedlist>
</para>
</simplesect>
</para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacefcmaes_1_1moretry" refkind="compound"><highlight class="comment">#<sp/>-*-<sp/>coding:<sp/>utf-8<sp/>-*-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="3"><highlight class="stringliteral">=============================================================================</highlight></codeline>
<codeline lineno="4"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="5"><highlight class="stringliteral"><sp/>Fast<sp/>CMA-ES<sp/>-<sp/>version<sp/>1.6.11</highlight></codeline>
<codeline lineno="6"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="7"><highlight class="stringliteral"><sp/>(c)<sp/>2025<sp/>–<sp/>Dietmar<sp/>Wolz</highlight></codeline>
<codeline lineno="8"><highlight class="stringliteral"><sp/>(c)<sp/>2025<sp/>–<sp/>Latitude</highlight></codeline>
<codeline lineno="9"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="10"><highlight class="stringliteral"><sp/>License:<sp/>MIT</highlight></codeline>
<codeline lineno="11"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="12"><highlight class="stringliteral"><sp/>File:</highlight></codeline>
<codeline lineno="13"><highlight class="stringliteral"><sp/><sp/>-<sp/>moretry.py</highlight></codeline>
<codeline lineno="14"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="15"><highlight class="stringliteral"><sp/>Description:</highlight></codeline>
<codeline lineno="16"><highlight class="stringliteral"><sp/><sp/>-<sp/>Parallel<sp/>multi<sp/>objective<sp/>optimization<sp/>retry<sp/>using<sp/>CMA-ES<sp/>and<sp/>differential<sp/>evolution.</highlight></codeline>
<codeline lineno="17"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="18"><highlight class="stringliteral"><sp/>Authors:</highlight></codeline>
<codeline lineno="19"><highlight class="stringliteral"><sp/><sp/>-<sp/>Dietmar<sp/>Wolz</highlight></codeline>
<codeline lineno="20"><highlight class="stringliteral"><sp/><sp/>-<sp/>romain.despoullains@latitude.eu</highlight></codeline>
<codeline lineno="21"><highlight class="stringliteral"><sp/><sp/>-<sp/>corentin.generet@latitude.eu</highlight></codeline>
<codeline lineno="22"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="23"><highlight class="stringliteral"><sp/>References:</highlight></codeline>
<codeline lineno="24"><highlight class="stringliteral"><sp/><sp/>-<sp/>[1]<sp/>https://github.com/dietmarwo/fast-cma-es</highlight></codeline>
<codeline lineno="25"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="26"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="27"><highlight class="stringliteral"><sp/>Documentation:</highlight></codeline>
<codeline lineno="28"><highlight class="stringliteral"><sp/><sp/>-</highlight></codeline>
<codeline lineno="29"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="30"><highlight class="stringliteral">=============================================================================</highlight></codeline>
<codeline lineno="31"><highlight class="stringliteral">&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>numpy<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>np</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>math,<sp/>sys,<sp/>time,<sp/>warnings,<sp/>threadpoolctl</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>multiprocessing<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>mp</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>multiprocessing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Process</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>scipy.optimize<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Bounds</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>numpy.random<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Generator,<sp/>PCG64DXSM,<sp/>SeedSequence</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1optimizer" kindref="compound">fcmaes.optimizer</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>de_cma,<sp/>dtime,<sp/>Optimizer</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>fcmaes<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>retry,<sp/>advretry</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>loguru<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>logger</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Optional,<sp/>Callable,<sp/>Tuple</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>numpy.typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ArrayLike</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1moretry_1aba66691a21a53975863acf44cac52eda" kindref="member">minimize</ref>(fun:<sp/>Callable[[ArrayLike],<sp/>float],</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds:<sp/>Bounds,</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weight_bounds:<sp/>Bounds,</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon:<sp/>Optional[int]<sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value_exp:<sp/>Optional[float]<sp/>=<sp/>2.0,</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value_limits:<sp/>Optional[ArrayLike]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_retries:<sp/>Optional[int]<sp/>=<sp/>1024,</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers:<sp/>Optional[int]<sp/>=<sp/>mp.cpu_count(),</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize:<sp/>Optional[int]<sp/>=<sp/>31,<sp/></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations:<sp/>Optional[int]<sp/>=<sp/>50000,<sp/></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>capacity:<sp/>Optional[int]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimizer:<sp/>Optional[Optimizer]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>statistic_num:<sp/>Optional[int]<sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plot_name:<sp/>Optional[str]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>Tuple[np.ndarray,<sp/>np.ndarray]:<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Minimization<sp/>of<sp/>a<sp/>multi<sp/>objective<sp/>function<sp/>of<sp/>one<sp/>or<sp/>more<sp/>variables<sp/>using<sp/>parallel<sp/></highlight></codeline>
<codeline lineno="62"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/>optimization<sp/>retry.</highlight></codeline>
<codeline lineno="63"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="64"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Parameters</highlight></codeline>
<codeline lineno="65"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>----------</highlight></codeline>
<codeline lineno="66"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>fun<sp/>:<sp/>callable</highlight></codeline>
<codeline lineno="67"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>objective<sp/>function<sp/>to<sp/>be<sp/>minimized.</highlight></codeline>
<codeline lineno="68"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>``fun(x)<sp/>-&gt;<sp/>float``</highlight></codeline>
<codeline lineno="69"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>where<sp/>``x``<sp/>is<sp/>an<sp/>1-D<sp/>array<sp/>with<sp/>shape<sp/>(n,)</highlight></codeline>
<codeline lineno="70"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>bounds<sp/>:<sp/>sequence<sp/>or<sp/>`Bounds`,<sp/>optional</highlight></codeline>
<codeline lineno="71"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Bounds<sp/>on<sp/>variables.<sp/>There<sp/>are<sp/>two<sp/>ways<sp/>to<sp/>specify<sp/>the<sp/>bounds:</highlight></codeline>
<codeline lineno="72"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1.<sp/>Instance<sp/>of<sp/>the<sp/>`scipy.Bounds`<sp/>class.</highlight></codeline>
<codeline lineno="73"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>2.<sp/>Sequence<sp/>of<sp/>``(min,<sp/>max)``<sp/>pairs<sp/>for<sp/>each<sp/>element<sp/>in<sp/>`x`.<sp/>None</highlight></codeline>
<codeline lineno="74"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is<sp/>used<sp/>to<sp/>specify<sp/>no<sp/>bound.</highlight></codeline>
<codeline lineno="75"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>weight_bounds<sp/>:<sp/>`Bounds`,<sp/>optional</highlight></codeline>
<codeline lineno="76"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Bounds<sp/>on<sp/>objective<sp/>weights.</highlight></codeline>
<codeline lineno="77"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>ncon<sp/>:<sp/>int,<sp/>optional</highlight></codeline>
<codeline lineno="78"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>number<sp/>of<sp/>constraints</highlight></codeline>
<codeline lineno="79"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>value_exp<sp/>:<sp/>float,<sp/>optional</highlight></codeline>
<codeline lineno="80"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exponent<sp/>applied<sp/>to<sp/>the<sp/>objective<sp/>values<sp/>for<sp/>the<sp/>weighted<sp/>sum.<sp/></highlight></codeline>
<codeline lineno="81"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>value_limits<sp/>:<sp/>sequence<sp/>of<sp/>floats,<sp/>optional</highlight></codeline>
<codeline lineno="82"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Upper<sp/>limit<sp/>for<sp/>optimized<sp/>objective<sp/>values<sp/>to<sp/>be<sp/>stored.<sp/></highlight></codeline>
<codeline lineno="83"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>num_retries<sp/>:<sp/>int,<sp/>optional</highlight></codeline>
<codeline lineno="84"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Number<sp/>of<sp/>optimization<sp/>retries.<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="85"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>workers<sp/>:<sp/>int,<sp/>optional</highlight></codeline>
<codeline lineno="86"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>number<sp/>of<sp/>parallel<sp/>processes<sp/>used.<sp/>Default<sp/>is<sp/>mp.cpu_count()</highlight></codeline>
<codeline lineno="87"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>int,<sp/>optional</highlight></codeline>
<codeline lineno="88"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CMA-ES<sp/>population<sp/>size<sp/>used<sp/>for<sp/>all<sp/>CMA-ES<sp/>runs.<sp/></highlight></codeline>
<codeline lineno="89"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Not<sp/>used<sp/>for<sp/>differential<sp/>evolution.<sp/></highlight></codeline>
<codeline lineno="90"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Ignored<sp/>if<sp/>parameter<sp/>optimizer<sp/>is<sp/>defined.<sp/></highlight></codeline>
<codeline lineno="91"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>max_evaluations<sp/>:<sp/>int,<sp/>optional</highlight></codeline>
<codeline lineno="92"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Forced<sp/>termination<sp/>of<sp/>all<sp/>optimization<sp/>runs<sp/>after<sp/>``max_evaluations``<sp/></highlight></codeline>
<codeline lineno="93"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>function<sp/>evaluations.<sp/>Only<sp/>used<sp/>if<sp/>optimizer<sp/>is<sp/>undefined,<sp/>otherwise</highlight></codeline>
<codeline lineno="94" refid="namespacefcmaes_1_1moretry_1aba66691a21a53975863acf44cac52eda" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this<sp/>setting<sp/>is<sp/>defined<sp/>in<sp/>the<sp/>optimizer.<sp/></highlight></codeline>
<codeline lineno="95"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>capacity<sp/>:<sp/>int,<sp/>optional</highlight></codeline>
<codeline lineno="96"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>capacity<sp/>of<sp/>the<sp/>evaluation<sp/>store.</highlight></codeline>
<codeline lineno="97"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>optimizer<sp/>:<sp/>optimizer.Optimizer,<sp/>optional</highlight></codeline>
<codeline lineno="98"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimizer<sp/>to<sp/>use.<sp/>Default<sp/>is<sp/>a<sp/>sequence<sp/>of<sp/>differential<sp/>evolution<sp/>and<sp/>CMA-ES.</highlight></codeline>
<codeline lineno="99"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>plot_name<sp/>:<sp/>plot_name,<sp/>optional</highlight></codeline>
<codeline lineno="100"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>defined<sp/>the<sp/>pareto<sp/>front<sp/>is<sp/>plotted<sp/>during<sp/>the<sp/>optimization<sp/>to<sp/>monitor<sp/>progress</highlight></codeline>
<codeline lineno="101"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="102"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns</highlight></codeline>
<codeline lineno="103"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-------</highlight></codeline>
<codeline lineno="104"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>xs,<sp/>ys:<sp/>list<sp/>of<sp/>argument<sp/>vectors<sp/>and<sp/>corresponding<sp/>value<sp/>vectors<sp/>of<sp/>the<sp/>optimization<sp/>results.<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>optimizer<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimizer<sp/>=<sp/>de_cma(max_evaluations,<sp/>popsize)<sp/><sp/></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>capacity<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:<sp/></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>capacity<sp/>=<sp/>num_retries</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>store<sp/>=<sp/><ref refid="classfcmaes_1_1retry_1_1_store" kindref="compound">retry.Store</ref>(fun,<sp/>bounds,<sp/>capacity<sp/>=<sp/>capacity,<sp/></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>statistic_num<sp/>=<sp/>statistic_num)</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>store.plot_name<sp/>=<sp/>plot_name</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>xs<sp/>=<sp/>np.array(<ref refid="namespacefcmaes_1_1moretry_1a795e0edbefdcbbf2bc2b0446d59d5903" kindref="member">mo_retry</ref>(fun,<sp/>weight_bounds,<sp/>ncon,<sp/>value_exp,<sp/></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store,<sp/>optimizer.minimize,<sp/>num_retries,<sp/>value_limits,<sp/>workers))</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>np.array([fun(x)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>xs])</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>xs,<sp/>ys</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1moretry_1a795e0edbefdcbbf2bc2b0446d59d5903" kindref="member">mo_retry</ref>(fun:<sp/>Callable[[ArrayLike],<sp/>float],<sp/></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weight_bounds:<sp/>Bounds,<sp/></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon:<sp/>int,<sp/></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y_exp:<sp/>float,<sp/></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store,<sp/></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimize:<sp/>Callable,<sp/></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_retries:<sp/>int,<sp/></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value_limits:<sp/>ArrayLike,<sp/></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers:<sp/>Optional[int]<sp/>=<sp/>mp.cpu_count()):</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="128"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Executes<sp/>a<sp/>multi-objective<sp/>optimization<sp/>with<sp/>retry<sp/>functionality<sp/>by<sp/>distributing<sp/>work<sp/>across</highlight></codeline>
<codeline lineno="129"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>multiple<sp/>processes.</highlight></codeline>
<codeline lineno="130"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="131"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>performs<sp/>optimization<sp/>by<sp/>spawning<sp/>multiple<sp/>processes,<sp/>each<sp/>executing<sp/>a<sp/>retry</highlight></codeline>
<codeline lineno="132"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>loop<sp/>targeting<sp/>a<sp/>specific<sp/>optimizer<sp/>and<sp/>constraints.<sp/>The<sp/>retries<sp/>ensure<sp/>robustness<sp/>against</highlight></codeline>
<codeline lineno="133"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>failures<sp/>or<sp/>subpar<sp/>outcomes<sp/>in<sp/>individual<sp/>optimization<sp/>attempts<sp/>across<sp/>the<sp/>workers.</highlight></codeline>
<codeline lineno="134"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="135"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="136"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun<sp/>(Callable[[ArrayLike],<sp/>float]):<sp/>The<sp/>objective<sp/>function<sp/>to<sp/>optimize.<sp/>It<sp/>must<sp/>accept</highlight></codeline>
<codeline lineno="137"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>an<sp/>input<sp/>vector<sp/>and<sp/>return<sp/>a<sp/>scalar<sp/>cost<sp/>or<sp/>objective<sp/>value.</highlight></codeline>
<codeline lineno="138"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weight_bounds<sp/>(Bounds):<sp/>Bounds<sp/>for<sp/>the<sp/>weights,<sp/>defining<sp/>constraints<sp/>on<sp/>the<sp/>optimization</highlight></codeline>
<codeline lineno="139"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>variables.</highlight></codeline>
<codeline lineno="140"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon<sp/>(int):<sp/>Number<sp/>of<sp/>constraints<sp/>to<sp/>enforce<sp/>during<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="141"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y_exp<sp/>(float):<sp/>The<sp/>expected<sp/>value<sp/>used<sp/>as<sp/>a<sp/>threshold<sp/>or<sp/>benchmark<sp/>for<sp/>optimization<sp/>outcomes.</highlight></codeline>
<codeline lineno="142"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store:<sp/>An<sp/>object<sp/>for<sp/>storing<sp/>and<sp/>managing<sp/>results<sp/>during<sp/>optimization.<sp/>Must<sp/>support<sp/>`sort`</highlight></codeline>
<codeline lineno="143"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>`dump`<sp/>methods,<sp/>among<sp/>others.</highlight></codeline>
<codeline lineno="144"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimize<sp/>(Callable):<sp/>Optimization<sp/>function<sp/>or<sp/>solver<sp/>to<sp/>be<sp/>used<sp/>within<sp/>the<sp/>retry<sp/>loop.<sp/>It</highlight></codeline>
<codeline lineno="145"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>must<sp/>be<sp/>callable<sp/>and<sp/>compatible<sp/>with<sp/>the<sp/>function<sp/>and<sp/>constraints<sp/>provided.</highlight></codeline>
<codeline lineno="146"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_retries<sp/>(int):<sp/>The<sp/>number<sp/>of<sp/>retries<sp/>per<sp/>process,<sp/>ensuring<sp/>multiple<sp/>attempts<sp/>for<sp/>robust</highlight></codeline>
<codeline lineno="147"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimization<sp/>results.</highlight></codeline>
<codeline lineno="148"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value_limits<sp/>(ArrayLike):<sp/>Array-like<sp/>structure<sp/>specifying<sp/>the<sp/>acceptable<sp/>limits<sp/>for<sp/>values</highlight></codeline>
<codeline lineno="149"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>during<sp/>optimization.</highlight></codeline>
<codeline lineno="150"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers<sp/>(Optional[int]):<sp/>Number<sp/>of<sp/>processes<sp/>to<sp/>spawn<sp/>for<sp/>parallel<sp/>optimization.<sp/>Defaults</highlight></codeline>
<codeline lineno="151"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to<sp/>the<sp/>total<sp/>available<sp/>CPU<sp/>count.</highlight></codeline>
<codeline lineno="152" refid="namespacefcmaes_1_1moretry_1a795e0edbefdcbbf2bc2b0446d59d5903" refkind="member"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="153"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="154"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs_view:<sp/>A<sp/>view<sp/>or<sp/>representation<sp/>of<sp/>the<sp/>sorted<sp/>results<sp/>stored<sp/>in<sp/>the<sp/>`store`<sp/>after<sp/>the</highlight></codeline>
<codeline lineno="155"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimization<sp/>process<sp/>is<sp/>complete.</highlight></codeline>
<codeline lineno="156"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>sg<sp/>=<sp/>SeedSequence()</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>rgs<sp/>=<sp/>[Generator(PCG64DXSM(s))<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>sg.spawn(workers)]</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/>proc=[Process(target=_retry_loop,</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args=(pid,<sp/>rgs,<sp/>fun,<sp/>weight_bounds,<sp/>ncon,<sp/>y_exp,<sp/></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store,<sp/>optimize,<sp/>num_retries,<sp/>value_limits))<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>pid<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(workers)]</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>[p.start()<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>proc]</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/>[p.join()<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>proc]</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/>store.sort()</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/>store.dump()</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>store.xs_view</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1moretry_1a2015c92ea717d0ce4849a00282a56d96" kindref="member">_retry_loop</ref>(pid,<sp/>rgs,<sp/>fun,<sp/>weight_bounds,<sp/>ncon,<sp/>y_exp,<sp/></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store,<sp/>optimize,<sp/>num_retries,<sp/>value_limits):</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="171"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Executes<sp/>a<sp/>retry<sp/>loop<sp/>strategy<sp/>for<sp/>multi-objective<sp/>optimization.<sp/>This</highlight></codeline>
<codeline lineno="172"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>process<sp/>includes<sp/>generating<sp/>random<sp/>weights,<sp/>scaling<sp/>them<sp/>to<sp/>match</highlight></codeline>
<codeline lineno="173"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>constraints,<sp/>optimizing<sp/>the<sp/>given<sp/>function,<sp/>and<sp/>storing<sp/>the<sp/>results</highlight></codeline>
<codeline lineno="174"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>if<sp/>they<sp/>meet<sp/>specific<sp/>criteria.<sp/>Additionally,<sp/>it<sp/>may<sp/>generate<sp/>and</highlight></codeline>
<codeline lineno="175"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>save<sp/>plots<sp/>of<sp/>results<sp/>for<sp/>visualization.</highlight></codeline>
<codeline lineno="176"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="177"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="178"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pid<sp/>(int):<sp/>Process<sp/>ID<sp/>to<sp/>identify<sp/>and<sp/>manage<sp/>the<sp/>random<sp/>state</highlight></codeline>
<codeline lineno="179"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>specific<sp/>to<sp/>the<sp/>process.</highlight></codeline>
<codeline lineno="180"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rgs<sp/>(List[np.random.Generator]):<sp/>List<sp/>of<sp/>random<sp/>number<sp/>generators</highlight></codeline>
<codeline lineno="181"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associated<sp/>with<sp/>each<sp/>process.</highlight></codeline>
<codeline lineno="182"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun<sp/>(Callable):<sp/>The<sp/>function<sp/>to<sp/>be<sp/>optimized<sp/>in<sp/>the<sp/>retry<sp/>loop.</highlight></codeline>
<codeline lineno="183"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weight_bounds<sp/>(Bounds):<sp/>The<sp/>lower<sp/>and<sp/>upper<sp/>bounds<sp/>for<sp/>the<sp/>weights</highlight></codeline>
<codeline lineno="184"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>used<sp/>for<sp/>scaling<sp/>in<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="185"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon<sp/>(int):<sp/>The<sp/>number<sp/>of<sp/>constraints<sp/>to<sp/>account<sp/>for<sp/>during</highlight></codeline>
<codeline lineno="186"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="187"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y_exp<sp/>(float):<sp/>Exponent<sp/>used<sp/>to<sp/>adjust<sp/>the<sp/>scaling<sp/>of<sp/>weights</highlight></codeline>
<codeline lineno="188"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="189"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store<sp/>(Store):<sp/>Instance<sp/>of<sp/>a<sp/>class<sp/>responsible<sp/>for<sp/>managing</highlight></codeline>
<codeline lineno="190"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimization<sp/>results<sp/>and<sp/>storing<sp/>data.</highlight></codeline>
<codeline lineno="191"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimize<sp/>(Callable):<sp/>Optimization<sp/>function<sp/>that<sp/>evaluates</highlight></codeline>
<codeline lineno="192"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>objective<sp/>or<sp/>constraints<sp/>based<sp/>on<sp/>inputs.</highlight></codeline>
<codeline lineno="193"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_retries<sp/>(int):<sp/>The<sp/>number<sp/>of<sp/>retries<sp/>allowed<sp/>for<sp/>achieving</highlight></codeline>
<codeline lineno="194"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a<sp/>successful<sp/>optimization<sp/>result.</highlight></codeline>
<codeline lineno="195"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value_limits<sp/>(Optional[List[float]]):<sp/>Optional<sp/>limits</highlight></codeline>
<codeline lineno="196"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>enforced<sp/>on<sp/>the<sp/>objective<sp/>values<sp/>from<sp/>the<sp/>optimization<sp/>results.</highlight></codeline>
<codeline lineno="197"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>If<sp/>None,<sp/>no<sp/>objective<sp/>value<sp/>constraints<sp/>are<sp/>applied.</highlight></codeline>
<codeline lineno="198"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>store.create_xs_view()</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>lower<sp/>=<sp/>store.lower</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>wlb<sp/>=<sp/>np.array(weight_bounds.lb)</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>wub<sp/>=<sp/>np.array(weight_bounds.ub)</highlight></codeline>
<codeline lineno="203" refid="namespacefcmaes_1_1moretry_1a2015c92ea717d0ce4849a00282a56d96" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>threadpoolctl.threadpool_limits(limits=1,<sp/>user_api=</highlight><highlight class="stringliteral">&quot;blas&quot;</highlight><highlight class="normal">):<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>store.get_runs_compare_incr(num_retries):<sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rg<sp/>=<sp/>rgs[pid]</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w<sp/>=<sp/>rg.uniform(size=len(wub))<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w<sp/>/=<sp/><ref refid="namespacefcmaes_1_1moretry_1ac6f83723e5f5c51274e705d503b7133f" kindref="member">_avg_exp</ref>(w,<sp/>y_exp)<sp/></highlight><highlight class="comment">#<sp/>correct<sp/>scaling</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w<sp/>=<sp/>wlb<sp/>+<sp/>w<sp/>*<sp/>(wub<sp/>-<sp/>wlb)</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1moretry_1_1mo__wrapper" kindref="compound">mo_wrapper</ref>(fun,<sp/>w,<sp/>ncon,<sp/>y_exp)<sp/><sp/></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x,<sp/>y,<sp/>evals<sp/>=<sp/>optimize(wrapper.eval,<sp/>Bounds(store.lower,<sp/>store.upper),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[rg.uniform(0.05,<sp/>0.1)]*len(lower),<sp/>rg,<sp/>store)</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>objs<sp/>=<sp/>wrapper.mo_eval(x)<sp/></highlight><highlight class="comment">#<sp/>retrieve<sp/>the<sp/>objective<sp/>values</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>value_limits<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>all([objs[i]<sp/>&lt;<sp/>value_limits[i]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(w))]):</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store.add_result(y,<sp/>x,<sp/>evals,<sp/>np.inf)<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>store.plot_name<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>=<sp/>store.plot_name<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;_moretry_&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(store.get_count_evals())</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs<sp/>=<sp/>np.array(store.get_xs())</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>np.array([fun(x)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>xs])</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np.savez_compressed(name,<sp/>xs=xs,<sp/>ys=ys)<sp/></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacefcmaes_1_1moretry_1a47b95fe506257996c19d9189f3f005c5" kindref="member">plot</ref>(name,<sp/>ncon,<sp/>xs,<sp/>ys)</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Exception<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>ex:</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(str(ex))</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1moretry_1a76f8b50c1782e6def55706f648e3e819" kindref="member">pareto</ref>(xs:<sp/>np.ndarray,<sp/>ys:<sp/>np.ndarray):</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="227"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Filter<sp/>and<sp/>sort<sp/>elements<sp/>based<sp/>on<sp/>Pareto<sp/>efficiency.</highlight></codeline>
<codeline lineno="228"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="229"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>calculates<sp/>the<sp/>Pareto<sp/>front<sp/>for<sp/>the<sp/>provided<sp/>arrays,<sp/>`xs`</highlight></codeline>
<codeline lineno="230"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>`ys`.<sp/>The<sp/>Pareto<sp/>front<sp/>contains<sp/>elements<sp/>that<sp/>are<sp/>not<sp/>dominated</highlight></codeline>
<codeline lineno="231"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>by<sp/>any<sp/>other<sp/>element<sp/>in<sp/>the<sp/>dataset.<sp/>The<sp/>function<sp/>returns<sp/>the<sp/>filtered</highlight></codeline>
<codeline lineno="232"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>sorted<sp/>elements<sp/>that<sp/>belong<sp/>to<sp/>the<sp/>Pareto<sp/>front<sp/>sorted<sp/>by<sp/>the</highlight></codeline>
<codeline lineno="233"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>values<sp/>in<sp/>the<sp/>associated<sp/>`ys`<sp/>array.</highlight></codeline>
<codeline lineno="234"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="235"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="236"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs:<sp/>A<sp/>NumPy<sp/>array<sp/>representing<sp/>the<sp/>input<sp/>data<sp/>values.<sp/>The</highlight></codeline>
<codeline lineno="237"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>`xs`<sp/>array<sp/>contains<sp/>the<sp/>attributes<sp/>aligned<sp/>with<sp/>`ys`.</highlight></codeline>
<codeline lineno="238"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys:<sp/>A<sp/>NumPy<sp/>array<sp/>indicating<sp/>the<sp/>criteria<sp/>or<sp/>objectives<sp/>that</highlight></codeline>
<codeline lineno="239"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>Pareto<sp/>efficiency<sp/>is<sp/>calculated<sp/>upon.</highlight></codeline>
<codeline lineno="240"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="241"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="242"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A<sp/>tuple<sp/>containing<sp/>two<sp/>NumPy<sp/>arrays:</highlight></codeline>
<codeline lineno="243"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>A<sp/>filtered<sp/>and<sp/>sorted<sp/>array<sp/>of<sp/>elements<sp/>from<sp/>`xs`</highlight></codeline>
<codeline lineno="244"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>corresponding<sp/>to<sp/>the<sp/>Pareto<sp/>front.</highlight></codeline>
<codeline lineno="245"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>A<sp/>filtered<sp/>and<sp/>sorted<sp/>array<sp/>of<sp/>elements<sp/>from<sp/>`ys`</highlight></codeline>
<codeline lineno="246"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>corresponding<sp/>to<sp/>the<sp/>Pareto<sp/>front.</highlight></codeline>
<codeline lineno="247"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/>par<sp/>=<sp/><ref refid="namespacefcmaes_1_1moretry_1a56d8f2ec5777046d87dcd9a79c8168f9" kindref="member">_pareto</ref>(ys)</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>xp<sp/>=<sp/>xs[par]</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/>yp<sp/>=<sp/>ys[par]</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/>ya<sp/>=<sp/>np.argsort(yp.T[0])</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>xp[ya],<sp/>yp[ya]</highlight></codeline>
<codeline lineno="253" refid="namespacefcmaes_1_1moretry_1a76f8b50c1782e6def55706f648e3e819" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1moretry_1_1mo__wrapper" kindref="compound">mo_wrapper</ref>(object):</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="256"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Wraps<sp/>a<sp/>multi-objective<sp/>evaluation<sp/>function<sp/>with<sp/>additional<sp/>functionality.</highlight></codeline>
<codeline lineno="257"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="258"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>class<sp/>encapsulates<sp/>a<sp/>multi-objective<sp/>evaluation<sp/>function,<sp/>integrating</highlight></codeline>
<codeline lineno="259"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>weights<sp/>for<sp/>objectives<sp/>and<sp/>constraints,<sp/>and<sp/>provides<sp/>methods<sp/>to<sp/>evaluate<sp/>the</highlight></codeline>
<codeline lineno="260"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>function<sp/>with<sp/>weight-driven<sp/>adjustments<sp/>and<sp/>constraints<sp/>handling.<sp/>It<sp/>is</highlight></codeline>
<codeline lineno="261"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>intended<sp/>for<sp/>use<sp/>in<sp/>scenarios<sp/>requiring<sp/>objective<sp/>evaluations<sp/>with<sp/>flexible</highlight></codeline>
<codeline lineno="262"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>weighting<sp/>and<sp/>constraint<sp/>violations.</highlight></codeline>
<codeline lineno="263"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="264"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Attributes:</highlight></codeline>
<codeline lineno="265"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun<sp/>(Callable):<sp/>The<sp/>multi-objective<sp/>evaluation<sp/>function<sp/>to<sp/>be<sp/>wrapped<sp/>and</highlight></codeline>
<codeline lineno="266"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>processed.</highlight></codeline>
<codeline lineno="267"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weights<sp/>(list[float]):<sp/>List<sp/>of<sp/>weights,<sp/>where<sp/>the<sp/>first<sp/>set<sp/>applies<sp/>to</highlight></codeline>
<codeline lineno="268"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>objectives,<sp/>and<sp/>the<sp/>remainder<sp/>applies<sp/>to<sp/>constraints.</highlight></codeline>
<codeline lineno="269"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ny<sp/>(int):<sp/>Total<sp/>number<sp/>of<sp/>weights,<sp/>corresponding<sp/>to<sp/>the<sp/>number<sp/>of</highlight></codeline>
<codeline lineno="270"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>objectives<sp/>and<sp/>constraints<sp/>combined.</highlight></codeline>
<codeline lineno="271" refid="classfcmaes_1_1moretry_1_1mo__wrapper" refkind="compound"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj<sp/>(int):<sp/>The<sp/>number<sp/>of<sp/>objective<sp/>components<sp/>in<sp/>the<sp/>evaluation.</highlight></codeline>
<codeline lineno="272"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon<sp/>(int):<sp/>The<sp/>number<sp/>of<sp/>constraint<sp/>components<sp/>in<sp/>the<sp/>evaluation.</highlight></codeline>
<codeline lineno="273"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y_exp<sp/>(int):<sp/>The<sp/>exponential<sp/>factor<sp/>for<sp/>averaging<sp/>the<sp/>weighted<sp/>evaluation</highlight></codeline>
<codeline lineno="274"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>results.</highlight></codeline>
<codeline lineno="275"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a38adbadd49e6b9145e3c04944c3269b6" kindref="member">__init__</ref>(self,<sp/>fun,<sp/>weights,<sp/>ncon,<sp/>y_exp=2):</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="279"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Initializes<sp/>an<sp/>object<sp/>with<sp/>specified<sp/>function,<sp/>weights,<sp/>constraints,<sp/>and<sp/>an<sp/>optional<sp/>exponent<sp/>parameter.</highlight></codeline>
<codeline lineno="280"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="281"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="282"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun:<sp/>Callable.<sp/>The<sp/>function<sp/>to<sp/>be<sp/>evaluated.</highlight></codeline>
<codeline lineno="283"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weights:<sp/>List[float].<sp/>The<sp/>weights<sp/>associated<sp/>with<sp/>the<sp/>objectives.</highlight></codeline>
<codeline lineno="284"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon:<sp/>int.<sp/>The<sp/>number<sp/>of<sp/>constraints.</highlight></codeline>
<codeline lineno="285"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y_exp:<sp/>int,<sp/>optional.<sp/>The<sp/>exponent<sp/>for<sp/>the<sp/>calculations,<sp/>default<sp/>is<sp/>2.</highlight></codeline>
<codeline lineno="286"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a28cf58191f93203c9fea6eeddb561b73" kindref="member">fun</ref><sp/>=<sp/>fun</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a9e4376ef1f3111acff67bd2636e87369" kindref="member">weights</ref><sp/>=<sp/>weights<sp/></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a49583ed387d697b327640f4e537f8e19" kindref="member">ny</ref><sp/>=<sp/>len(weights)</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a56aa5cba0d3f3415eb314363a1d0b649" kindref="member">nobj</ref><sp/>=<sp/>self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a49583ed387d697b327640f4e537f8e19" kindref="member">ny</ref><sp/>-<sp/>ncon</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a415eabee422272fc9ae0f0d91374af55" kindref="member">ncon</ref><sp/>=<sp/>ncon</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a0ed665adf5fc723417110f0ca3fbe297" kindref="member">y_exp</ref><sp/>=<sp/>y_exp</highlight></codeline>
<codeline lineno="293"><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a9f091a54dc6f2c2fefb4c6a90ab108a2" kindref="member">eval</ref>(self,<sp/>x):</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="296"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Evaluates<sp/>the<sp/>provided<sp/>function<sp/>and<sp/>computes<sp/>a<sp/>weighted<sp/>result.<sp/>If<sp/>there<sp/>are</highlight></codeline>
<codeline lineno="297"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>violations<sp/>in<sp/>the<sp/>constraints,<sp/>their<sp/>contribution<sp/>to<sp/>the<sp/>result<sp/>is<sp/>added.</highlight></codeline>
<codeline lineno="298"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="299"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="300"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x:<sp/>Array-like,<sp/>input<sp/>to<sp/>the<sp/>function<sp/>to<sp/>be<sp/>evaluated.</highlight></codeline>
<codeline lineno="301"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="302"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="303"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>float:<sp/>Weighted<sp/>result<sp/>of<sp/>the<sp/>evaluation<sp/>including<sp/>contributions<sp/>from</highlight></codeline>
<codeline lineno="304"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>constraints,<sp/>if<sp/>any.</highlight></codeline>
<codeline lineno="305"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>=<sp/>self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a28cf58191f93203c9fea6eeddb561b73" kindref="member">fun</ref>(np.array(x))</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weighted<sp/>=<sp/><ref refid="namespacefcmaes_1_1moretry_1ac6f83723e5f5c51274e705d503b7133f" kindref="member">_avg_exp</ref>(self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a9e4376ef1f3111acff67bd2636e87369" kindref="member">weights</ref>*y,<sp/>self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a0ed665adf5fc723417110f0ca3fbe297" kindref="member">y_exp</ref>)</highlight></codeline>
<codeline lineno="308" refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a38adbadd49e6b9145e3c04944c3269b6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a415eabee422272fc9ae0f0d91374af55" kindref="member">ncon</ref><sp/>&gt;<sp/>0:<sp/></highlight><highlight class="comment">#<sp/>check<sp/>constraint<sp/>violations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309" refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a28cf58191f93203c9fea6eeddb561b73" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>violations<sp/>=<sp/>np.fromiter((i<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a56aa5cba0d3f3415eb314363a1d0b649" kindref="member">nobj</ref>,<sp/>self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a49583ed387d697b327640f4e537f8e19" kindref="member">ny</ref>)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>y[i]<sp/>&gt;<sp/>0),<sp/>dtype=int)</highlight></codeline>
<codeline lineno="310" refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a9e4376ef1f3111acff67bd2636e87369" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(violations)<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="311" refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a49583ed387d697b327640f4e537f8e19" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weighted<sp/>+=<sp/>sum(self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a9e4376ef1f3111acff67bd2636e87369" kindref="member">weights</ref>[violations])<sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="312" refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a56aa5cba0d3f3415eb314363a1d0b649" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>weighted</highlight></codeline>
<codeline lineno="313" refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a415eabee422272fc9ae0f0d91374af55" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="314" refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a0ed665adf5fc723417110f0ca3fbe297" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a9dbf1252c03ebe42925abe561e556598" kindref="member">mo_eval</ref>(self,<sp/>x):</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="316"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Evaluates<sp/>a<sp/>given<sp/>function<sp/>on<sp/>the<sp/>input<sp/>after<sp/>converting<sp/>it<sp/>to<sp/>a<sp/>NumPy<sp/>array.</highlight></codeline>
<codeline lineno="317"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="318"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="319"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x:<sp/>The<sp/>input<sp/>value<sp/>to<sp/>be<sp/>evaluated.<sp/>Should<sp/>be<sp/>compatible<sp/>with<sp/>NumPy<sp/>array</highlight></codeline>
<codeline lineno="320"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>operations.</highlight></codeline>
<codeline lineno="321"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="322"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="323"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>result<sp/>of<sp/>the<sp/>function<sp/>evaluation<sp/>after<sp/>processing<sp/>the<sp/>input.</highlight></codeline>
<codeline lineno="324"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a28cf58191f93203c9fea6eeddb561b73" kindref="member">fun</ref>(np.array(x))</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="327" refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a9f091a54dc6f2c2fefb4c6a90ab108a2" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1moretry_1a9afe8f9041254063275650e3dc56b77e" kindref="member">minimize_plot</ref>(name:<sp/>str,<sp/></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimizer:<sp/>Optimizer,<sp/></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun:<sp/>Callable[[ArrayLike],<sp/>float],<sp/></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds:<sp/>Bounds,<sp/></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weight_bounds,<sp/></highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon:<sp/>Optional[int]<sp/>=<sp/>0,<sp/></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value_limits:<sp/>Optional[ArrayLike]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_retries:<sp/>Optional[int]<sp/>=<sp/>1024,<sp/></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exp:<sp/>Optional[float]<sp/>=<sp/>2.0,<sp/></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers:<sp/>Optional[int]<sp/>=<sp/>mp.cpu_count(),</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>statistic_num<sp/>=<sp/>0,<sp/>plot_name<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="339"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Minimizes<sp/>a<sp/>given<sp/>function<sp/>using<sp/>a<sp/>specified<sp/>optimizer<sp/>and<sp/>plots<sp/>the<sp/>results.</highlight></codeline>
<codeline lineno="340"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="341"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>performs<sp/>optimization<sp/>on<sp/>a<sp/>target<sp/>function<sp/>within<sp/>the<sp/>specified</highlight></codeline>
<codeline lineno="342"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>bounds<sp/>and<sp/>additional<sp/>constraints.<sp/>The<sp/>results<sp/>of<sp/>the<sp/>optimization,<sp/>including</highlight></codeline>
<codeline lineno="343"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>inputs<sp/>and<sp/>outputs,<sp/>are<sp/>saved<sp/>to<sp/>a<sp/>compressed<sp/>file,<sp/>and<sp/>a<sp/>plot<sp/>is<sp/>generated</highlight></codeline>
<codeline lineno="344"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>to<sp/>visualize<sp/>the<sp/>optimization<sp/>results.</highlight></codeline>
<codeline lineno="345"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="346" refid="classfcmaes_1_1moretry_1_1mo__wrapper_1a9dbf1252c03ebe42925abe561e556598" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="347"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>(str):<sp/>The<sp/>base<sp/>name<sp/>for<sp/>the<sp/>output<sp/>files<sp/>and<sp/>plots.</highlight></codeline>
<codeline lineno="348"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimizer<sp/>(Optimizer):<sp/>The<sp/>optimization<sp/>algorithm<sp/>to<sp/>be<sp/>used.</highlight></codeline>
<codeline lineno="349"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun<sp/>(Callable[[ArrayLike],<sp/>float]):<sp/>The<sp/>target<sp/>function<sp/>to<sp/>minimize.</highlight></codeline>
<codeline lineno="350"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds<sp/>(Bounds):<sp/>The<sp/>bounds<sp/>within<sp/>which<sp/>the<sp/>optimization<sp/>is<sp/>performed.</highlight></codeline>
<codeline lineno="351"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weight_bounds:<sp/>Constraints<sp/>on<sp/>weight<sp/>values<sp/>for<sp/>optimization.</highlight></codeline>
<codeline lineno="352"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon<sp/>(Optional[int]):<sp/>The<sp/>number<sp/>of<sp/>constraints<sp/>in<sp/>optimization.<sp/>Defaults</highlight></codeline>
<codeline lineno="353"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to<sp/>0.</highlight></codeline>
<codeline lineno="354"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value_limits<sp/>(Optional[ArrayLike]):<sp/>Limits<sp/>for<sp/>input<sp/>values<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="355"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimization<sp/>process.<sp/>Defaults<sp/>to<sp/>None.</highlight></codeline>
<codeline lineno="356"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_retries<sp/>(Optional[int]):<sp/>Number<sp/>of<sp/>retries<sp/>for<sp/>optimization<sp/>in<sp/>case</highlight></codeline>
<codeline lineno="357"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>of<sp/>failure<sp/>or<sp/>randomness.<sp/>Defaults<sp/>to<sp/>1024.</highlight></codeline>
<codeline lineno="358"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exp<sp/>(Optional[float]):<sp/>Exponent<sp/>for<sp/>value<sp/>weighting<sp/>during<sp/>optimization.</highlight></codeline>
<codeline lineno="359"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Defaults<sp/>to<sp/>2.0.</highlight></codeline>
<codeline lineno="360"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers<sp/>(Optional[int]):<sp/>Number<sp/>of<sp/>parallel<sp/>workers<sp/>used<sp/>during</highlight></codeline>
<codeline lineno="361"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimization.<sp/>Defaults<sp/>to<sp/>the<sp/>number<sp/>of<sp/>CPU<sp/>cores<sp/>available.</highlight></codeline>
<codeline lineno="362"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>statistic_num:<sp/>Statistical<sp/>parameter<sp/>to<sp/>control<sp/>optimization<sp/>behavior.</highlight></codeline>
<codeline lineno="363"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plot_name:<sp/>Custom<sp/>name<sp/>for<sp/>the<sp/>output<sp/>plot.</highlight></codeline>
<codeline lineno="364"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="365"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/>time0<sp/>=<sp/>time.perf_counter()<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>start<sp/>time</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/>name<sp/>+=<sp/></highlight><highlight class="stringliteral">&apos;_&apos;</highlight><highlight class="normal"><sp/>+<sp/>optimizer.name</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/>logger.info(</highlight><highlight class="stringliteral">&apos;optimize<sp/>&apos;</highlight><highlight class="normal"><sp/>+<sp/>name)<sp/></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/>xs,<sp/>ys<sp/>=<sp/><ref refid="namespacefcmaes_1_1moretry_1aba66691a21a53975863acf44cac52eda" kindref="member">minimize</ref>(fun,<sp/>bounds,<sp/>weight_bounds,<sp/>ncon,</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value_exp<sp/>=<sp/>exp,</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value_limits<sp/>=<sp/>value_limits,</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_retries<sp/>=<sp/>num_retries,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimizer<sp/>=<sp/>optimizer,</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers<sp/>=<sp/>workers,</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>statistic_num<sp/>=<sp/>statistic_num,<sp/>plot_name<sp/>=<sp/>plot_name)</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/>logger.info(name<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;<sp/>time<sp/>&apos;</highlight><highlight class="normal"><sp/>+<sp/>str(dtime(time0)))<sp/></highlight></codeline>
<codeline lineno="377" refid="namespacefcmaes_1_1moretry_1a9afe8f9041254063275650e3dc56b77e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>np.savez_compressed(name,<sp/>xs=xs,<sp/>ys=ys)<sp/></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacefcmaes_1_1moretry_1a47b95fe506257996c19d9189f3f005c5" kindref="member">plot</ref>(name,<sp/>ncon,<sp/>xs,<sp/>ys)</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1moretry_1a47b95fe506257996c19d9189f3f005c5" kindref="member">plot</ref>(name,<sp/>ncon,<sp/>xs,<sp/>ys,<sp/>eps<sp/>=<sp/>1E-2,<sp/>all=True,<sp/>interp=False,<sp/>plot3d=False):</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="382"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Plots<sp/>the<sp/>feasible<sp/>solution<sp/>space<sp/>and<sp/>Pareto<sp/>front<sp/>for<sp/>a<sp/>given<sp/>set<sp/>of<sp/>data<sp/>points.</highlight></codeline>
<codeline lineno="383"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="384"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>processes<sp/>data<sp/>points<sp/>and<sp/>constraints<sp/>to<sp/>determine<sp/>the<sp/>feasible</highlight></codeline>
<codeline lineno="385"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>region<sp/>and<sp/>subsequently<sp/>calculates<sp/>the<sp/>Pareto-optimal<sp/>front.<sp/>It<sp/>can<sp/>also</highlight></codeline>
<codeline lineno="386"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>generate<sp/>visualizations<sp/>of<sp/>all<sp/>solutions<sp/>and<sp/>the<sp/>Pareto<sp/>front<sp/>if<sp/>required.</highlight></codeline>
<codeline lineno="387"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="388"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="389"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>(str):<sp/>The<sp/>name<sp/>for<sp/>the<sp/>visualization<sp/>files.</highlight></codeline>
<codeline lineno="390"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon<sp/>(int):<sp/>The<sp/>number<sp/>of<sp/>constraint<sp/>functions.</highlight></codeline>
<codeline lineno="391"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs<sp/>(array-like):<sp/>A<sp/>collection<sp/>of<sp/>decision<sp/>variable<sp/>values.</highlight></codeline>
<codeline lineno="392"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>(array-like):<sp/>A<sp/>collection<sp/>of<sp/>corresponding<sp/>objective<sp/>function<sp/>values.</highlight></codeline>
<codeline lineno="393"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eps<sp/>(float):<sp/>Tolerance<sp/>value<sp/>for<sp/>feasibility<sp/>conditions.<sp/>Default<sp/>is<sp/>1E-2.</highlight></codeline>
<codeline lineno="394"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all<sp/>(bool):<sp/>Flag<sp/>to<sp/>indicate<sp/>if<sp/>plotting<sp/>all<sp/>solutions<sp/>is<sp/>required.</highlight></codeline>
<codeline lineno="395"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Default<sp/>is<sp/>True.</highlight></codeline>
<codeline lineno="396"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>interp<sp/>(bool):<sp/>Flag<sp/>to<sp/>determine<sp/>if<sp/>interpolation<sp/>is<sp/>applied<sp/>to<sp/>the</highlight></codeline>
<codeline lineno="397"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Pareto<sp/>front<sp/>plot.<sp/>Default<sp/>is<sp/>False.</highlight></codeline>
<codeline lineno="398"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plot3d<sp/>(bool):<sp/>Flag<sp/>indicating<sp/>whether<sp/>to<sp/>create<sp/>a<sp/>3D<sp/>Pareto<sp/>front<sp/>plot.</highlight></codeline>
<codeline lineno="399"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Default<sp/>is<sp/>False.</highlight></codeline>
<codeline lineno="400"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="401"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="402"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Exception:<sp/>If<sp/>an<sp/>error<sp/>occurs<sp/>during<sp/>computation<sp/>or<sp/>plotting.</highlight></codeline>
<codeline lineno="403"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:<sp/><sp/></highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ncon<sp/>&gt;<sp/>0:<sp/></highlight><highlight class="comment">#<sp/>select<sp/>feasible</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ycon<sp/>=<sp/>np.array([np.maximum(y[-ncon:],<sp/>0)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>y<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ys])<sp/><sp/></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>con<sp/>=<sp/>np.sum(ycon,<sp/>axis=1)</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj<sp/>=<sp/>len(ys[0])<sp/>-<sp/>ncon</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>feasible<sp/>=<sp/>np.fromiter((i<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(ys))<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>con[i]<sp/>&lt;<sp/>eps),<sp/>dtype=int)</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(feasible)<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs,<sp/>ys<sp/>=<sp/>xs[feasible],<sp/>np.array([y[:nobj]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>y<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ys[feasible]])</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(</highlight><highlight class="stringliteral">&quot;no<sp/>feasible&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>all:</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retry.plot(ys,<sp/></highlight><highlight class="stringliteral">&apos;all_&apos;</highlight><highlight class="normal"><sp/>+<sp/>name<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;.png&apos;</highlight><highlight class="normal">,<sp/>interp=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs,<sp/>ys<sp/>=<sp/><ref refid="namespacefcmaes_1_1moretry_1a76f8b50c1782e6def55706f648e3e819" kindref="member">pareto</ref>(xs,<sp/>ys)</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x,<sp/>y<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>zip(xs,<sp/>ys):</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(str(list(y))<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;<sp/>&apos;</highlight><highlight class="normal"><sp/>+<sp/>str([round(xi,5)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>xi<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>x]))</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retry.plot(ys,<sp/></highlight><highlight class="stringliteral">&apos;front_&apos;</highlight><highlight class="normal"><sp/>+<sp/>name<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;.png&apos;</highlight><highlight class="normal">,<sp/>interp=interp,<sp/>plot3d=plot3d)</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Exception<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>ex:</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(str(ex))</highlight></codeline>
<codeline lineno="423"><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1moretry_1a6059f5a7788b8fb7273d3e5900426199" kindref="member">adv_minimize_plot</ref>(name:<sp/>str,<sp/></highlight></codeline>
<codeline lineno="425" refid="namespacefcmaes_1_1moretry_1a47b95fe506257996c19d9189f3f005c5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimizer:<sp/>Optimizer,<sp/></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun:<sp/>Callable[[ArrayLike],<sp/>float],<sp/></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds:<sp/>Optional[Bounds],</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value_limit:<sp/>Optional[float]<sp/>=<sp/>np.inf,<sp/></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_retries:<sp/>Optional[int]<sp/>=<sp/>1024,<sp/></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>statistic_num:<sp/>Optional[int]<sp/>=<sp/>0):</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="432"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Minimizes<sp/>a<sp/>given<sp/>function<sp/>using<sp/>the<sp/>provided<sp/>optimizer,<sp/>retries<sp/>for<sp/>better<sp/>results,</highlight></codeline>
<codeline lineno="433"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>plots<sp/>the<sp/>outcomes,<sp/>and<sp/>saves<sp/>the<sp/>results.</highlight></codeline>
<codeline lineno="434"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="435"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>performs<sp/>a<sp/>smart<sp/>optimization<sp/>by<sp/>leveraging<sp/>retry<sp/>strategies</highlight></codeline>
<codeline lineno="436"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>to<sp/>achieve<sp/>better<sp/>outcomes.<sp/>It<sp/>evaluates<sp/>the<sp/>function<sp/>over<sp/>all<sp/>inputs<sp/>after</highlight></codeline>
<codeline lineno="437"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>optimization,<sp/>generates<sp/>convergence<sp/>plots,<sp/>and<sp/>computes<sp/>a<sp/>Pareto<sp/>front,<sp/>saving</highlight></codeline>
<codeline lineno="438"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>associated<sp/>data<sp/>and<sp/>visuals.</highlight></codeline>
<codeline lineno="439"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="440"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="441"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>(str):<sp/>The<sp/>base<sp/>name<sp/>for<sp/>the<sp/>output<sp/>files<sp/>generated<sp/>during<sp/>the</highlight></codeline>
<codeline lineno="442"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="443"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimizer<sp/>(Optimizer):<sp/>The<sp/>optimization<sp/>algorithm<sp/>to<sp/>be<sp/>used<sp/>for<sp/>minimizing</highlight></codeline>
<codeline lineno="444"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>function.</highlight></codeline>
<codeline lineno="445"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun<sp/>(Callable[[ArrayLike],<sp/>float]):<sp/>The<sp/>objective<sp/>function<sp/>to<sp/>minimize.</highlight></codeline>
<codeline lineno="446"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>It<sp/>should<sp/>accept<sp/>an<sp/>input<sp/>array-like<sp/>variable<sp/>and<sp/>return<sp/>a<sp/>float<sp/>score.</highlight></codeline>
<codeline lineno="447"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds<sp/>(Optional[Bounds]):<sp/>Bounds<sp/>for<sp/>the<sp/>optimization<sp/>process.<sp/>Defines</highlight></codeline>
<codeline lineno="448"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>variable<sp/>limits<sp/>for<sp/>the<sp/>optimization.</highlight></codeline>
<codeline lineno="449"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value_limit<sp/>(Optional[float]):<sp/>A<sp/>threshold<sp/>to<sp/>terminate<sp/>the<sp/>optimization</highlight></codeline>
<codeline lineno="450"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>early<sp/>when<sp/>the<sp/>function&apos;s<sp/>value<sp/>is<sp/>below<sp/>this<sp/>limit.<sp/>Default<sp/>is<sp/>infinity.</highlight></codeline>
<codeline lineno="451"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_retries<sp/>(Optional[int]):<sp/>The<sp/>number<sp/>of<sp/>retries<sp/>for<sp/>optimization<sp/>to<sp/>improve</highlight></codeline>
<codeline lineno="452"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>results<sp/>when<sp/>the<sp/>process<sp/>fails<sp/>or<sp/>is<sp/>suboptimal.<sp/>Default<sp/>is<sp/>1024.</highlight></codeline>
<codeline lineno="453"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>statistic_num<sp/>(Optional[int]):<sp/>A<sp/>statistic<sp/>counter<sp/>for<sp/>internal<sp/>use<sp/>during</highlight></codeline>
<codeline lineno="454"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimization<sp/>or<sp/>retries.<sp/>Default<sp/>is<sp/>0.</highlight></codeline>
<codeline lineno="455"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/>time0<sp/>=<sp/>time.perf_counter()<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>start<sp/>time</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/>name<sp/>+=<sp/></highlight><highlight class="stringliteral">&apos;_smart_&apos;</highlight><highlight class="normal"><sp/>+<sp/>optimizer.name</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/>logger.info(</highlight><highlight class="stringliteral">&apos;smart<sp/>optimize<sp/>&apos;</highlight><highlight class="normal"><sp/>+<sp/>name)<sp/></highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/>store<sp/>=<sp/><ref refid="classfcmaes_1_1advretry_1_1_store" kindref="compound">advretry.Store</ref>(</highlight><highlight class="keyword">lambda</highlight><highlight class="normal"><sp/>x:fun(x)[0],<sp/>bounds,<sp/>capacity=5000,</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_retries=num_retries,<sp/>statistic_num<sp/>=<sp/>statistic_num)<sp/></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/>advretry.retry(store,<sp/>optimizer.minimize,<sp/>value_limit)</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/>xs<sp/>=<sp/>np.array(store.get_xs())</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>np.fromiter((fun(x)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>xs),<sp/>dtype=float)</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/>retry.plot(ys,<sp/></highlight><highlight class="stringliteral">&apos;_all_&apos;</highlight><highlight class="normal"><sp/>+<sp/>name<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;.png&apos;</highlight><highlight class="normal">,<sp/>interp=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/>np.savez_compressed(name<sp/>,<sp/>xs=xs,<sp/>ys=ys)</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/>xs,<sp/>front<sp/>=<sp/><ref refid="namespacefcmaes_1_1moretry_1a76f8b50c1782e6def55706f648e3e819" kindref="member">pareto</ref>(xs,<sp/>ys)</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/>logger.info(name+<sp/></highlight><highlight class="stringliteral">&apos;<sp/>time<sp/>&apos;</highlight><highlight class="normal"><sp/>+<sp/>str(dtime(time0)))<sp/></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/>retry.plot(front,<sp/></highlight><highlight class="stringliteral">&apos;_front_&apos;</highlight><highlight class="normal"><sp/>+<sp/>name<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;.png&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="469"><highlight class="normal"></highlight></codeline>
<codeline lineno="470"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1moretry_1ac6f83723e5f5c51274e705d503b7133f" kindref="member">_avg_exp</ref>(y,<sp/>y_exp):</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="472"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Calculates<sp/>the<sp/>generalized<sp/>mean<sp/>(also<sp/>known<sp/>as<sp/>the<sp/>power<sp/>mean)<sp/>of<sp/>a<sp/>list<sp/>of<sp/>numbers.</highlight></codeline>
<codeline lineno="473" refid="namespacefcmaes_1_1moretry_1a6059f5a7788b8fb7273d3e5900426199" refkind="member"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="474"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>computes<sp/>a<sp/>weighted<sp/>generalized<sp/>mean<sp/>of<sp/>a<sp/>list<sp/>of<sp/>numbers<sp/>`y`<sp/>using</highlight></codeline>
<codeline lineno="475"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>specified<sp/>exponent<sp/>`y_exp`.<sp/>The<sp/>calculation<sp/>involves<sp/>summing<sp/>the<sp/>power<sp/>of<sp/>each</highlight></codeline>
<codeline lineno="476"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>element<sp/>in<sp/>the<sp/>list<sp/>to<sp/>the<sp/>given<sp/>exponent<sp/>and<sp/>then<sp/>applying<sp/>the<sp/>inverse<sp/>of<sp/>the<sp/>same</highlight></codeline>
<codeline lineno="477"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>exponent<sp/>to<sp/>the<sp/>resulting<sp/>sum.</highlight></codeline>
<codeline lineno="478"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="479"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="480"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y:<sp/>List<sp/>or<sp/>iterable<sp/>of<sp/>numbers<sp/>for<sp/>which<sp/>the<sp/>generalized<sp/>mean<sp/>will<sp/>be<sp/>calculated.</highlight></codeline>
<codeline lineno="481"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y_exp:<sp/>Exponent<sp/>parameter<sp/>to<sp/>control<sp/>the<sp/>type<sp/>of<sp/>mean<sp/>(e.g.,<sp/>arithmetic,<sp/>geometric).</highlight></codeline>
<codeline lineno="482"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="483"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="484"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Weighted<sp/>generalized<sp/>mean<sp/>computed<sp/>from<sp/>the<sp/>input<sp/>list<sp/>based<sp/>on<sp/>the<sp/>provided<sp/>exponent.</highlight></codeline>
<codeline lineno="485"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>warnings.catch_warnings():</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>warnings.simplefilter(</highlight><highlight class="stringliteral">&quot;ignore&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weighted<sp/>=<sp/>sum([y[i]**y_exp<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(y))])**(1.0/y_exp)</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>weighted</highlight></codeline>
<codeline lineno="490"><highlight class="normal"></highlight></codeline>
<codeline lineno="491"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1moretry_1a6c5d049111477ebbf03ca1dbd174bbbd" kindref="member">_pareto_values</ref>(ys):</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="493"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Determines<sp/>the<sp/>Pareto-optimal<sp/>solutions<sp/>from<sp/>a<sp/>given<sp/>set<sp/>of<sp/>objective<sp/>values.</highlight></codeline>
<codeline lineno="494"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="495"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>function<sp/>processes<sp/>a<sp/>given<sp/>2D<sp/>array<sp/>of<sp/>objective<sp/>values<sp/>and<sp/>identifies</highlight></codeline>
<codeline lineno="496"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>Pareto-optimal<sp/>points<sp/>among<sp/>them.<sp/>Pareto-optimal<sp/>solutions<sp/>are<sp/>those<sp/>that</highlight></codeline>
<codeline lineno="497"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>cannot<sp/>be<sp/>dominated<sp/>by<sp/>any<sp/>other<sp/>solutions<sp/>in<sp/>all<sp/>objectives.</highlight></codeline>
<codeline lineno="498"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="499"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="500"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>(numpy.ndarray):<sp/>A<sp/>2D<sp/>array<sp/>where<sp/>each<sp/>row<sp/>represents<sp/>a<sp/>solution,<sp/>and</highlight></codeline>
<codeline lineno="501"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>each<sp/>column<sp/>corresponds<sp/>to<sp/>an<sp/>objective.</highlight></codeline>
<codeline lineno="502"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="503"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="504"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numpy.ndarray:<sp/>A<sp/>2D<sp/>array<sp/>containing<sp/>only<sp/>the<sp/>Pareto-optimal<sp/>solutions</highlight></codeline>
<codeline lineno="505"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>from<sp/>the<sp/>input.</highlight></codeline>
<codeline lineno="506"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>ys[ys.sum(1).argsort()[::-1]]</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/>undominated<sp/>=<sp/>np.ones(ys.shape[0],<sp/>dtype=bool)</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(ys.shape[0]):</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>ys.shape[0]</highlight></codeline>
<codeline lineno="511" refid="namespacefcmaes_1_1moretry_1ac6f83723e5f5c51274e705d503b7133f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>i<sp/>&gt;=<sp/>n:</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>undominated[i+1:n]<sp/>=<sp/>(ys[i+1:]<sp/>&gt;=<sp/>ys[i]).any(1)<sp/></highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>ys[undominated[:n]]</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ys</highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1moretry_1a56d8f2ec5777046d87dcd9a79c8168f9" kindref="member">_pareto</ref>(ys):</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="519"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Identifies<sp/>the<sp/>Pareto-optimal<sp/>points<sp/>from<sp/>the<sp/>given<sp/>set<sp/>of<sp/>points.</highlight></codeline>
<codeline lineno="520"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="521"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Pareto-optimal<sp/>points<sp/>are<sp/>those<sp/>for<sp/>which<sp/>no<sp/>other<sp/>point<sp/>dominates<sp/>them.<sp/>A<sp/>point</highlight></codeline>
<codeline lineno="522"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>dominates<sp/>another<sp/>if<sp/>it<sp/>is<sp/>less<sp/>than<sp/>or<sp/>equal<sp/>to<sp/>the<sp/>other<sp/>point<sp/>in<sp/>all<sp/>dimensions</highlight></codeline>
<codeline lineno="523"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>strictly<sp/>less<sp/>in<sp/>at<sp/>least<sp/>one<sp/>dimension.<sp/>This<sp/>function<sp/>removes<sp/>dominated<sp/>points</highlight></codeline>
<codeline lineno="524"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>from<sp/>the<sp/>dataset<sp/>iteratively.</highlight></codeline>
<codeline lineno="525"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="526"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="527"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>(np.ndarray):<sp/>A<sp/>2D<sp/>array<sp/>where<sp/>each<sp/>row<sp/>represents<sp/>a<sp/>point<sp/>in<sp/>a<sp/>multidimensional</highlight></codeline>
<codeline lineno="528"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>space,<sp/>and<sp/>each<sp/>column<sp/>corresponds<sp/>to<sp/>a<sp/>dimension.</highlight></codeline>
<codeline lineno="529"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="530"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="531"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np.ndarray:<sp/>An<sp/>array<sp/>of<sp/>indices<sp/>representing<sp/>the<sp/>Pareto-optimal<sp/>points<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="532"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>provided<sp/>dataset.</highlight></codeline>
<codeline lineno="533"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="534" refid="namespacefcmaes_1_1moretry_1a6c5d049111477ebbf03ca1dbd174bbbd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>pareto<sp/>=<sp/>np.arange(ys.shape[0])</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/>index<sp/>=<sp/>0<sp/><sp/></highlight><highlight class="comment">#<sp/>Next<sp/>index<sp/>to<sp/>search<sp/>for</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>index<sp/>&lt;<sp/>len(ys):</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mask<sp/>=<sp/>np.any(ys<sp/>&lt;<sp/>ys[index],<sp/>axis=1)</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mask[index]<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pareto<sp/>=<sp/>pareto[mask]<sp/><sp/></highlight><highlight class="comment">#<sp/>Remove<sp/>dominated<sp/>points</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>ys[mask]</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>=<sp/>np.sum(mask[:index])+1</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pareto</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
    </programlisting>
    <location file="fcmaes/moretry.py"/>
  </compounddef>
</doxygen>
