<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="mode_8py" kind="file" language="Python">
    <compoundname>mode.py</compoundname>
    <innerclass refid="classfcmaes_1_1mode_1_1store" prot="public">fcmaes::mode::store</innerclass>
    <innerclass refid="classfcmaes_1_1mode_1_1_m_o_d_e" prot="public">fcmaes::mode::MODE</innerclass>
    <innerclass refid="classfcmaes_1_1mode_1_1wrapper" prot="public">fcmaes::mode::wrapper</innerclass>
    <innernamespace refid="namespacefcmaes">fcmaes</innernamespace>
    <innernamespace refid="namespacefcmaes_1_1mode">fcmaes::mode</innernamespace>
    <sectiondef kind="func">
      <memberdef kind="function" id="namespacefcmaes_1_1mode_1a7e76a634ae4563d738ad007097e3c2b4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>Tuple[np.ndarray, np.ndarray]</type>
        <definition> Tuple[np.ndarray, np.ndarray] fcmaes.mode.minimize</definition>
        <argsstring>(Callable[[ArrayLike], ArrayLike] mofun, int nobj, int ncon, Bounds bounds, Optional[np.ndarray] guess=None, Optional[int] popsize=64, Optional[int] max_evaluations=100000, Optional[int] workers=1, Optional[float] f=0.5, Optional[float] cr=0.9, Optional[float] pro_c=0.5, Optional[float] dis_c=15.0, Optional[float] pro_m=0.9, Optional[float] dis_m=20.0, Optional[bool] nsga_update=True, Optional[int] pareto_update=0, Optional[ArrayLike] ints=None, Callable modifier=None, Optional[float] min_mutate=0.1, Optional[float] max_mutate=0.5, Optional[Generator] rg=Generator(PCG64DXSM()), Optional[store] store=None)</argsstring>
        <name>minimize</name>
        <qualifiedname>fcmaes.mode.minimize</qualifiedname>
        <param>
          <type>Callable</type>
          <defname>mofun</defname>
          <array>[[ArrayLike]</array>
        </param>
        <param>
          <type>ArrayLike]</type>
          <declname>mofun</declname>
          <defname>nobj</defname>
        </param>
        <param>
          <type>int</type>
          <declname>nobj</declname>
          <defname>ncon</defname>
        </param>
        <param>
          <type>int</type>
          <declname>ncon</declname>
          <defname>bounds</defname>
        </param>
        <param>
          <type>Bounds</type>
          <declname>bounds</declname>
          <defname>guess</defname>
        </param>
        <param>
          <type>Optional</type>
          <declname>guess</declname>
          <defname>popsize</defname>
          <array>[np.ndarray]</array>
          <defval>None</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>popsize</declname>
          <defname>max_evaluations</defname>
          <array>[int]</array>
          <defval>64</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>max_evaluations</declname>
          <defname>workers</defname>
          <array>[int]</array>
          <defval>100000</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>workers</declname>
          <defname>f</defname>
          <array>[int]</array>
          <defval>1</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>f</declname>
          <defname>cr</defname>
          <array>[float]</array>
          <defval>0.5</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>cr</declname>
          <defname>pro_c</defname>
          <array>[float]</array>
          <defval>0.9</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>pro_c</declname>
          <defname>dis_c</defname>
          <array>[float]</array>
          <defval>0.5</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>dis_c</declname>
          <defname>pro_m</defname>
          <array>[float]</array>
          <defval>15.0</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>pro_m</declname>
          <defname>dis_m</defname>
          <array>[float]</array>
          <defval>0.9</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>dis_m</declname>
          <defname>nsga_update</defname>
          <array>[float]</array>
          <defval>20.0</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>nsga_update</declname>
          <defname>pareto_update</defname>
          <array>[bool]</array>
          <defval>True</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>pareto_update</declname>
          <defname>ints</defname>
          <array>[int]</array>
          <defval>0</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>ints</declname>
          <defname>modifier</defname>
          <array>[ArrayLike]</array>
          <defval>None</defval>
        </param>
        <param>
          <type>Callable</type>
          <declname>modifier</declname>
          <defname>min_mutate</defname>
          <defval>None</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>min_mutate</declname>
          <defname>max_mutate</defname>
          <array>[float]</array>
          <defval>0.1</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>max_mutate</declname>
          <defname>rg</defname>
          <array>[float]</array>
          <defval>0.5</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>rg</declname>
          <defname>store</defname>
          <array>[Generator]</array>
          <defval>Generator(PCG64DXSM())</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>store</declname>
          <array>[store]</array>
          <defval>None</defval>
        </param>
        <briefdescription>
<para>Minimizes a multi-objective function subject to constraints and bounds using evolutionary algorithms. </para>
        </briefdescription>
        <detaileddescription>
<para>The function supports parallel computation and allows various configurations to modify the optimization process.</para>
<para><verbatim>   mofun (Callable[[ArrayLike], ArrayLike]): A callable representing the multi-objective
       function to minimize. It must take an array-like input and return an array-like
</verbatim> <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>output.</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>nobj</parametername>
</parameternamelist>
<parameterdescription>
<para>The number of objective functions. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ncon</parametername>
</parameternamelist>
<parameterdescription>
<para>The number of constraints. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>bounds</parametername>
</parameternamelist>
<parameterdescription>
<para>The bounds for the decision variables. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>guess</parametername>
</parameternamelist>
<parameterdescription>
<para>Initial guess for the population. If not provided, a random guess will be generated. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>popsize</parametername>
</parameternamelist>
<parameterdescription>
<para>The size of the population for the evolutionary algorithm. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>max_evaluations</parametername>
</parameternamelist>
<parameterdescription>
<para>The maximum number of allowable function evaluations during the optimization process. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>workers</parametername>
</parameternamelist>
<parameterdescription>
<para>The number of workers to use for parallel computation. A value of 1 indicates serial computation. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>f</parametername>
</parameternamelist>
<parameterdescription>
<para>Differential evolution scale factor. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>cr</parametername>
</parameternamelist>
<parameterdescription>
<para>Differential evolution crossover probability. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pro_c</parametername>
</parameternamelist>
<parameterdescription>
<para>Crossover probability for simulated binary crossover (SBX). </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>dis_c</parametername>
</parameternamelist>
<parameterdescription>
<para>Distribution index for simulated binary crossover (SBX). </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pro_m</parametername>
</parameternamelist>
<parameterdescription>
<para>Mutation probability for polynomial mutation. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>dis_m</parametername>
</parameternamelist>
<parameterdescription>
<para>Distribution index for polynomial mutation. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>nsga_update</parametername>
</parameternamelist>
<parameterdescription>
<para>Flag to enable or disable NSGA-II style updates. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pareto_update</parametername>
</parameternamelist>
<parameterdescription>
<para>The frequency of Pareto front updates. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ints</parametername>
</parameternamelist>
<parameterdescription>
<para>Specific indices of decision variables that are treated as integers. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>modifier</parametername>
</parameternamelist>
<parameterdescription>
<para>A callable that modifies the process of variable updates. This can be used to apply additional constraints or actions during the optimization </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>process.</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>min_mutate</parametername>
</parameternamelist>
<parameterdescription>
<para>Minimum mutation factor for decision variables. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>max_mutate</parametername>
</parameternamelist>
<parameterdescription>
<para>Maximum mutation factor for decision variables. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>rg</parametername>
</parameternamelist>
<parameterdescription>
<para>An instance of random number generator to ensure repeatability. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>store</parametername>
</parameternamelist>
<parameterdescription>
<para>An optional storage object to store results at the end of </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>optimization.</parametername>
</parameternamelist>
<parameterdescription>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Tuple[np.ndarray, np.ndarray]: A tuple containing the optimal decision variables (x) and the corresponding objective function values (y). If optimization fails, returns (None, None). </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/mode.py" line="134" column="1" bodyfile="fcmaes/mode.py" bodystart="155" bodyend="173"/>
        <referencedby refid="namespacefcmaes_1_1mode_1a0bc11f1e1783869a0b99b01ba75c80eb" compoundref="mode_8py" startline="1449" endline="1458">fcmaes.mode.minimize_plot</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1mode_1a7437cac94470387e12001d7f424393af" prot="protected" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.mode._check_bounds</definition>
        <argsstring>(bounds, dim)</argsstring>
        <name>_check_bounds</name>
        <qualifiedname>fcmaes.mode._check_bounds</qualifiedname>
        <param>
          <type>bounds</type>
          <defname>bounds</defname>
        </param>
        <param>
          <type>dim</type>
          <defname>dim</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/mode.py" line="890" column="1" bodyfile="fcmaes/mode.py" bodystart="890" bodyend="897"/>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1mode_1a4421a58b8727b0b72ab4aaff9f3494b3" prot="protected" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.mode._filter</definition>
        <argsstring>(x, y)</argsstring>
        <name>_filter</name>
        <qualifiedname>fcmaes.mode._filter</qualifiedname>
        <param>
          <type>x</type>
          <defname>x</defname>
        </param>
        <param>
          <type>y</type>
          <defname>y</defname>
        </param>
        <briefdescription>
<para>Filters and sorts input arrays based on specific conditions. </para>
        </briefdescription>
        <detaileddescription>
<para>This function processes two input arrays <computeroutput>x</computeroutput> and <computeroutput>y</computeroutput>. It first determines the maximum value along the first axis of <computeroutput>y</computeroutput>, sorts both arrays based on this criterion, and then applies additional filtering conditions on <computeroutput>y</computeroutput> to exclude specific rows.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>x</parametername>
</parameternamelist>
<parameterdescription>
<para>The input array to be processed and filtered. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>y</parametername>
</parameternamelist>
<parameterdescription>
<para>A 2D array whose maximum values along the first axis determine the sorting order, and which is filtered according to additional </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>conditions.</parametername>
</parameternamelist>
<parameterdescription>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>A tuple containing:<itemizedlist>
<listitem><para>The filtered and sorted version of the input array <computeroutput>x</computeroutput>.</para>
</listitem><listitem><para>The filtered and sorted version of the array <computeroutput>y</computeroutput>. </para>
</listitem></itemizedlist>
</para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/mode.py" line="919" column="1" bodyfile="fcmaes/mode.py" bodystart="919" bodyend="927"/>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1mode_1a64da91b9fe11c4db2c528851fe65f4e4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.mode.objranks</definition>
        <argsstring>(objs)</argsstring>
        <name>objranks</name>
        <qualifiedname>fcmaes.mode.objranks</qualifiedname>
        <param>
          <type>objs</type>
          <defname>objs</defname>
        </param>
        <briefdescription>
<para>Computes the rank of objects based on their sum of ranks across all columns. </para>
        </briefdescription>
        <detaileddescription>
<para>The function calculates the rank of each object in each column, then sums these ranks across the columns to produce a single rank value for each object.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>objs</parametername>
</parameternamelist>
<parameterdescription>
<para>A 2-dimensional numpy array where each row represents an object, and each column represents a category or feature.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para></para>
</simplesect>
<simplesect kind="return"><para>numpy A 1-dimensional numpy array containing the computed rank for each object based on the sum of its ranks across all columns. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/mode.py" line="942" column="1" bodyfile="fcmaes/mode.py" bodystart="942" bodyend="950"/>
        <referencedby refid="namespacefcmaes_1_1mode_1aee5b0cd4fba6d7edff0afe48a8bc636a" compoundref="mode_8py" startline="1064" endline="1100">fcmaes.mode.pareto_domination</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1mode_1af072da864e0f91afc47942de9a8901a5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.mode.ranks</definition>
        <argsstring>(cons, feasible, eps)</argsstring>
        <name>ranks</name>
        <qualifiedname>fcmaes.mode.ranks</qualifiedname>
        <param>
          <type>cons</type>
          <defname>cons</defname>
        </param>
        <param>
          <type>feasible</type>
          <defname>feasible</defname>
        </param>
        <param>
          <type>eps</type>
          <defname>eps</defname>
        </param>
        <briefdescription>
<para>Computes the ranks of constraint values, adjusted by their feasibility and scaled by the fraction of violations for each constraint. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>cons</parametername>
</parameternamelist>
<parameterdescription>
<para>A 2D array of constraint values where rows represent different samples and columns represent different constraints. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>feasible</parametername>
</parameternamelist>
<parameterdescription>
<para>A 1D boolean array indicating whether each row (sample) in <computeroutput>cons</computeroutput> is feasible (True) or not (False). </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>eps</parametername>
</parameternamelist>
<parameterdescription>
<para>A scalar threshold value used to determine the violation of constraints.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para></para>
</simplesect>
<simplesect kind="return"><para>numpy A 1D array that contains the computed rank for each sample in <computeroutput>cons</computeroutput>. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/mode.py" line="965" column="1" bodyfile="fcmaes/mode.py" bodystart="965" bodyend="977"/>
        <referencedby refid="namespacefcmaes_1_1mode_1aee5b0cd4fba6d7edff0afe48a8bc636a" compoundref="mode_8py" startline="1064" endline="1100">fcmaes.mode.pareto_domination</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1mode_1aa9045b5ff7e2451881af650c926cc04c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.mode.get_valid</definition>
        <argsstring>(xs, ys, nobj)</argsstring>
        <name>get_valid</name>
        <qualifiedname>fcmaes.mode.get_valid</qualifiedname>
        <param>
          <type>xs</type>
          <defname>xs</defname>
        </param>
        <param>
          <type>ys</type>
          <defname>ys</defname>
        </param>
        <param>
          <type>nobj</type>
          <defname>nobj</defname>
        </param>
        <briefdescription>
<para>Filters the input data based on a validity condition and returns the valid elements. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>xs</parametername>
</parameternamelist>
<parameterdescription>
<para>Array-like structure containing input data. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ys</parametername>
</parameternamelist>
<parameterdescription>
<para>Array-like structure, typically associated with <computeroutput>xs</computeroutput>, used for the validity check. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>nobj</parametername>
</parameternamelist>
<parameterdescription>
<para>Integer specifying the number of columns to skip in <computeroutput>ys</computeroutput> for the validity check.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Tuple containing:<itemizedlist>
<listitem><para>The filtered elements of <computeroutput>xs</computeroutput> that satisfy the validity condition.</para>
</listitem><listitem><para>The filtered elements of <computeroutput>ys</computeroutput> that align with the valid <computeroutput>xs</computeroutput>. </para>
</listitem></itemizedlist>
</para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/mode.py" line="992" column="1" bodyfile="fcmaes/mode.py" bodystart="992" bodyend="995"/>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1mode_1a4648393e4988cb88b634bc6969891383" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.mode.pareto_sort</definition>
        <argsstring>(x0, y0, nobj, ncon)</argsstring>
        <name>pareto_sort</name>
        <qualifiedname>fcmaes.mode.pareto_sort</qualifiedname>
        <param>
          <type>x0</type>
          <defname>x0</defname>
        </param>
        <param>
          <type>y0</type>
          <defname>y0</defname>
        </param>
        <param>
          <type>nobj</type>
          <defname>nobj</defname>
        </param>
        <param>
          <type>ncon</type>
          <defname>ncon</defname>
        </param>
        <briefdescription>
<para>Sorts solutions based on Pareto dominance and crowding distance. </para>
        </briefdescription>
        <detaileddescription>
<para>This function sorts a given set of solutions into levels based on Pareto dominance. Within each level, solutions are further sorted by crowding distance to ensure diversity. The input arrays <computeroutput>x0</computeroutput> and <computeroutput>y0</computeroutput> are reordered accordingly, and the resulting sorted arrays are returned.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>x0</parametername>
</parameternamelist>
<parameterdescription>
<para>Array-like structure representing the original decision variables of the solutions. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>y0</parametername>
</parameternamelist>
<parameterdescription>
<para>Array-like structure representing the objectives of the solutions. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>nobj</parametername>
</parameternamelist>
<parameterdescription>
<para>Integer specifying the number of objectives for each solution. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ncon</parametername>
</parameternamelist>
<parameterdescription>
<para>Integer specifying the number of constraints for each solution.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Tuple of two NumPy arrays:<itemizedlist>
<listitem><para>The reordered <computeroutput>x0</computeroutput> array based on Pareto dominance and crowding </para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="return"><para>distance.<itemizedlist>
<listitem><para>The reordered <computeroutput>y0</computeroutput> array based on Pareto dominance and crowding </para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="return"><para>distance. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/mode.py" line="1018" column="1" bodyfile="fcmaes/mode.py" bodystart="1018" bodyend="1037"/>
        <references refid="namespacefcmaes_1_1mode_1a0f27ab476c153a96dba3568003ab075a" compoundref="mode_8py" startline="1147" endline="1164">fcmaes.mode.crowd_dist</references>
        <references refid="namespacefcmaes_1_1mode_1aee5b0cd4fba6d7edff0afe48a8bc636a" compoundref="mode_8py" startline="1064" endline="1100">fcmaes.mode.pareto_domination</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1mode_1aee5b0cd4fba6d7edff0afe48a8bc636a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.mode.pareto_domination</definition>
        <argsstring>(ys, nobj, ncon, last_ycon=None, last_eps=0)</argsstring>
        <name>pareto_domination</name>
        <qualifiedname>fcmaes.mode.pareto_domination</qualifiedname>
        <param>
          <type>ys</type>
          <defname>ys</defname>
        </param>
        <param>
          <type>nobj</type>
          <defname>nobj</defname>
        </param>
        <param>
          <type>ncon</type>
          <defname>ncon</defname>
        </param>
        <param>
          <type>last_ycon</type>
          <defname>last_ycon</defname>
          <defval>None</defval>
        </param>
        <param>
          <type>last_eps</type>
          <defname>last_eps</defname>
          <defval>0</defval>
        </param>
        <briefdescription>
<para>Determines Pareto domination levels for a set of solutions considering objectives and constraint violations. </para>
        </briefdescription>
        <detaileddescription>
<para>Divides solutions into feasible and infeasible sets, calculates their dominance levels based on objectives and constraints, and returns the relevant rankings.</para>
<para><verbatim>   ys (list or np.ndarray): A list or array of solutions where each solution
       contains concatenated values of objectives and constraints.
</verbatim> <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>nobj</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of objectives in each solution. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ncon</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of constraints in each solution. last_ycon (np.ndarray, optional): Array representing constraint violations used in the previous iteration for adjusting tolerance to small violations. Defaults to None. last_eps (float, optional): Tolerance level for constraint violations in the last iteration. Defaults to 0.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para></para>
</simplesect>
<simplesect kind="return"><para>tuple A tuple containing:<itemizedlist>
<listitem><para>np.ndarray: Array of Pareto domination levels for all solutions.</para>
</listitem><listitem><para>np.ndarray: Array of adjusted constraint violations for each solution.</para>
</listitem><listitem><para>float: Adjusted tolerance for constraint violations.</para>
</listitem></itemizedlist>
</para>
</simplesect>
<parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>None</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/mode.py" line="1064" column="1" bodyfile="fcmaes/mode.py" bodystart="1064" bodyend="1100"/>
        <references refid="namespacefcmaes_1_1mode_1a64da91b9fe11c4db2c528851fe65f4e4" compoundref="mode_8py" startline="942" endline="950">fcmaes.mode.objranks</references>
        <references refid="namespacefcmaes_1_1mode_1a2570992dd7d42219e4b1381adff7a710" compoundref="mode_8py" startline="1118" endline="1131">fcmaes.mode.pareto_levels</references>
        <references refid="namespacefcmaes_1_1mode_1af072da864e0f91afc47942de9a8901a5" compoundref="mode_8py" startline="965" endline="977">fcmaes.mode.ranks</references>
        <referencedby refid="namespacefcmaes_1_1mode_1a4648393e4988cb88b634bc6969891383" compoundref="mode_8py" startline="1018" endline="1037">fcmaes.mode.pareto_sort</referencedby>
        <referencedby refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a29791dbcb2e070361529475630de2052" compoundref="mode_8py" startline="694" endline="731">fcmaes.mode.MODE.pop_update</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1mode_1a2570992dd7d42219e4b1381adff7a710" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.mode.pareto_levels</definition>
        <argsstring>(ys)</argsstring>
        <name>pareto_levels</name>
        <qualifiedname>fcmaes.mode.pareto_levels</qualifiedname>
        <param>
          <type>ys</type>
          <defname>ys</defname>
        </param>
        <briefdescription>
<para>Determines the Pareto levels of a given set of points. </para>
        </briefdescription>
        <detaileddescription>
<para>This function identifies the domination levels of a set of points, where the domination level of a point represents the number of other points dominating it. Domination is determined based on whether one point strictly dominates another in all dimensions.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ys</parametername>
</parameternamelist>
<parameterdescription>
<para>A 2D array where each row represents a point in a multi-dimensional space, and domination is evaluated across </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>dimensions.</parametername>
</parameternamelist>
<parameterdescription>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para></para>
</simplesect>
<simplesect kind="return"><para>numpy A 1D array where each index corresponds to the domination level of the respective point in the input array. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/mode.py" line="1118" column="1" bodyfile="fcmaes/mode.py" bodystart="1118" bodyend="1131"/>
        <referencedby refid="namespacefcmaes_1_1mode_1aee5b0cd4fba6d7edff0afe48a8bc636a" compoundref="mode_8py" startline="1064" endline="1100">fcmaes.mode.pareto_domination</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1mode_1a0f27ab476c153a96dba3568003ab075a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.mode.crowd_dist</definition>
        <argsstring>(y)</argsstring>
        <name>crowd_dist</name>
        <qualifiedname>fcmaes.mode.crowd_dist</qualifiedname>
        <param>
          <type>y</type>
          <defname>y</defname>
        </param>
        <briefdescription>
<para>Calculates the crowding distance for the first objective in a multi-objective optimization problem. </para>
        </briefdescription>
        <detaileddescription>
<para>This function determines for each solution how dense the neighborhood is based on the distances to its nearest neighbors in the sorted objective space. It assigns a numerical value to each solution reflecting this crowding distance.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>y</parametername>
</parameternamelist>
<parameterdescription>
<para>A list of solutions, where each solution is represented as a list of objective values. This function specifically uses the first objective value for the crowding distance calculation.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para></para>
</simplesect>
<simplesect kind="return"><para>numpy An array of crowding distances for each solution in the input. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/mode.py" line="1147" column="1" bodyfile="fcmaes/mode.py" bodystart="1147" bodyend="1164"/>
        <referencedby refid="namespacefcmaes_1_1mode_1a4648393e4988cb88b634bc6969891383" compoundref="mode_8py" startline="1018" endline="1037">fcmaes.mode.pareto_sort</referencedby>
        <referencedby refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a29791dbcb2e070361529475630de2052" compoundref="mode_8py" startline="694" endline="731">fcmaes.mode.MODE.pop_update</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1mode_1afba15234474d356adb0ed83aa94f73a6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.mode.variation</definition>
        <argsstring>(pop, lower, upper, rg, pro_c=1, dis_c=20, pro_m=1, dis_m=20)</argsstring>
        <name>variation</name>
        <qualifiedname>fcmaes.mode.variation</qualifiedname>
        <param>
          <type>pop</type>
          <defname>pop</defname>
        </param>
        <param>
          <type>lower</type>
          <defname>lower</defname>
        </param>
        <param>
          <type>upper</type>
          <defname>upper</defname>
        </param>
        <param>
          <type>rg</type>
          <defname>rg</defname>
        </param>
        <param>
          <type>pro_c</type>
          <defname>pro_c</defname>
          <defval>1</defval>
        </param>
        <param>
          <type>dis_c</type>
          <defname>dis_c</defname>
          <defval>20</defval>
        </param>
        <param>
          <type>pro_m</type>
          <defname>pro_m</defname>
          <defval>1</defval>
        </param>
        <param>
          <type>dis_m</type>
          <defname>dis_m</defname>
          <defval>20</defval>
        </param>
        <briefdescription>
<para>Applies genetic variation operations, including simulated binary crossover (SBX) and polynomial mutation, on a population to produce offspring. </para>
        </briefdescription>
        <detaileddescription>
<para>The method modifies the population based on crossover and mutation probabilities, as well as distribution control parameters.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>pop</parametername>
</parameternamelist>
<parameterdescription>
<para>numpy.ndarray Input population array, where each row represents an individual and each column represents a design variable. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>lower</parametername>
</parameternamelist>
<parameterdescription>
<para>numpy.ndarray Lower bounds for each design variable. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>upper</parametername>
</parameternamelist>
<parameterdescription>
<para>numpy.ndarray Upper bounds for each design variable. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>rg</parametername>
</parameternamelist>
<parameterdescription>
<para>numpy.random.Generator Random number generator instance. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pro_c</parametername>
</parameternamelist>
<parameterdescription>
<para>float, optional Probability of performing crossover, default is 1. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>dis_c</parametername>
</parameternamelist>
<parameterdescription>
<para>float, optional Distribution index for crossover, default is 20. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pro_m</parametername>
</parameternamelist>
<parameterdescription>
<para>float, optional Probability of performing mutation, default is 1. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>dis_m</parametername>
</parameternamelist>
<parameterdescription>
<para>float, optional Distribution index for mutation, default is 20.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para></para>
</simplesect>
<simplesect kind="return"><para>numpy.ndarray Modified population (offspring) after applying crossover and mutation operations. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/mode.py" line="1193" column="1" bodyfile="fcmaes/mode.py" bodystart="1193" bodyend="1227"/>
        <referencedby refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a29791dbcb2e070361529475630de2052" compoundref="mode_8py" startline="694" endline="731">fcmaes.mode.MODE.pop_update</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1mode_1ad8018519575a155be2d2f4659ce52b0b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.mode.feasible</definition>
        <argsstring>(xs, ys, ncon, eps=1E-2)</argsstring>
        <name>feasible</name>
        <qualifiedname>fcmaes.mode.feasible</qualifiedname>
        <param>
          <type>xs</type>
          <defname>xs</defname>
        </param>
        <param>
          <type>ys</type>
          <defname>ys</defname>
        </param>
        <param>
          <type>ncon</type>
          <defname>ncon</defname>
        </param>
        <param>
          <type>eps</type>
          <defname>eps</defname>
          <defval>1E-2</defval>
        </param>
        <briefdescription>
<para>Determines feasible solutions based on constraints and filters the input arrays <computeroutput>xs</computeroutput> and <computeroutput>ys</computeroutput> accordingly. </para>
        </briefdescription>
        <detaileddescription>
<para>It evaluates constraint violations and ensures that violations are below the threshold (<computeroutput>eps</computeroutput>) for feasibility.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>xs</parametername>
</parameternamelist>
<parameterdescription>
<para>Input array of solutions. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ys</parametername>
</parameternamelist>
<parameterdescription>
<para>Array of objective and constraint values corresponding to the solutions in <computeroutput>xs</computeroutput>. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ncon</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of constraints. Constraints are assumed to be the last <computeroutput>ncon</computeroutput> columns of the <computeroutput>ys</computeroutput> array. eps (float, optional): Feasibility threshold. Defaults to 1E-2.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Tuple[np.ndarray, np.ndarray]: Filtered solutions (<computeroutput>xs</computeroutput>) and their corresponding objective values (<computeroutput>ys</computeroutput>), with infeasible solutions removed. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/mode.py" line="1245" column="1" bodyfile="fcmaes/mode.py" bodystart="1245" bodyend="1256"/>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1mode_1afc694697801d4ac2a3e8956987220939" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.mode.is_feasible</definition>
        <argsstring>(y, nobj, eps=1E-2)</argsstring>
        <name>is_feasible</name>
        <qualifiedname>fcmaes.mode.is_feasible</qualifiedname>
        <param>
          <type>y</type>
          <defname>y</defname>
        </param>
        <param>
          <type>nobj</type>
          <defname>nobj</defname>
        </param>
        <param>
          <type>eps</type>
          <defname>eps</defname>
          <defval>1E-2</defval>
        </param>
        <briefdescription>
<para>Determines if a given solution is feasible based on constraints and tolerance. </para>
        </briefdescription>
        <detaileddescription>
<para>This function evaluates feasibility by checking whether the sum of violated constraints (if any) is less than the provided tolerance value. If there are no constraints, the solution is automatically considered feasible.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>y</parametername>
</parameternamelist>
<parameterdescription>
<para>List or array-like containing values of both objectives and constraints. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>nobj</parametername>
</parameternamelist>
<parameterdescription>
<para>Integer specifying the number of objectives in the array &apos;y&apos;. The rest are treated as constraints. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>eps</parametername>
</parameternamelist>
<parameterdescription>
<para>Float representing the tolerance level for determining feasibility. Defaults to 1E-2.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para></para>
</simplesect>
<simplesect kind="return"><para>bool True if the solution is feasible (i.e., sum of violated constraints is below the specified tolerance), otherwise False. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/mode.py" line="1275" column="1" bodyfile="fcmaes/mode.py" bodystart="1275" bodyend="1282"/>
        <referencedby refid="classfcmaes_1_1mode_1_1wrapper_1a3da595496f0fa1e7a64955db25dec429" compoundref="mode_8py" startline="1370" endline="1403">fcmaes.mode.wrapper.__call__</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1mode_1a0bc11f1e1783869a0b99b01ba75c80eb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>Tuple[np.ndarray, np.ndarray]</type>
        <definition> Tuple[np.ndarray, np.ndarray] fcmaes.mode.minimize_plot</definition>
        <argsstring>(str name, Callable[[ArrayLike], ArrayLike] fun, int nobj, int ncon, Bounds bounds, Optional[int] popsize=64, Optional[int] max_evaluations=100000, Optional[bool] nsga_update=True, Optional[int] pareto_update=0, Optional[ArrayLike] ints=None, Optional[int] workers=mp.cpu_count())</argsstring>
        <name>minimize_plot</name>
        <qualifiedname>fcmaes.mode.minimize_plot</qualifiedname>
        <param>
          <type>str</type>
          <declname>name</declname>
        </param>
        <param>
          <type>Callable</type>
          <defname>fun</defname>
          <array>[[ArrayLike]</array>
        </param>
        <param>
          <type>ArrayLike]</type>
          <declname>fun</declname>
          <defname>nobj</defname>
        </param>
        <param>
          <type>int</type>
          <declname>nobj</declname>
          <defname>ncon</defname>
        </param>
        <param>
          <type>int</type>
          <declname>ncon</declname>
          <defname>bounds</defname>
        </param>
        <param>
          <type>Bounds</type>
          <declname>bounds</declname>
          <defname>popsize</defname>
        </param>
        <param>
          <type>Optional</type>
          <declname>popsize</declname>
          <defname>max_evaluations</defname>
          <array>[int]</array>
          <defval>64</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>max_evaluations</declname>
          <defname>nsga_update</defname>
          <array>[int]</array>
          <defval>100000</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>nsga_update</declname>
          <defname>pareto_update</defname>
          <array>[bool]</array>
          <defval>True</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>pareto_update</declname>
          <defname>ints</defname>
          <array>[int]</array>
          <defval>0</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>ints</declname>
          <defname>workers</defname>
          <array>[ArrayLike]</array>
          <defval>None</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>workers</declname>
          <array>[int]</array>
          <defval>mp.cpu_count()</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/mode.py" line="1439" column="1" bodyfile="fcmaes/mode.py" bodystart="1449" bodyend="1458"/>
        <references refid="namespacefcmaes_1_1mode_1a7e76a634ae4563d738ad007097e3c2b4" compoundref="mode_8py" startline="155" endline="173">fcmaes.mode.minimize</references>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>============================================================================= </para>
    </briefdescription>
    <detaileddescription>
<para>Fast version 1.6.11</para>
<para>(c) 2025 – Dietmar Wolz (c) 2025 – Latitude</para>
<para>License MIT</para>
<para><itemizedlist>
<listitem><para><ref refid="mode_8py" kindref="compound">mode.py</ref></para>
</listitem></itemizedlist>
</para>
<para><simplesect kind="par"><title>Description</title><para><itemizedlist>
<listitem><para>Numpy based implementation of multi objective Differential Evolution using either the DE/rand/1 strategy or a NSGA-II like population update (parameter &apos;nsga_update=True)&apos;. Then it works similar to NSGA-II. </para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="par"><title></title><para>Supports parallel fitness function evaluation. </para>
</simplesect>
<simplesect kind="par"><title></title><para>Features enhanced multiple constraint ranking [2] improving its performance in handling constraints for engineering design optimization. </para>
</simplesect>
<simplesect kind="par"><title></title><para>Enables the comparison of DE and NSGA-II population update mechanism with everything else kept completely identical. </para>
</simplesect>
<simplesect kind="par"><title></title><para>Requires python 3.5 or higher. </para>
</simplesect>
<simplesect kind="par"><title></title><para>Uses the following deviation from the standard DE algorithm: a) oscillating CR/F parameters. </para>
</simplesect>
<simplesect kind="par"><title></title><para>You may keep parameters F and CR at their defaults since this implementation works well with the given settings for most problems, since the algorithm oscillates between different F and CR settings. </para>
</simplesect>
<simplesect kind="par"><title></title><para>For expensive objective functions (e.g. machine learning parameter optimization) use the workers parameter to parallelize objective function evaluation. The workers parameter is limited by the population size. </para>
</simplesect>
<simplesect kind="par"><title></title><para>The ints parameter is a boolean array indicating which parameters are discrete integer values. This parameter was introduced after observing non optimal DE-results for the ESP2 benchmark problem: <programlisting><codeline><highlight class="normal">[3]</highlight></codeline>
</programlisting> If defined it causes a &quot;special treatment&quot; for discrete variables: They are rounded to the next integer value and there is an additional mutation to avoid getting stuck at local minima. This behavior is specified by the internal function _modifier which can be overwritten by providing the optional modifier argument. If modifier is defined, ints is ignored. </para>
</simplesect>
<simplesect kind="par"><title></title><para>See [4] for a detailed description.</para>
</simplesect>
<simplesect kind="author"><para>:<itemizedlist>
<listitem><para>Dietmar Wolz <programlisting><codeline><highlight class="normal">-<sp/>romain.despoullains</highlight><highlight class="preprocessor">@latitude.eu</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">-<sp/>corentin.generet</highlight><highlight class="preprocessor">@latitude.eu</highlight></codeline>
</programlisting></para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="par"><title>References</title><para><itemizedlist>
<listitem><para>[1] <ulink url="https://github.com/dietmarwo/fast-cma-es">https://github.com/dietmarwo/fast-cma-es</ulink></para>
</listitem><listitem><para>[2] <ulink url="https://www.jstage.jst.go.jp/article/tjpnsec/11/2/11_18/_article/-char/en/">https://www.jstage.jst.go.jp/article/tjpnsec/11/2/11_18/_article/-char/en/</ulink></para>
</listitem><listitem><para>[3] <ulink url="https://github.com/AlgTUDelft/ExpensiveOptimBenchmark/blob/master/expensiveoptimbenchmark/problems/DockerCFDBenchmark.py">https://github.com/AlgTUDelft/ExpensiveOptimBenchmark/blob/master/expensiveoptimbenchmark/problems/DockerCFDBenchmark.py</ulink></para>
</listitem><listitem><para>[4] <ulink url="https://github.com/dietmarwo/fast-cma-es/blob/master/tutorials/MODE.adoc">https://github.com/dietmarwo/fast-cma-es/blob/master/tutorials/MODE.adoc</ulink></para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="par"><title>Documentation</title><para><itemizedlist>
<listitem></listitem></itemizedlist>
</para>
</simplesect>
<hruler/>
 </para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacefcmaes_1_1mode" refkind="compound"><highlight class="comment">#<sp/>-*-<sp/>coding:<sp/>utf-8<sp/>-*-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="3"><highlight class="stringliteral">=============================================================================</highlight></codeline>
<codeline lineno="4"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="5"><highlight class="stringliteral"><sp/>Fast<sp/>CMA-ES<sp/>-<sp/>version<sp/>1.6.11</highlight></codeline>
<codeline lineno="6"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="7"><highlight class="stringliteral"><sp/>(c)<sp/>2025<sp/>–<sp/>Dietmar<sp/>Wolz</highlight></codeline>
<codeline lineno="8"><highlight class="stringliteral"><sp/>(c)<sp/>2025<sp/>–<sp/>Latitude</highlight></codeline>
<codeline lineno="9"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="10"><highlight class="stringliteral"><sp/>License:<sp/>MIT</highlight></codeline>
<codeline lineno="11"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="12"><highlight class="stringliteral"><sp/>File:</highlight></codeline>
<codeline lineno="13"><highlight class="stringliteral"><sp/><sp/>-<sp/>mode.py</highlight></codeline>
<codeline lineno="14"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="15"><highlight class="stringliteral"><sp/>Description:</highlight></codeline>
<codeline lineno="16"><highlight class="stringliteral"><sp/><sp/>-<sp/>Numpy<sp/>based<sp/>implementation<sp/>of<sp/>multi<sp/>objective</highlight></codeline>
<codeline lineno="17"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Differential<sp/>Evolution<sp/>using<sp/>either<sp/>the<sp/>DE/rand/1<sp/>strategy</highlight></codeline>
<codeline lineno="18"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>or<sp/>a<sp/>NSGA-II<sp/>like<sp/>population<sp/>update<sp/>(parameter<sp/>&apos;nsga_update=True)&apos;.</highlight></codeline>
<codeline lineno="19"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Then<sp/>it<sp/>works<sp/>similar<sp/>to<sp/>NSGA-II.</highlight></codeline>
<codeline lineno="20"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="21"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Supports<sp/>parallel<sp/>fitness<sp/>function<sp/>evaluation.</highlight></codeline>
<codeline lineno="22"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="23"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Features<sp/>enhanced<sp/>multiple<sp/>constraint<sp/>ranking<sp/>[2]</highlight></codeline>
<codeline lineno="24"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>improving<sp/>its<sp/>performance<sp/>in<sp/>handling<sp/>constraints<sp/>for<sp/>engineering<sp/>design<sp/>optimization.</highlight></codeline>
<codeline lineno="25"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="26"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Enables<sp/>the<sp/>comparison<sp/>of<sp/>DE<sp/>and<sp/>NSGA-II<sp/>population<sp/>update<sp/>mechanism<sp/>with<sp/>everything<sp/>else</highlight></codeline>
<codeline lineno="27"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>kept<sp/>completely<sp/>identical.</highlight></codeline>
<codeline lineno="28"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="29"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Requires<sp/>python<sp/>3.5<sp/>or<sp/>higher.</highlight></codeline>
<codeline lineno="30"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="31"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Uses<sp/>the<sp/>following<sp/>deviation<sp/>from<sp/>the<sp/>standard<sp/>DE<sp/>algorithm:</highlight></codeline>
<codeline lineno="32"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>a)<sp/>oscillating<sp/>CR/F<sp/>parameters.</highlight></codeline>
<codeline lineno="33"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="34"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>You<sp/>may<sp/>keep<sp/>parameters<sp/>F<sp/>and<sp/>CR<sp/>at<sp/>their<sp/>defaults<sp/>since<sp/>this<sp/>implementation<sp/>works<sp/>well<sp/>with<sp/>the<sp/>given<sp/>settings<sp/>for<sp/>most<sp/>problems,</highlight></codeline>
<codeline lineno="35"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>since<sp/>the<sp/>algorithm<sp/>oscillates<sp/>between<sp/>different<sp/>F<sp/>and<sp/>CR<sp/>settings.</highlight></codeline>
<codeline lineno="36"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="37"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>expensive<sp/>objective<sp/>functions<sp/>(e.g.<sp/>machine<sp/>learning<sp/>parameter<sp/>optimization)<sp/>use<sp/>the<sp/>workers</highlight></codeline>
<codeline lineno="38"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>parameter<sp/>to<sp/>parallelize<sp/>objective<sp/>function<sp/>evaluation.<sp/>The<sp/>workers<sp/>parameter<sp/>is<sp/>limited<sp/>by<sp/>the</highlight></codeline>
<codeline lineno="39"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>population<sp/>size.</highlight></codeline>
<codeline lineno="40"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="41"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>ints<sp/>parameter<sp/>is<sp/>a<sp/>boolean<sp/>array<sp/>indicating<sp/>which<sp/>parameters<sp/>are<sp/>discrete<sp/>integer<sp/>values.<sp/>This</highlight></codeline>
<codeline lineno="42"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>parameter<sp/>was<sp/>introduced<sp/>after<sp/>observing<sp/>non<sp/>optimal<sp/>DE-results<sp/>for<sp/>the<sp/>ESP2<sp/>benchmark<sp/>problem:</highlight></codeline>
<codeline lineno="43"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[3]</highlight></codeline>
<codeline lineno="44"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>defined<sp/>it<sp/>causes<sp/>a<sp/>&quot;special<sp/>treatment&quot;<sp/>for<sp/>discrete<sp/>variables:<sp/>They<sp/>are<sp/>rounded<sp/>to<sp/>the<sp/>next<sp/>integer<sp/>value<sp/>and</highlight></codeline>
<codeline lineno="45"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>there<sp/>is<sp/>an<sp/>additional<sp/>mutation<sp/>to<sp/>avoid<sp/>getting<sp/>stuck<sp/>at<sp/>local<sp/>minima.<sp/>This<sp/>behavior<sp/>is<sp/>specified<sp/>by<sp/>the<sp/>internal</highlight></codeline>
<codeline lineno="46"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>function<sp/>_modifier<sp/>which<sp/>can<sp/>be<sp/>overwritten<sp/>by<sp/>providing<sp/>the<sp/>optional<sp/>modifier<sp/>argument.<sp/>If<sp/>modifier<sp/>is<sp/>defined,</highlight></codeline>
<codeline lineno="47"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>ints<sp/>is<sp/>ignored.</highlight></codeline>
<codeline lineno="48"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="49"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>See<sp/>[4]<sp/>for<sp/>a<sp/>detailed<sp/>description.</highlight></codeline>
<codeline lineno="50"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="51"><highlight class="stringliteral"><sp/>Authors:</highlight></codeline>
<codeline lineno="52"><highlight class="stringliteral"><sp/><sp/>-<sp/>Dietmar<sp/>Wolz</highlight></codeline>
<codeline lineno="53"><highlight class="stringliteral"><sp/><sp/>-<sp/>romain.despoullains@latitude.eu</highlight></codeline>
<codeline lineno="54"><highlight class="stringliteral"><sp/><sp/>-<sp/>corentin.generet@latitude.eu</highlight></codeline>
<codeline lineno="55"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="56"><highlight class="stringliteral"><sp/>References:</highlight></codeline>
<codeline lineno="57"><highlight class="stringliteral"><sp/><sp/>-<sp/>[1]<sp/>https://github.com/dietmarwo/fast-cma-es</highlight></codeline>
<codeline lineno="58"><highlight class="stringliteral"><sp/><sp/>-<sp/>[2]<sp/>https://www.jstage.jst.go.jp/article/tjpnsec/11/2/11_18/_article/-char/en/</highlight></codeline>
<codeline lineno="59"><highlight class="stringliteral"><sp/><sp/>-<sp/>[3]<sp/>https://github.com/AlgTUDelft/ExpensiveOptimBenchmark/blob/master/expensiveoptimbenchmark/problems/DockerCFDBenchmark.py</highlight></codeline>
<codeline lineno="60"><highlight class="stringliteral"><sp/><sp/>-<sp/>[4]<sp/>https://github.com/dietmarwo/fast-cma-es/blob/master/tutorials/MODE.adoc</highlight></codeline>
<codeline lineno="61"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="62"><highlight class="stringliteral"><sp/>Documentation:</highlight></codeline>
<codeline lineno="63"><highlight class="stringliteral"><sp/><sp/>-</highlight></codeline>
<codeline lineno="64"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="65"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="66"><highlight class="stringliteral">=============================================================================</highlight></codeline>
<codeline lineno="67"><highlight class="stringliteral">&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>__future__<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>annotations</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>numpy<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>np</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>os,<sp/>sys,<sp/>time</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ctypes<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>ct</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>numpy.random<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Generator,<sp/>PCG64DXSM</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>scipy.optimize<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Bounds</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1evaluator" kindref="compound">fcmaes.evaluator</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Evaluator,<sp/>parallel_mo</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>fcmaes<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>moretry</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>multiprocessing<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>mp</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1optimizer" kindref="compound">fcmaes.optimizer</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>dtime</highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1retry" kindref="compound">fcmaes.retry</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Shared2d</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>loguru<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>logger</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Optional,<sp/>Callable,<sp/>Tuple</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>numpy.typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ArrayLike</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal">os.environ[</highlight><highlight class="stringliteral">&apos;MKL_DEBUG_CPU_TYPE&apos;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;5&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1mode_1a7e76a634ae4563d738ad007097e3c2b4" kindref="member">minimize</ref>(mofun:<sp/>Callable[[ArrayLike],<sp/>ArrayLike],<sp/></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj:<sp/>int,</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon:<sp/>int,</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds:<sp/>Bounds,</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>guess:<sp/>Optional[np.ndarray]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize:<sp/>Optional[int]<sp/>=<sp/>64,</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations:<sp/>Optional[int]<sp/>=<sp/>100000,</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers:<sp/>Optional[int]<sp/>=<sp/>1,</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f:<sp/>Optional[float]<sp/>=<sp/>0.5,</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cr:<sp/>Optional[float]<sp/>=<sp/>0.9,</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pro_c:<sp/>Optional[float]<sp/>=<sp/>0.5,</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dis_c:<sp/>Optional[float]<sp/>=<sp/>15.0,</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pro_m:<sp/>Optional[float]<sp/>=<sp/>0.9,</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dis_m:<sp/>Optional[float]<sp/>=<sp/>20.0,</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nsga_update:<sp/>Optional[bool]<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pareto_update:<sp/>Optional[int]<sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ints:<sp/>Optional[ArrayLike]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>modifier:<sp/>Callable<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_mutate:<sp/>Optional[float]<sp/>=<sp/>0.1,</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_mutate:<sp/>Optional[float]<sp/>=<sp/>0.5,</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rg:<sp/>Optional[Generator]<sp/>=<sp/>Generator(PCG64DXSM()),</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store:<sp/>Optional[store]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/>-&gt;<sp/>Tuple[np.ndarray,<sp/>np.ndarray]:</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="111"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Minimizes<sp/>a<sp/>multi-objective<sp/>function<sp/>subject<sp/>to<sp/>constraints<sp/>and<sp/>bounds<sp/>using<sp/>evolutionary</highlight></codeline>
<codeline lineno="112"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>algorithms.<sp/>The<sp/>function<sp/>supports<sp/>parallel<sp/>computation<sp/>and<sp/>allows<sp/>various<sp/>configurations</highlight></codeline>
<codeline lineno="113"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>to<sp/>modify<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="114"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="115"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="116"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mofun<sp/>(Callable[[ArrayLike],<sp/>ArrayLike]):<sp/>A<sp/>callable<sp/>representing<sp/>the<sp/>multi-objective</highlight></codeline>
<codeline lineno="117"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>function<sp/>to<sp/>minimize.<sp/>It<sp/>must<sp/>take<sp/>an<sp/>array-like<sp/>input<sp/>and<sp/>return<sp/>an<sp/>array-like</highlight></codeline>
<codeline lineno="118"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output.</highlight></codeline>
<codeline lineno="119"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj<sp/>(int):<sp/>The<sp/>number<sp/>of<sp/>objective<sp/>functions.</highlight></codeline>
<codeline lineno="120"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon<sp/>(int):<sp/>The<sp/>number<sp/>of<sp/>constraints.</highlight></codeline>
<codeline lineno="121"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds<sp/>(Bounds):<sp/>The<sp/>bounds<sp/>for<sp/>the<sp/>decision<sp/>variables.</highlight></codeline>
<codeline lineno="122"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>guess<sp/>(Optional[np.ndarray]):<sp/>Initial<sp/>guess<sp/>for<sp/>the<sp/>population.<sp/>If<sp/>not<sp/>provided,</highlight></codeline>
<codeline lineno="123"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a<sp/>random<sp/>guess<sp/>will<sp/>be<sp/>generated.</highlight></codeline>
<codeline lineno="124"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize<sp/>(Optional[int]):<sp/>The<sp/>size<sp/>of<sp/>the<sp/>population<sp/>for<sp/>the<sp/>evolutionary<sp/>algorithm.</highlight></codeline>
<codeline lineno="125"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations<sp/>(Optional[int]):<sp/>The<sp/>maximum<sp/>number<sp/>of<sp/>allowable<sp/>function<sp/>evaluations</highlight></codeline>
<codeline lineno="126"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>during<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="127"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers<sp/>(Optional[int]):<sp/>The<sp/>number<sp/>of<sp/>workers<sp/>to<sp/>use<sp/>for<sp/>parallel<sp/>computation.<sp/>A</highlight></codeline>
<codeline lineno="128"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>of<sp/>1<sp/>indicates<sp/>serial<sp/>computation.</highlight></codeline>
<codeline lineno="129"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f<sp/>(Optional[float]):<sp/>Differential<sp/>evolution<sp/>scale<sp/>factor.</highlight></codeline>
<codeline lineno="130"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cr<sp/>(Optional[float]):<sp/>Differential<sp/>evolution<sp/>crossover<sp/>probability.</highlight></codeline>
<codeline lineno="131"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pro_c<sp/>(Optional[float]):<sp/>Crossover<sp/>probability<sp/>for<sp/>simulated<sp/>binary<sp/>crossover<sp/>(SBX).</highlight></codeline>
<codeline lineno="132"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dis_c<sp/>(Optional[float]):<sp/>Distribution<sp/>index<sp/>for<sp/>simulated<sp/>binary<sp/>crossover<sp/>(SBX).</highlight></codeline>
<codeline lineno="133"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pro_m<sp/>(Optional[float]):<sp/>Mutation<sp/>probability<sp/>for<sp/>polynomial<sp/>mutation.</highlight></codeline>
<codeline lineno="134" refid="namespacefcmaes_1_1mode_1a7e76a634ae4563d738ad007097e3c2b4" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dis_m<sp/>(Optional[float]):<sp/>Distribution<sp/>index<sp/>for<sp/>polynomial<sp/>mutation.</highlight></codeline>
<codeline lineno="135"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nsga_update<sp/>(Optional[bool]):<sp/>Flag<sp/>to<sp/>enable<sp/>or<sp/>disable<sp/>NSGA-II<sp/>style<sp/>updates.</highlight></codeline>
<codeline lineno="136"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pareto_update<sp/>(Optional[int]):<sp/>The<sp/>frequency<sp/>of<sp/>Pareto<sp/>front<sp/>updates.</highlight></codeline>
<codeline lineno="137"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ints<sp/>(Optional[ArrayLike]):<sp/>Specific<sp/>indices<sp/>of<sp/>decision<sp/>variables<sp/>that<sp/>are<sp/>treated</highlight></codeline>
<codeline lineno="138"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>as<sp/>integers.</highlight></codeline>
<codeline lineno="139"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>modifier<sp/>(Callable):<sp/>A<sp/>callable<sp/>that<sp/>modifies<sp/>the<sp/>process<sp/>of<sp/>variable<sp/>updates.<sp/>This</highlight></codeline>
<codeline lineno="140"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>can<sp/>be<sp/>used<sp/>to<sp/>apply<sp/>additional<sp/>constraints<sp/>or<sp/>actions<sp/>during<sp/>the<sp/>optimization</highlight></codeline>
<codeline lineno="141"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>process.</highlight></codeline>
<codeline lineno="142"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_mutate<sp/>(Optional[float]):<sp/>Minimum<sp/>mutation<sp/>factor<sp/>for<sp/>decision<sp/>variables.</highlight></codeline>
<codeline lineno="143"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_mutate<sp/>(Optional[float]):<sp/>Maximum<sp/>mutation<sp/>factor<sp/>for<sp/>decision<sp/>variables.</highlight></codeline>
<codeline lineno="144"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rg<sp/>(Optional[Generator]):<sp/>An<sp/>instance<sp/>of<sp/>random<sp/>number<sp/>generator<sp/>to<sp/>ensure<sp/>repeatability.</highlight></codeline>
<codeline lineno="145"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store<sp/>(Optional[store]):<sp/>An<sp/>optional<sp/>storage<sp/>object<sp/>to<sp/>store<sp/>results<sp/>at<sp/>the<sp/>end<sp/>of</highlight></codeline>
<codeline lineno="146"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimization.</highlight></codeline>
<codeline lineno="147"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="148"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="149"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tuple[np.ndarray,<sp/>np.ndarray]:<sp/>A<sp/>tuple<sp/>containing<sp/>the<sp/>optimal<sp/>decision<sp/>variables</highlight></codeline>
<codeline lineno="150"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(x)<sp/>and<sp/>the<sp/>corresponding<sp/>objective<sp/>function<sp/>values<sp/>(y).<sp/>If<sp/>optimization<sp/>fails,</highlight></codeline>
<codeline lineno="151"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>returns<sp/>(None,<sp/>None).</highlight></codeline>
<codeline lineno="152"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mode<sp/>=<sp/><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e" kindref="compound">MODE</ref>(nobj,<sp/>ncon,<sp/>bounds,<sp/>popsize,</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f,<sp/>cr,<sp/>pro_c,<sp/>dis_c,<sp/>pro_m,<sp/>dis_m,<sp/>nsga_update,<sp/>pareto_update,<sp/>rg,<sp/>ints,<sp/>min_mutate,<sp/>max_mutate,<sp/>modifier)</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mode.set_guess(guess,<sp/>mofun,<sp/>rg)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>workers<sp/>&lt;=<sp/>1:</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x,<sp/>y,<sp/>=<sp/>mode.minimize_ser(mofun,<sp/>max_evaluations)</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x,<sp/>y<sp/>=<sp/>mode.minimize_par(mofun,<sp/>max_evaluations,<sp/>workers)</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>store<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store.add_results(x,<sp/>y)</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x,<sp/>y</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Exception<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>ex:</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(str(ex))<sp/><sp/></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1store" kindref="compound">store</ref>():</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="173"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Handles<sp/>the<sp/>management<sp/>of<sp/>shared<sp/>data<sp/>storage<sp/>and<sp/>processing<sp/>for<sp/>multi-objective<sp/>optimization.</highlight></codeline>
<codeline lineno="174"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="175"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>class<sp/>facilitates<sp/>the<sp/>storage<sp/>and<sp/>processing<sp/>of<sp/>results<sp/>for<sp/>multi-objective<sp/>optimization</highlight></codeline>
<codeline lineno="176"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>problems<sp/>using<sp/>shared<sp/>memory<sp/>objects<sp/>to<sp/>support<sp/>multiprocessing.<sp/>It<sp/>includes<sp/>functionality<sp/>for</highlight></codeline>
<codeline lineno="177"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>adding<sp/>new<sp/>results,<sp/>managing<sp/>capacity,<sp/>and<sp/>extracting<sp/>Pareto<sp/>fronts.</highlight></codeline>
<codeline lineno="178"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="179"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Attributes:</highlight></codeline>
<codeline lineno="180"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dim<sp/>(int):<sp/>Dimensionality<sp/>of<sp/>the<sp/>input<sp/>data.</highlight></codeline>
<codeline lineno="181"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj<sp/>(int):<sp/>Number<sp/>of<sp/>objectives<sp/>for<sp/>the<sp/>optimization<sp/>problem.</highlight></codeline>
<codeline lineno="182"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>capacity<sp/>(int):<sp/>Maximum<sp/>capacity<sp/>of<sp/>the<sp/>storage.</highlight></codeline>
<codeline lineno="183" refid="classfcmaes_1_1mode_1_1store" refkind="compound"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1store_1ab639a5b34f36a616f38edbd188469b99" kindref="member">__init__</ref>(self,<sp/>dim,<sp/>nobj,<sp/>capacity<sp/>=<sp/>mp.cpu_count()*512):</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="187"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Initializes<sp/>an<sp/>instance<sp/>of<sp/>the<sp/>class<sp/>with<sp/>provided<sp/>dimensions<sp/>and<sp/>objects.</highlight></codeline>
<codeline lineno="188"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="189"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>constructor<sp/>sets<sp/>up<sp/>shared<sp/>memory<sp/>buffers<sp/>for<sp/>storing<sp/>data<sp/>(`xs`<sp/>and<sp/>`ys`)</highlight></codeline>
<codeline lineno="190"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>initializes<sp/>synchronization<sp/>mechanisms<sp/>and<sp/>counters<sp/>to<sp/>effectively<sp/>handle</highlight></codeline>
<codeline lineno="191"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>storage<sp/>and<sp/>retrieval.</highlight></codeline>
<codeline lineno="192"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="193"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="194"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dim:<sp/>Number<sp/>of<sp/>dimensions<sp/>for<sp/>each<sp/>data<sp/>point.</highlight></codeline>
<codeline lineno="195"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj:<sp/>Number<sp/>of<sp/>objectives<sp/>for<sp/>each<sp/>data<sp/>point.</highlight></codeline>
<codeline lineno="196"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>capacity:<sp/>Total<sp/>initial<sp/>storage<sp/>capacity.<sp/>Defaults<sp/>to<sp/>the<sp/>number<sp/>of<sp/>CPU</highlight></codeline>
<codeline lineno="197"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cores<sp/>multiplied<sp/>by<sp/>512.</highlight></codeline>
<codeline lineno="198"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="199"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Attributes:</highlight></codeline>
<codeline lineno="200"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dim<sp/>(int):<sp/>Number<sp/>of<sp/>dimensions<sp/>for<sp/>each<sp/>data<sp/>point.</highlight></codeline>
<codeline lineno="201"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj<sp/>(int):<sp/>Number<sp/>of<sp/>objectives<sp/>for<sp/>each<sp/>data<sp/>point.</highlight></codeline>
<codeline lineno="202"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>capacity<sp/>(int):<sp/>Total<sp/>initial<sp/>storage<sp/>capacity.</highlight></codeline>
<codeline lineno="203"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1abb90fc4232b181b4692c5418a37a5bd7" kindref="member">dim</ref><sp/>=<sp/>dim</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1ad41dda52326d3c8dd58fa1ba06e4fe43" kindref="member">nobj</ref><sp/>=<sp/>nobj</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a3e2c5ad682cc0020ea9ba7cd00a94a8f" kindref="member">capacity</ref><sp/>=<sp/>capacity</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1ae24305a686c275864dc54f1afb29d8c1" kindref="member">add_mutex</ref><sp/>=<sp/>mp.Lock()<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a1a19c7046d247df093c393bf640049b4" kindref="member">xs</ref><sp/>=<sp/><ref refid="classfcmaes_1_1retry_1_1_shared2d" kindref="compound">Shared2d</ref>(np.empty((self.<ref refid="classfcmaes_1_1mode_1_1store_1a3e2c5ad682cc0020ea9ba7cd00a94a8f" kindref="member">capacity</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1abb90fc4232b181b4692c5418a37a5bd7" kindref="member">dim</ref>),<sp/>dtype<sp/>=<sp/>np.float64))</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1aebc7f2a3cbee661b34b92bc6948b7849" kindref="member">ys</ref><sp/>=<sp/><ref refid="classfcmaes_1_1retry_1_1_shared2d" kindref="compound">Shared2d</ref>(np.empty((self.<ref refid="classfcmaes_1_1mode_1_1store_1a3e2c5ad682cc0020ea9ba7cd00a94a8f" kindref="member">capacity</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1ad41dda52326d3c8dd58fa1ba06e4fe43" kindref="member">nobj</ref>),<sp/>dtype<sp/>=<sp/>np.float64))<sp/></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a34a1a949f5857ab3edfb6beb8fb8b563" kindref="member">create_views</ref>()</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a55c223142d2113cb824124744d2926e8" kindref="member">num_stored</ref><sp/>=<sp/>mp.RawValue(ct.c_int,<sp/>0)<sp/></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1ac4b4da5b1175f8134ee6555ceb37d183" kindref="member">num_added</ref><sp/>=<sp/>mp.RawValue(ct.c_int,<sp/>0)<sp/></highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1store_1a34a1a949f5857ab3edfb6beb8fb8b563" kindref="member">create_views</ref>(self):<sp/></highlight><highlight class="comment">#<sp/>needs<sp/>to<sp/>be<sp/>called<sp/>in<sp/>the<sp/>target<sp/>process</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="216" refid="classfcmaes_1_1mode_1_1store_1ab639a5b34f36a616f38edbd188469b99" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Creates<sp/>views<sp/>for<sp/>the<sp/>class&apos;s<sp/>xs<sp/>and<sp/>ys<sp/>attributes.</highlight></codeline>
<codeline lineno="217" refid="classfcmaes_1_1mode_1_1store_1abb90fc4232b181b4692c5418a37a5bd7" refkind="member"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="218" refid="classfcmaes_1_1mode_1_1store_1ad41dda52326d3c8dd58fa1ba06e4fe43" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>method<sp/>generates<sp/>views<sp/>for<sp/>the<sp/>xs<sp/>and<sp/>ys<sp/>attributes,<sp/>which<sp/>should</highlight></codeline>
<codeline lineno="219" refid="classfcmaes_1_1mode_1_1store_1a3e2c5ad682cc0020ea9ba7cd00a94a8f" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>be<sp/>initialized<sp/>prior<sp/>to<sp/>calling<sp/>this<sp/>function.<sp/>It<sp/>ensures<sp/>the<sp/>views<sp/>are</highlight></codeline>
<codeline lineno="220" refid="classfcmaes_1_1mode_1_1store_1ae24305a686c275864dc54f1afb29d8c1" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>references<sp/>to<sp/>the<sp/>existing<sp/>data<sp/>rather<sp/>than<sp/>independent<sp/>copies.</highlight></codeline>
<codeline lineno="221" refid="classfcmaes_1_1mode_1_1store_1a1a19c7046d247df093c393bf640049b4" refkind="member"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="222" refid="classfcmaes_1_1mode_1_1store_1aebc7f2a3cbee661b34b92bc6948b7849" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="223"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="224" refid="classfcmaes_1_1mode_1_1store_1a55c223142d2113cb824124744d2926e8" refkind="member"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="225" refid="classfcmaes_1_1mode_1_1store_1ac4b4da5b1175f8134ee6555ceb37d183" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="226"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="227"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a96139a4d610eaf0d6814eba5f3dc6fc5" kindref="member">xs_view</ref><sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a1a19c7046d247df093c393bf640049b4" kindref="member">xs</ref>.view()</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a270a1beccd7fe26e44d5d727fc484f0f" kindref="member">ys_view</ref><sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1aebc7f2a3cbee661b34b92bc6948b7849" kindref="member">ys</ref>.view()</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1store_1ac474104fcfc6ca9dce6a873a95af0204" kindref="member">get_xs</ref>(self)<sp/>-&gt;<sp/>np.ndarray:</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="233"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns<sp/>a<sp/>view<sp/>of<sp/>the<sp/>xs<sp/>ndarray.</highlight></codeline>
<codeline lineno="234"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="235"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>method<sp/>provides<sp/>a<sp/>view<sp/>of<sp/>the<sp/>internal<sp/>numpy<sp/>array<sp/>`xs`,<sp/>allowing</highlight></codeline>
<codeline lineno="236"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>users<sp/>to<sp/>access<sp/>the<sp/>data<sp/>without<sp/>creating<sp/>a<sp/>copy.</highlight></codeline>
<codeline lineno="237"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="238"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="239"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np.ndarray:<sp/>A<sp/>view<sp/>of<sp/>the<sp/>`xs`<sp/>numpy<sp/>array.</highlight></codeline>
<codeline lineno="240" refid="classfcmaes_1_1mode_1_1store_1a34a1a949f5857ab3edfb6beb8fb8b563" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241" refid="classfcmaes_1_1mode_1_1store_1a96139a4d610eaf0d6814eba5f3dc6fc5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a1a19c7046d247df093c393bf640049b4" kindref="member">xs</ref>.view()</highlight></codeline>
<codeline lineno="242" refid="classfcmaes_1_1mode_1_1store_1a270a1beccd7fe26e44d5d727fc484f0f" refkind="member"><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1store_1ae794481869c1d681838a181c6f1976fe" kindref="member">get_ys</ref>(self)<sp/>-&gt;<sp/>np.ndarray:</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="245"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns<sp/>a<sp/>view<sp/>of<sp/>the<sp/>`ys`<sp/>attribute.</highlight></codeline>
<codeline lineno="246"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="247"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>method<sp/>provides<sp/>a<sp/>view<sp/>of<sp/>the<sp/>`ys`<sp/>NumPy<sp/>array,<sp/>allowing<sp/>the<sp/>caller<sp/>to</highlight></codeline>
<codeline lineno="248"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>access<sp/>the<sp/>same<sp/>data<sp/>without<sp/>creating<sp/>a<sp/>copy.</highlight></codeline>
<codeline lineno="249"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="250"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="251"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np.ndarray:<sp/>A<sp/>view<sp/>of<sp/>the<sp/>`ys`<sp/>NumPy<sp/>array.</highlight></codeline>
<codeline lineno="252"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253" refid="classfcmaes_1_1mode_1_1store_1ac474104fcfc6ca9dce6a873a95af0204" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1aebc7f2a3cbee661b34b92bc6948b7849" kindref="member">ys</ref>.view()</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1store_1a215371084a0bff8b1368d27a91495fb5" kindref="member">add_result</ref>(self,<sp/>x,<sp/>y):</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="257"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Adds<sp/>a<sp/>result<sp/>to<sp/>the<sp/>storage,<sp/>ensuring<sp/>that<sp/>the<sp/>storage<sp/>capacity<sp/>is<sp/>not<sp/>exceeded.</highlight></codeline>
<codeline lineno="258"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>If<sp/>the<sp/>storage<sp/>reaches<sp/>its<sp/>capacity,<sp/>it<sp/>performs<sp/>truncation<sp/>and<sp/>stores<sp/>the<sp/>new<sp/>values<sp/>accordingly.</highlight></codeline>
<codeline lineno="259"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="260"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="261"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x:<sp/>The<sp/>input<sp/>data<sp/>point<sp/>to<sp/>be<sp/>added.</highlight></codeline>
<codeline lineno="262"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y:<sp/>The<sp/>corresponding<sp/>result<sp/>or<sp/>label<sp/>associated<sp/>with<sp/>`x`.</highlight></codeline>
<codeline lineno="263"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1ae24305a686c275864dc54f1afb29d8c1" kindref="member">add_mutex</ref>:</highlight></codeline>
<codeline lineno="265" refid="classfcmaes_1_1mode_1_1store_1ae794481869c1d681838a181c6f1976fe" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1ac4b4da5b1175f8134ee6555ceb37d183" kindref="member">num_added</ref>.value<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a55c223142d2113cb824124744d2926e8" kindref="member">num_stored</ref>.value<sp/>&gt;=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a3e2c5ad682cc0020ea9ba7cd00a94a8f" kindref="member">capacity</ref>:<sp/></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a1f2b11c0242f454020e72bc15d12625d" kindref="member">get_front</ref>(update=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a55c223142d2113cb824124744d2926e8" kindref="member">num_stored</ref>.value<sp/>&gt;=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a3e2c5ad682cc0020ea9ba7cd00a94a8f" kindref="member">capacity</ref>:<sp/></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>int(self.<ref refid="classfcmaes_1_1mode_1_1store_1a55c223142d2113cb824124744d2926e8" kindref="member">num_stored</ref>.value/2)</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a96139a4d610eaf0d6814eba5f3dc6fc5" kindref="member">xs_view</ref>[:n]<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a96139a4d610eaf0d6814eba5f3dc6fc5" kindref="member">xs_view</ref>[:2*n:2]<sp/></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a270a1beccd7fe26e44d5d727fc484f0f" kindref="member">ys_view</ref>[:n]<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a270a1beccd7fe26e44d5d727fc484f0f" kindref="member">ys_view</ref>[:2*n:2]<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a55c223142d2113cb824124744d2926e8" kindref="member">num_stored</ref>.value<sp/>=<sp/>n</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a55c223142d2113cb824124744d2926e8" kindref="member">num_stored</ref>.value<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a96139a4d610eaf0d6814eba5f3dc6fc5" kindref="member">xs_view</ref>[i]<sp/>=<sp/>x</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a270a1beccd7fe26e44d5d727fc484f0f" kindref="member">ys_view</ref>[i]<sp/>=<sp/>y[:self.<ref refid="classfcmaes_1_1mode_1_1store_1ad41dda52326d3c8dd58fa1ba06e4fe43" kindref="member">nobj</ref>]</highlight></codeline>
<codeline lineno="276" refid="classfcmaes_1_1mode_1_1store_1a215371084a0bff8b1368d27a91495fb5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a55c223142d2113cb824124744d2926e8" kindref="member">num_stored</ref>.value<sp/>=<sp/>i<sp/>+<sp/>1</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1store_1aac282e295578d049a156da83056e25fe" kindref="member">add_results</ref>(self,<sp/>xs,<sp/>ys):</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="280"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Adds<sp/>the<sp/>content<sp/>of<sp/>the<sp/>provided<sp/>`xs`<sp/>and<sp/>`ys`<sp/>to<sp/>the<sp/>storage,<sp/>while<sp/>managing<sp/>the<sp/>storage</highlight></codeline>
<codeline lineno="281"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>capacity<sp/>and<sp/>ensuring<sp/>proper<sp/>synchronization.</highlight></codeline>
<codeline lineno="282"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="283"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>If<sp/>the<sp/>storage<sp/>exceeds<sp/>90%<sp/>of<sp/>its<sp/>capacity<sp/>during<sp/>the<sp/>operation,<sp/>the<sp/>addition<sp/>process<sp/>will</highlight></codeline>
<codeline lineno="284"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>terminate<sp/>early<sp/>to<sp/>avoid<sp/>overfilling.<sp/>The<sp/>addition<sp/>process<sp/>is<sp/>thread-safe<sp/>due<sp/>to<sp/>`add_mutex`.</highlight></codeline>
<codeline lineno="285"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="286"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="287"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs:<sp/>A<sp/>sequence<sp/>containing<sp/>the<sp/>elements<sp/>to<sp/>be<sp/>added<sp/>to<sp/>the<sp/>storage.</highlight></codeline>
<codeline lineno="288"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys:<sp/>A<sp/>sequence<sp/>of<sp/>sequences,<sp/>where<sp/>each<sp/>sub-sequence<sp/>represents<sp/>corresponding</highlight></codeline>
<codeline lineno="289"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entries<sp/>to<sp/>`xs`<sp/>and<sp/>is<sp/>truncated<sp/>to<sp/>the<sp/>first<sp/>`nobj`<sp/>elements<sp/>during<sp/>storage.</highlight></codeline>
<codeline lineno="290"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1ae24305a686c275864dc54f1afb29d8c1" kindref="member">add_mutex</ref>:</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1ac4b4da5b1175f8134ee6555ceb37d183" kindref="member">num_added</ref>.value<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a55c223142d2113cb824124744d2926e8" kindref="member">num_stored</ref>.value</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(xs)):</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>i<sp/>&lt;<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a3e2c5ad682cc0020ea9ba7cd00a94a8f" kindref="member">capacity</ref>:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a96139a4d610eaf0d6814eba5f3dc6fc5" kindref="member">xs_view</ref>[i]<sp/>=<sp/>xs[j]<sp/></highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a270a1beccd7fe26e44d5d727fc484f0f" kindref="member">ys_view</ref>[i]<sp/>=<sp/>ys[j][:self.<ref refid="classfcmaes_1_1mode_1_1store_1ad41dda52326d3c8dd58fa1ba06e4fe43" kindref="member">nobj</ref>]</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a1f2b11c0242f454020e72bc15d12625d" kindref="member">get_front</ref>(update=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a55c223142d2113cb824124744d2926e8" kindref="member">num_stored</ref>.value</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>i<sp/>&gt;<sp/>0.9*self.<ref refid="classfcmaes_1_1mode_1_1store_1a3e2c5ad682cc0020ea9ba7cd00a94a8f" kindref="member">capacity</ref>:<sp/></highlight><highlight class="comment">#<sp/>give<sp/>up</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="303" refid="classfcmaes_1_1mode_1_1store_1aac282e295578d049a156da83056e25fe" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a55c223142d2113cb824124744d2926e8" kindref="member">num_stored</ref>.value<sp/>=<sp/>i</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1store_1a1f2b11c0242f454020e72bc15d12625d" kindref="member">get_front</ref>(self,<sp/>update=False):</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="308"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Retrieves<sp/>the<sp/>Pareto<sp/>front<sp/>from<sp/>stored<sp/>values<sp/>of<sp/>`xs_view`<sp/>and<sp/>`ys_view`.<sp/>Optionally,<sp/>updates<sp/>the</highlight></codeline>
<codeline lineno="309"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>values<sp/>in-place<sp/>if<sp/>`update`<sp/>is<sp/>set<sp/>to<sp/>True.</highlight></codeline>
<codeline lineno="310"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="311"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="312"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>update<sp/>(bool):<sp/>Determines<sp/>whether<sp/>the<sp/>current<sp/>views<sp/>and<sp/>stored<sp/>count<sp/>are<sp/>updated<sp/>with<sp/>the</highlight></codeline>
<codeline lineno="313"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Pareto<sp/>front<sp/>values.</highlight></codeline>
<codeline lineno="314"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="315"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="316"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tuple:<sp/>Contains<sp/>two<sp/>elements<sp/>`(xf,<sp/>yf)`<sp/>where:</highlight></codeline>
<codeline lineno="317"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>`xf`<sp/>-<sp/>The<sp/>x-coordinates<sp/>of<sp/>the<sp/>Pareto<sp/>front.</highlight></codeline>
<codeline lineno="318"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>`yf`<sp/>-<sp/>The<sp/>y-coordinates<sp/>of<sp/>the<sp/>Pareto<sp/>front.</highlight></codeline>
<codeline lineno="319"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stored<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a55c223142d2113cb824124744d2926e8" kindref="member">num_stored</ref>.value</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a96139a4d610eaf0d6814eba5f3dc6fc5" kindref="member">xs_view</ref>[:stored]</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a270a1beccd7fe26e44d5d727fc484f0f" kindref="member">ys_view</ref>[:stored]</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xf,<sp/>yf<sp/>=<sp/>moretry.pareto(xs,<sp/>ys)</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>update:</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>len(yf)</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a96139a4d610eaf0d6814eba5f3dc6fc5" kindref="member">xs_view</ref>[:n]<sp/>=<sp/>xf<sp/></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a270a1beccd7fe26e44d5d727fc484f0f" kindref="member">ys_view</ref>[:n]<sp/>=<sp/>yf<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a55c223142d2113cb824124744d2926e8" kindref="member">num_stored</ref>.value<sp/>=<sp/>n</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>xf,<sp/>yf</highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1store_1a1ffd4596004d9c4a84a094883dccdbfa" kindref="member">get_content</ref>(self):</highlight></codeline>
<codeline lineno="332" refid="classfcmaes_1_1mode_1_1store_1a1f2b11c0242f454020e72bc15d12625d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="333"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Retrieves<sp/>and<sp/>returns<sp/>the<sp/>stored<sp/>content.</highlight></codeline>
<codeline lineno="334"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="335"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>method<sp/>accesses<sp/>the<sp/>current<sp/>amount<sp/>of<sp/>stored<sp/>data<sp/>and<sp/>retrieves</highlight></codeline>
<codeline lineno="336"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>corresponding<sp/>portions<sp/>of<sp/>`xs_view`<sp/>and<sp/>`ys_view`<sp/>based<sp/>on</highlight></codeline>
<codeline lineno="337"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>stored<sp/>count.</highlight></codeline>
<codeline lineno="338"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="339"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="340"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tuple:<sp/>A<sp/>tuple<sp/>containing<sp/>two<sp/>arrays<sp/>or<sp/>lists.<sp/>The<sp/>first<sp/>element</highlight></codeline>
<codeline lineno="341"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is<sp/>the<sp/>portion<sp/>of<sp/>`xs_view`<sp/>up<sp/>to<sp/>the<sp/>stored<sp/>count,<sp/>and<sp/>the<sp/>second</highlight></codeline>
<codeline lineno="342"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>element<sp/>is<sp/>the<sp/>portion<sp/>of<sp/>`ys_view`<sp/>up<sp/>to<sp/>the<sp/>stored<sp/>count.</highlight></codeline>
<codeline lineno="343"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stored<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a55c223142d2113cb824124744d2926e8" kindref="member">num_stored</ref>.value</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a96139a4d610eaf0d6814eba5f3dc6fc5" kindref="member">xs_view</ref>[:stored],<sp/>self.<ref refid="classfcmaes_1_1mode_1_1store_1a270a1beccd7fe26e44d5d727fc484f0f" kindref="member">ys_view</ref>[:stored]</highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e" kindref="compound">MODE</ref>(object):</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="349"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Multi-Objective<sp/>Differential<sp/>Evolution<sp/>(MODE)<sp/>optimization<sp/>algorithm.</highlight></codeline>
<codeline lineno="350"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="351"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>class<sp/>implements<sp/>a<sp/>multi-objective<sp/>optimization<sp/>algorithm<sp/>based<sp/>on</highlight></codeline>
<codeline lineno="352"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>Differential<sp/>Evolution<sp/>(DE)<sp/>framework.<sp/>It<sp/>is<sp/>designed<sp/>to<sp/>handle</highlight></codeline>
<codeline lineno="353"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>optimization<sp/>problems<sp/>with<sp/>both<sp/>multiple<sp/>objectives<sp/>and<sp/>constraints.<sp/>The</highlight></codeline>
<codeline lineno="354"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>algorithm<sp/>aims<sp/>to<sp/>generate<sp/>a<sp/>set<sp/>of<sp/>Pareto-optimal<sp/>solutions<sp/>through</highlight></codeline>
<codeline lineno="355"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>evolutionary<sp/>strategies<sp/>while<sp/>supporting<sp/>parallel<sp/>and<sp/>serial<sp/>execution<sp/>for</highlight></codeline>
<codeline lineno="356" refid="classfcmaes_1_1mode_1_1store_1a1ffd4596004d9c4a84a094883dccdbfa" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>fitness<sp/>evaluations.</highlight></codeline>
<codeline lineno="357"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="358"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Attributes:</highlight></codeline>
<codeline lineno="359"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj<sp/>(int):<sp/>Number<sp/>of<sp/>objectives<sp/>to<sp/>optimize.</highlight></codeline>
<codeline lineno="360"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon<sp/>(int):<sp/>Number<sp/>of<sp/>constraints.</highlight></codeline>
<codeline lineno="361"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dim<sp/>(int):<sp/>Dimensionality<sp/>of<sp/>the<sp/>search<sp/>space,<sp/>derived<sp/>from<sp/>the<sp/>bounds.</highlight></codeline>
<codeline lineno="362"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lower<sp/>(np.ndarray):<sp/>Lower<sp/>bounds<sp/>for<sp/>the<sp/>search<sp/>space<sp/>dimensions.</highlight></codeline>
<codeline lineno="363"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>upper<sp/>(np.ndarray):<sp/>Upper<sp/>bounds<sp/>for<sp/>the<sp/>search<sp/>space<sp/>dimensions.</highlight></codeline>
<codeline lineno="364"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize<sp/>(int):<sp/>Population<sp/>size<sp/>used<sp/>for<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="365"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rg<sp/>(numpy.random.Generator):<sp/>Random<sp/>number<sp/>generator<sp/>for<sp/>reproducibility.</highlight></codeline>
<codeline lineno="366"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>F<sp/>(float):<sp/>Control<sp/>parameter<sp/>for<sp/>differential<sp/>weight<sp/>in<sp/>DE<sp/>strategy.</highlight></codeline>
<codeline lineno="367"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cr<sp/>(float):<sp/>Crossover<sp/>probability<sp/>for<sp/>DE<sp/>strategy.</highlight></codeline>
<codeline lineno="368"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pro_c<sp/>(float):<sp/>Probability<sp/>for<sp/>simulated<sp/>binary<sp/>crossover<sp/>(SBX).</highlight></codeline>
<codeline lineno="369"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dis_c<sp/>(float):<sp/>Distribution<sp/>index<sp/>for<sp/>SBX.</highlight></codeline>
<codeline lineno="370"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pro_m<sp/>(float):<sp/>Probability<sp/>for<sp/>polynomial<sp/>mutation.</highlight></codeline>
<codeline lineno="371"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dis_m<sp/>(float):<sp/>Distribution<sp/>index<sp/>for<sp/>polynomial<sp/>mutation.</highlight></codeline>
<codeline lineno="372" refid="classfcmaes_1_1mode_1_1_m_o_d_e" refkind="compound"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nsga_update<sp/>(bool):<sp/>Indicates<sp/>whether<sp/>NSGA-II<sp/>update<sp/>is<sp/>enabled.</highlight></codeline>
<codeline lineno="373"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pareto_update<sp/>(int):<sp/>Determines<sp/>pareto<sp/>update<sp/>intensity;<sp/>allows<sp/>more<sp/>elite<sp/>selection<sp/>if<sp/>greater.</highlight></codeline>
<codeline lineno="374"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_mutate<sp/>(float):<sp/>Minimum<sp/>possible<sp/>mutation<sp/>factor.</highlight></codeline>
<codeline lineno="375"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_mutate<sp/>(float):<sp/>Maximum<sp/>possible<sp/>mutation<sp/>factor.</highlight></codeline>
<codeline lineno="376"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>modifier<sp/>(Callable):<sp/>A<sp/>function<sp/>to<sp/>modify<sp/>variables,<sp/>allowing<sp/>for<sp/>domain-specific<sp/>constraints.</highlight></codeline>
<codeline lineno="377"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ad2876e7272901dcadf387a203a338648" kindref="member">__init__</ref>(self,<sp/></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj:<sp/>int,</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon:<sp/>int,<sp/></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds:<sp/>Bounds,</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize:<sp/>Optional[int]<sp/>=<sp/>64,<sp/></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>F:<sp/>Optional[float]<sp/>=<sp/>0.5,<sp/></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cr:<sp/>Optional[float]<sp/>=<sp/>0.9,<sp/></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pro_c:<sp/>Optional[float]<sp/>=<sp/>0.5,</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dis_c:<sp/>Optional[float]<sp/>=<sp/>15.0,</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pro_m:<sp/>Optional[float]<sp/>=<sp/>0.9,</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dis_m:<sp/>Optional[float]<sp/>=<sp/>20.0,</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nsga_update:<sp/>Optional[bool]<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pareto_update:<sp/>Optional[int]<sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rg:<sp/>Optional[Generator]<sp/>=<sp/>Generator(PCG64DXSM()),</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ints:<sp/>Optional[ArrayLike]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_mutate:<sp/>Optional[float]<sp/>=<sp/>0.1,</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_mutate:<sp/>Optional[float]<sp/>=<sp/>0.5,<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>modifier:<sp/>Callable<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="397"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Initializes<sp/>the<sp/>class<sp/>with<sp/>the<sp/>given<sp/>parameters<sp/>and<sp/>sets<sp/>up<sp/>the<sp/>necessary<sp/>attributes</highlight></codeline>
<codeline lineno="398"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>the<sp/>optimization<sp/>process.<sp/>This<sp/>constructor<sp/>validates<sp/>the<sp/>input<sp/>bounds,<sp/>adjusts</highlight></codeline>
<codeline lineno="399"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>population<sp/>size<sp/>for<sp/>NSGA<sp/>updates,<sp/>and<sp/>sets<sp/>default<sp/>values<sp/>for<sp/>various<sp/>optimization</highlight></codeline>
<codeline lineno="400"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>mutation<sp/>parameters.</highlight></codeline>
<codeline lineno="401"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="402"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="403"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj<sp/>(int):<sp/>The<sp/>number<sp/>of<sp/>objectives<sp/>for<sp/>the<sp/>optimization<sp/>problem.</highlight></codeline>
<codeline lineno="404"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon<sp/>(int):<sp/>The<sp/>number<sp/>of<sp/>constraints<sp/>for<sp/>the<sp/>optimization<sp/>problem.</highlight></codeline>
<codeline lineno="405"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds<sp/>(Bounds):<sp/>The<sp/>lower<sp/>and<sp/>upper<sp/>bounds<sp/>for<sp/>the<sp/>decision<sp/>variables.</highlight></codeline>
<codeline lineno="406"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize<sp/>(Optional[int]):<sp/>The<sp/>size<sp/>of<sp/>the<sp/>population<sp/>for<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="407"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Default<sp/>is<sp/>64.<sp/>Adjusted<sp/>to<sp/>be<sp/>even<sp/>if<sp/>nsga_update<sp/>is<sp/>True.</highlight></codeline>
<codeline lineno="408"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>F<sp/>(Optional[float]):<sp/>Mutation<sp/>factor<sp/>for<sp/>DE-based<sp/>updates.<sp/>Default<sp/>is<sp/>0.5.</highlight></codeline>
<codeline lineno="409"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cr<sp/>(Optional[float]):<sp/>Crossover<sp/>probability<sp/>for<sp/>DE-based<sp/>updates.<sp/>Default<sp/>is<sp/>0.9.</highlight></codeline>
<codeline lineno="410"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pro_c<sp/>(Optional[float]):<sp/>Crossover<sp/>probability<sp/>in<sp/>SBX<sp/>(Simulated<sp/>Binary</highlight></codeline>
<codeline lineno="411"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Crossover).<sp/>Default<sp/>is<sp/>0.5.</highlight></codeline>
<codeline lineno="412"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dis_c<sp/>(Optional[float]):<sp/>Distribution<sp/>index<sp/>for<sp/>SBX.<sp/>Default<sp/>is<sp/>15.0.</highlight></codeline>
<codeline lineno="413"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pro_m<sp/>(Optional[float]):<sp/>Mutation<sp/>probability.<sp/>Default<sp/>is<sp/>0.9.</highlight></codeline>
<codeline lineno="414"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dis_m<sp/>(Optional[float]):<sp/>Distribution<sp/>index<sp/>for<sp/>mutation<sp/>(polynomial).<sp/>Default</highlight></codeline>
<codeline lineno="415"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is<sp/>20.0.</highlight></codeline>
<codeline lineno="416"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nsga_update<sp/>(Optional[bool]):<sp/>Flag<sp/>to<sp/>enable<sp/>NSGA<sp/>(Non-dominated<sp/>Sorting<sp/>Genetic</highlight></codeline>
<codeline lineno="417"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Algorithm)<sp/>update.<sp/>Default<sp/>is<sp/>True.</highlight></codeline>
<codeline lineno="418"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pareto_update<sp/>(Optional[int]):<sp/>Criterion<sp/>for<sp/>updating<sp/>Pareto<sp/>front.<sp/>Default<sp/>is<sp/>0.</highlight></codeline>
<codeline lineno="419"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rg<sp/>(Optional[Generator]):<sp/>Random<sp/>number<sp/>generator<sp/>for<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="420"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Default<sp/>is<sp/>Generator(PCG64DXSM()).</highlight></codeline>
<codeline lineno="421"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ints<sp/>(Optional[ArrayLike]):<sp/>Indices<sp/>of<sp/>integer<sp/>decision<sp/>variables.<sp/>Used<sp/>to</highlight></codeline>
<codeline lineno="422"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>support<sp/>mixed-integer<sp/>optimization.<sp/>Automatically<sp/>disabled<sp/>if<sp/>nsga_update</highlight></codeline>
<codeline lineno="423"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is<sp/>True.</highlight></codeline>
<codeline lineno="424"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_mutate<sp/>(Optional[float]):<sp/>Minimum<sp/>mutation<sp/>rate<sp/>for<sp/>the<sp/>decision<sp/>variables.</highlight></codeline>
<codeline lineno="425"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Default<sp/>is<sp/>0.1.</highlight></codeline>
<codeline lineno="426"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_mutate<sp/>(Optional[float]):<sp/>Maximum<sp/>mutation<sp/>rate<sp/>for<sp/>the<sp/>decision<sp/>variables.</highlight></codeline>
<codeline lineno="427"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Default<sp/>is<sp/>0.5.</highlight></codeline>
<codeline lineno="428"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>modifier<sp/>(Callable):<sp/>Function<sp/>to<sp/>modify<sp/>integer<sp/>decision<sp/>variables.<sp/>If<sp/>not</highlight></codeline>
<codeline lineno="429"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>provided,<sp/>a<sp/>default<sp/>modifier<sp/>is<sp/>used<sp/>when<sp/>integer<sp/>variables<sp/>exist.</highlight></codeline>
<codeline lineno="430"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ad8a88c6e8d55396b806493982cb1cdb5" kindref="member">nobj</ref><sp/>=<sp/>nobj</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a20adacf20c1411e271fe9be8f7504fa5" kindref="member">ncon</ref><sp/>=<sp/>ncon</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a5c09cc3172e92b1253fb3e742cf30366" kindref="member">dim</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a58a39c1931ba9e160e53a6a5bb597214" kindref="member">lower</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a49d3d6a1d92e1681a12bb5770a9f6c31" kindref="member">upper</ref><sp/>=<sp/><ref refid="namespacefcmaes_1_1mode_1a7437cac94470387e12001d7f424393af" kindref="member">_check_bounds</ref>(bounds,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>popsize<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>64</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>popsize<sp/>%<sp/>2<sp/>==<sp/>1<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>nsga_update:<sp/></highlight><highlight class="comment">#<sp/>nsga<sp/>update<sp/>requires<sp/>even<sp/>popsize</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref><sp/>=<sp/>popsize</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76afedce7a0358acd6633c6b6c6241e1" kindref="member">rg</ref><sp/>=<sp/>rg</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa68beb9a07ba893546bb695759b619f0" kindref="member">F0</ref><sp/>=<sp/>F</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ac76f411eb1bbe4b5ae4b3f9925370096" kindref="member">Cr0</ref><sp/>=<sp/>Cr</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a81f79977661c7a4dc09bc7d4e6d891a1" kindref="member">pro_c</ref><sp/>=<sp/>pro_c</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ae93a68cfc0936c62f75b890c9a6b19d1" kindref="member">dis_c</ref><sp/>=<sp/>dis_c</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab1df5291083b159bf2671c038c3e38e1" kindref="member">pro_m</ref><sp/>=<sp/>pro_m</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a2fde79913ea108d6f5b55ef509109ba5" kindref="member">dis_m</ref><sp/>=<sp/>dis_m<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a57cf010ab62e26a06988d5f251c62b6e" kindref="member">nsga_update</ref><sp/>=<sp/>nsga_update</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ac5a6b39d9c5736bfb80c744742609f46" kindref="member">pareto_update</ref><sp/>=<sp/>pareto_update</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a3877c96890ef6ce77a0eb464c9efc9eb" kindref="member">stop</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a2088eee51e00dd89edfdc48c882c99f0" kindref="member">iterations</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76a2bef54f9de04b12fac1cecf6378b8" kindref="member">evals</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ac4814f6a92ab2814c791c23e76d9e1b2" kindref="member">mutex</ref><sp/>=<sp/>mp.Lock()</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a6823b36a4bb5daadeef62ec78b7c2281" kindref="member">p</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>nsga<sp/>update<sp/>doesn&apos;t<sp/>support<sp/>mixed<sp/>integer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1af3cea564c07f1d434bba95c39afc165c" kindref="member">ints</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ints<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>nsga_update)<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>np.array(ints)</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a18459596315b3de8f34a62377c7b006c" kindref="member">min_mutate</ref><sp/>=<sp/>min_mutate</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a7151073081d8ed1d9309c9f44870d035" kindref="member">max_mutate</ref><sp/>=<sp/>max_mutate<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>default<sp/>variable<sp/>modifier<sp/>for<sp/>int<sp/>variables<sp/>if<sp/>modifier<sp/>is<sp/>None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>modifier<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>ints<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a58a39c1931ba9e160e53a6a5bb597214" kindref="member">lower</ref><sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a58a39c1931ba9e160e53a6a5bb597214" kindref="member">lower</ref>.astype(float)</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a49d3d6a1d92e1681a12bb5770a9f6c31" kindref="member">upper</ref><sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a49d3d6a1d92e1681a12bb5770a9f6c31" kindref="member">upper</ref>.astype(float)</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a523b3fbb4e1cebe83a81574fce168104" kindref="member">modifier</ref><sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab6f842a65bbcbab7bc6821c25737d0aa" kindref="member">_modifier</ref></highlight></codeline>
<codeline lineno="462" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ad2876e7272901dcadf387a203a338648" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a523b3fbb4e1cebe83a81574fce168104" kindref="member">modifier</ref><sp/>=<sp/>modifier</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a762479149abbac45c113a9baf627a7d0" kindref="member">_init</ref>()</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1af1ac6ae50db24a626f6649175bfecf96" kindref="member">set_guess</ref>(self,<sp/>guess,<sp/>mofun,<sp/>rg<sp/>=<sp/>None):</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="468"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Sets<sp/>the<sp/>initial<sp/>guess<sp/>values<sp/>for<sp/>an<sp/>optimization<sp/>or<sp/>search<sp/>algorithm.</highlight></codeline>
<codeline lineno="469"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="470"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>function<sp/>allows<sp/>setting<sp/>up<sp/>initial<sp/>guesses<sp/>for<sp/>the<sp/>population<sp/>values</highlight></codeline>
<codeline lineno="471"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>their<sp/>corresponding<sp/>evaluations.<sp/>Users<sp/>can<sp/>provide<sp/>guesses<sp/>as<sp/>either</highlight></codeline>
<codeline lineno="472"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a<sp/>NumPy<sp/>array<sp/>of<sp/>candidate<sp/>solutions<sp/>or<sp/>a<sp/>tuple<sp/>containing<sp/>candidate</highlight></codeline>
<codeline lineno="473"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>solutions<sp/>and<sp/>their<sp/>objective<sp/>function<sp/>evaluations.<sp/>Additionally,<sp/>the</highlight></codeline>
<codeline lineno="474"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>function<sp/>provides<sp/>flexibility<sp/>in<sp/>defining<sp/>a<sp/>random<sp/>number<sp/>generator<sp/>for</highlight></codeline>
<codeline lineno="475"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sampling<sp/>the<sp/>guesses.</highlight></codeline>
<codeline lineno="476"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="477"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="478"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>guess:<sp/>A<sp/>NumPy<sp/>array<sp/>containing<sp/>candidate<sp/>solution<sp/>points,<sp/>or<sp/>a<sp/>tuple</highlight></codeline>
<codeline lineno="479"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(guess,<sp/>ys),<sp/>where<sp/>`guess`<sp/>is<sp/>an<sp/>array<sp/>of<sp/>candidate<sp/>solutions,<sp/>and</highlight></codeline>
<codeline lineno="480" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ad8a88c6e8d55396b806493982cb1cdb5" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>`ys`<sp/>contains<sp/>objective<sp/>evaluations<sp/>corresponding<sp/>to<sp/>these<sp/>solutions.</highlight></codeline>
<codeline lineno="481" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a20adacf20c1411e271fe9be8f7504fa5" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mofun:<sp/>A<sp/>callable<sp/>that<sp/>computes<sp/>the<sp/>objective<sp/>value<sp/>for<sp/>a<sp/>given<sp/>candidate</highlight></codeline>
<codeline lineno="482" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a5c09cc3172e92b1253fb3e742cf30366" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>solution.<sp/>This<sp/>function<sp/>is<sp/>applied<sp/>to<sp/>`guess`<sp/>if<sp/>`guess`<sp/>is<sp/>a</highlight></codeline>
<codeline lineno="483"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NumPy<sp/>array.</highlight></codeline>
<codeline lineno="484"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rg:<sp/>An<sp/>optional<sp/>random<sp/>number<sp/>generator<sp/>(`numpy.random.Generator`)</highlight></codeline>
<codeline lineno="485"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>instance.<sp/>If<sp/>not<sp/>specified,<sp/>a<sp/>default<sp/>generator<sp/>is<sp/>created<sp/>using</highlight></codeline>
<codeline lineno="486"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PCG64DXSM.</highlight></codeline>
<codeline lineno="487" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" refkind="member"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="488" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76afedce7a0358acd6633c6b6c6241e1" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="489" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa68beb9a07ba893546bb695759b619f0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>guess<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="490" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ac76f411eb1bbe4b5ae4b3f9925370096" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(guess,<sp/>np.ndarray):</highlight></codeline>
<codeline lineno="491" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a81f79977661c7a4dc09bc7d4e6d891a1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>np.array([mofun(x)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>guess])</highlight></codeline>
<codeline lineno="492" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ae93a68cfc0936c62f75b890c9a6b19d1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="493" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab1df5291083b159bf2671c038c3e38e1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>guess,<sp/>ys<sp/>=<sp/>guess</highlight></codeline>
<codeline lineno="494" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a2fde79913ea108d6f5b55ef509109ba5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>rg<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="495" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a57cf010ab62e26a06988d5f251c62b6e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rg<sp/>=<sp/>Generator(PCG64DXSM())</highlight></codeline>
<codeline lineno="496" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ac5a6b39d9c5736bfb80c744742609f46" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>choice<sp/>=<sp/>rg.choice(len(ys),<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>,<sp/></highlight></codeline>
<codeline lineno="497" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a3877c96890ef6ce77a0eb464c9efc9eb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>replace<sp/>=<sp/>(len(ys)<sp/>&lt;<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>))</highlight></codeline>
<codeline lineno="498" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a2088eee51e00dd89edfdc48c882c99f0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a8b928c29cf646933a1821566ec18d73a" kindref="member">tell</ref>(ys[choice],<sp/>guess[choice])</highlight></codeline>
<codeline lineno="499" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76a2bef54f9de04b12fac1cecf6378b8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="500" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ac4814f6a92ab2814c791c23e76d9e1b2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a1893dc839f866ab4d22f7fd13489bf73" kindref="member">ask</ref>(self)<sp/>-&gt;<sp/>np.ndarray:</highlight></codeline>
<codeline lineno="501" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a6823b36a4bb5daadeef62ec78b7c2281" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="502"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Generates<sp/>the<sp/>next<sp/>batch<sp/>of<sp/>candidate<sp/>solutions<sp/>and<sp/>updates<sp/>internal<sp/>population.</highlight></codeline>
<codeline lineno="503" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1af3cea564c07f1d434bba95c39afc165c" refkind="member"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="504" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a18459596315b3de8f34a62377c7b006c" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Generates<sp/>new<sp/>solutions<sp/>for<sp/>the<sp/>evolution<sp/>strategy<sp/>by<sp/>iterating<sp/>through<sp/>the</highlight></codeline>
<codeline lineno="505" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a7151073081d8ed1d9309c9f44870d035" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>given<sp/>population<sp/>size,<sp/>updating<sp/>the<sp/>extended<sp/>population<sp/>array<sp/>with<sp/>new<sp/>values.</highlight></codeline>
<codeline lineno="506"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns<sp/>the<sp/>array<sp/>of<sp/>newly<sp/>generated<sp/>solutions<sp/>after<sp/>the<sp/>update.</highlight></codeline>
<codeline lineno="507"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="508"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="509"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np.ndarray:<sp/>The<sp/>newly<sp/>generated<sp/>candidate<sp/>solutions<sp/>array.</highlight></codeline>
<codeline lineno="510" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a523b3fbb4e1cebe83a81574fce168104" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>):</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" kindref="member">x</ref>[p<sp/>+<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>]<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a4e75c17eaa625b8be5fa0ccb0d64bd05" kindref="member">_next_x</ref>(p)</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" kindref="member">x</ref>[self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>:]</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a8b928c29cf646933a1821566ec18d73a" kindref="member">tell</ref>(self,<sp/>ys:<sp/>np.ndarray,<sp/>xs:<sp/>Optional[np.ndarray]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="517"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Updates<sp/>the<sp/>internal<sp/>population<sp/>data<sp/>with<sp/>the<sp/>given<sp/>`ys`<sp/>values,<sp/>and<sp/>optionally,</highlight></codeline>
<codeline lineno="518"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>with<sp/>the<sp/>corresponding<sp/>`xs`<sp/>values,<sp/>if<sp/>provided.<sp/>This<sp/>method<sp/>is<sp/>used<sp/>to<sp/>record</highlight></codeline>
<codeline lineno="519"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new<sp/>evaluations<sp/>for<sp/>individuals<sp/>in<sp/>the<sp/>population<sp/>and<sp/>subsequently<sp/>triggers</highlight></codeline>
<codeline lineno="520"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>population<sp/>update.</highlight></codeline>
<codeline lineno="521"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="522"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="523"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>(np.ndarray):<sp/>Array<sp/>containing<sp/>the<sp/>fitness<sp/>values<sp/>of<sp/>the<sp/>individuals<sp/>to</highlight></codeline>
<codeline lineno="524"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>be<sp/>updated<sp/>in<sp/>the<sp/>population.</highlight></codeline>
<codeline lineno="525"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs<sp/>(Optional[np.ndarray],<sp/>optional):<sp/>Array<sp/>containing<sp/>the<sp/>decision<sp/>variables</highlight></codeline>
<codeline lineno="526"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>of<sp/>individuals<sp/>to<sp/>be<sp/>updated<sp/>in<sp/>the<sp/>population.<sp/>Defaults<sp/>to<sp/>None.</highlight></codeline>
<codeline lineno="527"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>xs<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>):</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" kindref="member">x</ref>[p<sp/>+<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>]<sp/>=<sp/>xs[p]</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>):</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a0dc84c88e30325bfc4bec42ab07cdc51" kindref="member">y</ref>[p<sp/>+<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>]<sp/>=<sp/>ys[p]</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a29791dbcb2e070361529475630de2052" kindref="member">pop_update</ref>()</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a762479149abbac45c113a9baf627a7d0" kindref="member">_init</ref>(self):</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="537" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1af1ac6ae50db24a626f6649175bfecf96" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Initializes<sp/>the<sp/>population<sp/>matrices,<sp/>decision<sp/>variables,<sp/>and<sp/>objective<sp/>values</highlight></codeline>
<codeline lineno="538"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>a<sp/>multi-objective<sp/>optimization<sp/>problem.<sp/>It<sp/>also<sp/>initializes<sp/>auxiliary</highlight></codeline>
<codeline lineno="539"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>variables<sp/>used<sp/>in<sp/>optimization<sp/>algorithms.</highlight></codeline>
<codeline lineno="540"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="541"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Attributes:</highlight></codeline>
<codeline lineno="542"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x:<sp/>numpy.ndarray.<sp/>A<sp/>matrix<sp/>containing<sp/>decision<sp/>variables<sp/>for<sp/>the</highlight></codeline>
<codeline lineno="543"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>population.<sp/>The<sp/>shape<sp/>is<sp/>`(2<sp/>*<sp/>popsize,<sp/>dim)`.</highlight></codeline>
<codeline lineno="544"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y:<sp/>numpy.ndarray.<sp/>A<sp/>matrix<sp/>for<sp/>storing<sp/>objective<sp/>and<sp/>constraint</highlight></codeline>
<codeline lineno="545"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evaluations.<sp/>The<sp/>shape<sp/>is<sp/>`(2<sp/>*<sp/>popsize,<sp/>nobj<sp/>+<sp/>ncon)`.</highlight></codeline>
<codeline lineno="546"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vx:<sp/>numpy.ndarray.<sp/>A<sp/>copy<sp/>of<sp/>the<sp/>initial<sp/>`x`<sp/>matrix,<sp/>used<sp/>for</highlight></codeline>
<codeline lineno="547"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>intermediate<sp/>calculations<sp/>during<sp/>optimization.</highlight></codeline>
<codeline lineno="548"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vp:<sp/>int.<sp/>An<sp/>auxiliary<sp/>variable<sp/>initialized<sp/>to<sp/>0<sp/>for<sp/>optimization<sp/>purposes.</highlight></codeline>
<codeline lineno="549"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ycon:<sp/>None<sp/>or<sp/>type(related<sp/>attribute<sp/>if<sp/>any).<sp/>A<sp/>placeholder<sp/>for<sp/>constraint-related</highlight></codeline>
<codeline lineno="550"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>computations,<sp/>initialized<sp/>as<sp/>None.</highlight></codeline>
<codeline lineno="551"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eps:<sp/>int.<sp/>An<sp/>auxiliary<sp/>variable<sp/>for<sp/>numerical<sp/>stability<sp/>or<sp/>algorithmic</highlight></codeline>
<codeline lineno="552"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>adjustments,<sp/>initialized<sp/>to<sp/>0.</highlight></codeline>
<codeline lineno="553"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" kindref="member">x</ref><sp/>=<sp/>np.empty((2*self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a5c09cc3172e92b1253fb3e742cf30366" kindref="member">dim</ref>))</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a0dc84c88e30325bfc4bec42ab07cdc51" kindref="member">y</ref><sp/>=<sp/>np.empty((2*self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ad8a88c6e8d55396b806493982cb1cdb5" kindref="member">nobj</ref><sp/>+<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a20adacf20c1411e271fe9be8f7504fa5" kindref="member">ncon</ref>))</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>):</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" kindref="member">x</ref>[i]<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a8eb775858ef6da65ce5d71629503e622" kindref="member">_sample</ref>()</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a0dc84c88e30325bfc4bec42ab07cdc51" kindref="member">y</ref>[i]<sp/>=<sp/>np.array([1E99]*(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ad8a88c6e8d55396b806493982cb1cdb5" kindref="member">nobj</ref><sp/>+<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a20adacf20c1411e271fe9be8f7504fa5" kindref="member">ncon</ref>))</highlight></codeline>
<codeline lineno="559" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a1893dc839f866ab4d22f7fd13489bf73" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a0386b1bcd3af523b5d82f8ba797c729d" kindref="member">vx</ref><sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" kindref="member">x</ref>.copy()</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a84feff642eb583f7e1174057703a2c82" kindref="member">vp</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a8824bcdfb8fd5d5e3fc3af5beed5f699" kindref="member">ycon</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a56041c14d6c40485bab6484b46b15cc5" kindref="member">eps</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="563"><highlight class="normal"></highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a3b3a358c6fded3c638706495c88eff1a" kindref="member">minimize_ser</ref>(self,<sp/></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun:<sp/>Callable[[ArrayLike],<sp/>ArrayLike],<sp/></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations:<sp/>Optional[int]<sp/>=<sp/>100000)<sp/>-&gt;<sp/>Tuple[np.ndarray,<sp/>np.ndarray]:</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="568"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Minimizes<sp/>a<sp/>given<sp/>function<sp/>using<sp/>a<sp/>custom<sp/>optimization<sp/>approach<sp/>until<sp/>the<sp/>maximum<sp/>number<sp/>of<sp/>evaluations</highlight></codeline>
<codeline lineno="569"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is<sp/>reached.<sp/>The<sp/>function<sp/>utilizes<sp/>a<sp/>population-based<sp/>strategy<sp/>for<sp/>optimization,<sp/>where<sp/>potential<sp/>solutions</highlight></codeline>
<codeline lineno="570"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>are<sp/>evaluated,<sp/>and<sp/>the<sp/>results<sp/>are<sp/>used<sp/>to<sp/>iteratively<sp/>improve<sp/>the<sp/>population.</highlight></codeline>
<codeline lineno="571"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="572"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="573"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun:<sp/>Callable<sp/>function<sp/>to<sp/>be<sp/>minimized.<sp/>It<sp/>takes<sp/>an<sp/>array-like<sp/>input<sp/>and<sp/>returns<sp/>an<sp/>array-like<sp/>output.</highlight></codeline>
<codeline lineno="574"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations:<sp/>Optional<sp/>maximum<sp/>number<sp/>of<sp/>function<sp/>evaluations<sp/>to<sp/>perform.<sp/>Defaults<sp/>to<sp/>100000.</highlight></codeline>
<codeline lineno="575"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="576" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a8b928c29cf646933a1821566ec18d73a" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="577"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A<sp/>tuple<sp/>consisting<sp/>of<sp/>the<sp/>final<sp/>population<sp/>of<sp/>solutions<sp/>(xs)<sp/>and<sp/>their<sp/>corresponding<sp/>evaluated</highlight></codeline>
<codeline lineno="578"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>results<sp/>(ys).</highlight></codeline>
<codeline lineno="579"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evals<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>evals<sp/>&lt;<sp/>max_evaluations:</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a1893dc839f866ab4d22f7fd13489bf73" kindref="member">ask</ref>()</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>np.array([fun(x)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>xs])</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a8b928c29cf646933a1821566ec18d73a" kindref="member">tell</ref>(ys)</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evals<sp/>+=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref></highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>xs,<sp/>ys</highlight></codeline>
<codeline lineno="587"><highlight class="normal"></highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a6f479d982825465b97c89e528351bf36" kindref="member">minimize_par</ref>(self,<sp/></highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun:<sp/>Callable[[ArrayLike],<sp/>ArrayLike],<sp/></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations:<sp/>Optional[int]<sp/>=<sp/>100000,<sp/></highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers:<sp/>Optional[int]<sp/>=<sp/>mp.cpu_count())<sp/>-&gt;<sp/>Tuple[np.ndarray,<sp/>np.ndarray]:</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="594"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Minimizes<sp/>the<sp/>given<sp/>multi-objective<sp/>function<sp/>in<sp/>parallel,<sp/>using<sp/>a<sp/>specified<sp/>number</highlight></codeline>
<codeline lineno="595"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>of<sp/>workers<sp/>and<sp/>an<sp/>evaluation<sp/>limit.<sp/>This<sp/>method<sp/>leverages<sp/>a<sp/>parallel<sp/>computation</highlight></codeline>
<codeline lineno="596"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>framework<sp/>to<sp/>evaluate<sp/>the<sp/>function<sp/>across<sp/>multiple<sp/>populations<sp/>simultaneously,</highlight></codeline>
<codeline lineno="597"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>improving<sp/>efficiency<sp/>for<sp/>computationally<sp/>expensive<sp/>optimization<sp/>tasks.</highlight></codeline>
<codeline lineno="598"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="599"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="600"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun<sp/>(Callable[[ArrayLike],<sp/>ArrayLike]):<sp/>A<sp/>function<sp/>to<sp/>be<sp/>minimized.<sp/>It<sp/>takes</highlight></codeline>
<codeline lineno="601"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>an<sp/>array-like<sp/>input<sp/>and<sp/>returns<sp/>an<sp/>array-like<sp/>output.</highlight></codeline>
<codeline lineno="602"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations<sp/>(Optional[int]):<sp/>The<sp/>maximum<sp/>number<sp/>of<sp/>function<sp/>evaluations</highlight></codeline>
<codeline lineno="603"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to<sp/>perform.<sp/>Defaults<sp/>to<sp/>100,000<sp/>if<sp/>not<sp/>specified.</highlight></codeline>
<codeline lineno="604"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers<sp/>(Optional[int]):<sp/>The<sp/>number<sp/>of<sp/>parallel<sp/>workers<sp/>to<sp/>use<sp/>for<sp/>function</highlight></codeline>
<codeline lineno="605"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evaluation.<sp/>Defaults<sp/>to<sp/>the<sp/>number<sp/>of<sp/>CPU<sp/>cores<sp/>available.</highlight></codeline>
<codeline lineno="606"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="607"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="608"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tuple[np.ndarray,<sp/>np.ndarray]:<sp/>A<sp/>tuple<sp/>containing<sp/>the<sp/>final<sp/>population<sp/>of</highlight></codeline>
<codeline lineno="609"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>candidate<sp/>solutions<sp/>(xs)<sp/>and<sp/>the<sp/>corresponding<sp/>function<sp/>evaluations<sp/>(ys).</highlight></codeline>
<codeline lineno="610" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a762479149abbac45c113a9baf627a7d0" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="611" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fit<sp/>=<sp/><ref refid="classfcmaes_1_1evaluator_1_1parallel__mo" kindref="compound">parallel_mo</ref>(fun,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ad8a88c6e8d55396b806493982cb1cdb5" kindref="member">nobj</ref><sp/>+<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a20adacf20c1411e271fe9be8f7504fa5" kindref="member">ncon</ref>,<sp/>workers)</highlight></codeline>
<codeline lineno="612" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a0dc84c88e30325bfc4bec42ab07cdc51" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evals<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>evals<sp/>&lt;<sp/>max_evaluations:</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a1893dc839f866ab4d22f7fd13489bf73" kindref="member">ask</ref>()</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>fit(xs)</highlight></codeline>
<codeline lineno="616" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a0386b1bcd3af523b5d82f8ba797c729d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a8b928c29cf646933a1821566ec18d73a" kindref="member">tell</ref>(ys)</highlight></codeline>
<codeline lineno="617" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a84feff642eb583f7e1174057703a2c82" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evals<sp/>+=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref></highlight></codeline>
<codeline lineno="618" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a8824bcdfb8fd5d5e3fc3af5beed5f699" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fit.stop()</highlight></codeline>
<codeline lineno="619" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a56041c14d6c40485bab6484b46b15cc5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>xs,<sp/>ys</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a29791dbcb2e070361529475630de2052" kindref="member">pop_update</ref>(self):</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="623"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Updates<sp/>the<sp/>population<sp/>by<sp/>performing<sp/>non-dominated<sp/>sorting,<sp/>crowding<sp/>distance<sp/>sorting,</highlight></codeline>
<codeline lineno="624"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>variation<sp/>for<sp/>optimization<sp/>purposes.<sp/>This<sp/>function<sp/>presorts<sp/>objective<sp/>values<sp/>if</highlight></codeline>
<codeline lineno="625"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>only<sp/>one<sp/>objective<sp/>exists,<sp/>reallocates<sp/>population<sp/>members<sp/>based<sp/>on<sp/>domination<sp/>level,</highlight></codeline>
<codeline lineno="626"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>sorts<sp/>for<sp/>crowding<sp/>when<sp/>necessary.<sp/>It<sp/>also<sp/>applies<sp/>variation<sp/>operators<sp/>to<sp/>update</highlight></codeline>
<codeline lineno="627"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>population<sp/>diversity.</highlight></codeline>
<codeline lineno="628"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="629"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="630"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ValueError:<sp/>If<sp/>the<sp/>total<sp/>population<sp/>size<sp/>exceeds<sp/>the<sp/>specified<sp/>`popsize`.</highlight></codeline>
<codeline lineno="631"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="632"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="633"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="634" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a3b3a358c6fded3c638706495c88eff1a" refkind="member"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="635"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="636"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="637"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y0<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a0dc84c88e30325bfc4bec42ab07cdc51" kindref="member">y</ref></highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x0<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" kindref="member">x</ref></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ad8a88c6e8d55396b806493982cb1cdb5" kindref="member">nobj</ref><sp/>==<sp/>1:</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yi<sp/>=<sp/>np.flip(np.argsort(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a0dc84c88e30325bfc4bec42ab07cdc51" kindref="member">y</ref>[:,0]))</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y0<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a0dc84c88e30325bfc4bec42ab07cdc51" kindref="member">y</ref>[yi]</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x0<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" kindref="member">x</ref>[yi]<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>domination,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a8824bcdfb8fd5d5e3fc3af5beed5f699" kindref="member">ycon</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a56041c14d6c40485bab6484b46b15cc5" kindref="member">eps</ref><sp/>=<sp/><ref refid="namespacefcmaes_1_1mode_1aee5b0cd4fba6d7edff0afe48a8bc636a" kindref="member">pareto_domination</ref>(y0,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ad8a88c6e8d55396b806493982cb1cdb5" kindref="member">nobj</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a20adacf20c1411e271fe9be8f7504fa5" kindref="member">ncon</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a8824bcdfb8fd5d5e3fc3af5beed5f699" kindref="member">ycon</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a56041c14d6c40485bab6484b46b15cc5" kindref="member">eps</ref>)</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>maxdom<sp/>=<sp/>int(max(domination))</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>dom<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(maxdom,<sp/>-1,<sp/>-1):</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>domlevel<sp/>=<sp/>[p<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(domination))<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>domination[p]<sp/>==<sp/>dom]</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(domlevel)<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(x)<sp/>+<sp/>len(domlevel)<sp/>&lt;=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>:</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>whole<sp/>level<sp/>fits</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>=<sp/>[*x,<sp/>*x0[domlevel]]</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>=<sp/>[*y,<sp/>*y0[domlevel]]</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/></highlight><highlight class="comment">#<sp/>sort<sp/>for<sp/>crowding</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nx<sp/>=<sp/>x0[domlevel]</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ny<sp/>=<sp/>y0[domlevel]<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>si<sp/>=<sp/>[0]</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(ny)<sp/>&gt;<sp/>1:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd<sp/>=<sp/><ref refid="namespacefcmaes_1_1mode_1a0f27ab476c153a96dba3568003ab075a" kindref="member">crowd_dist</ref>(ny)</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>si<sp/>=<sp/>np.flip(np.argsort(cd))</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>si:</highlight></codeline>
<codeline lineno="664" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a6f479d982825465b97c89e528351bf36" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(x)<sp/>&gt;=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>:</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x.append(nx[p])</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y.append(ny[p])</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">#<sp/>we<sp/>have<sp/>filled<sp/>popsize<sp/>members<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" kindref="member">x</ref>[:self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>]<sp/>=<sp/>x[:self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>]</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a0dc84c88e30325bfc4bec42ab07cdc51" kindref="member">y</ref>[:self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>]<sp/>=<sp/>y[:self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>]</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a57cf010ab62e26a06988d5f251c62b6e" kindref="member">nsga_update</ref>:</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a0386b1bcd3af523b5d82f8ba797c729d" kindref="member">vx</ref><sp/>=<sp/><ref refid="namespacefcmaes_1_1mode_1afba15234474d356adb0ed83aa94f73a6" kindref="member">variation</ref>(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" kindref="member">x</ref>[:self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>],<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a58a39c1931ba9e160e53a6a5bb597214" kindref="member">lower</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a49d3d6a1d92e1681a12bb5770a9f6c31" kindref="member">upper</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76afedce7a0358acd6633c6b6c6241e1" kindref="member">rg</ref>,<sp/></highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pro_c<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a81f79977661c7a4dc09bc7d4e6d891a1" kindref="member">pro_c</ref>,<sp/>dis_c<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ae93a68cfc0936c62f75b890c9a6b19d1" kindref="member">dis_c</ref>,<sp/>pro_m<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab1df5291083b159bf2671c038c3e38e1" kindref="member">pro_m</ref>,<sp/>dis_m<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a2fde79913ea108d6f5b55ef509109ba5" kindref="member">dis_m</ref>)<sp/></highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a4e75c17eaa625b8be5fa0ccb0d64bd05" kindref="member">_next_x</ref>(self,<sp/>p):</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="677"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Determines<sp/>the<sp/>next<sp/>candidate<sp/>solution<sp/>vector<sp/>based<sp/>on<sp/>the<sp/>current<sp/>population</highlight></codeline>
<codeline lineno="678"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>the<sp/>DE<sp/>(Differential<sp/>Evolution)<sp/>strategy,<sp/>including<sp/>NSGA-II<sp/>or<sp/>standard</highlight></codeline>
<codeline lineno="679"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DE/pareto/1<sp/>strategies.</highlight></codeline>
<codeline lineno="680"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="681"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>function<sp/>applies<sp/>specific<sp/>update<sp/>strategies<sp/>to<sp/>generate<sp/>a<sp/>feasible<sp/>vector</highlight></codeline>
<codeline lineno="682"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>that<sp/>follows<sp/>the<sp/>optimization<sp/>constraints<sp/>and<sp/>the<sp/>mutation/crossover</highlight></codeline>
<codeline lineno="683"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mechanism.<sp/>Depending<sp/>on<sp/>the<sp/>selected<sp/>strategy,<sp/>it<sp/>either<sp/>takes<sp/>from<sp/>an<sp/>elite</highlight></codeline>
<codeline lineno="684"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subset<sp/>or<sp/>uses<sp/>various<sp/>sampling<sp/>methods<sp/>from<sp/>the<sp/>entire<sp/>population.</highlight></codeline>
<codeline lineno="685"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Differentiation<sp/>is<sp/>performed<sp/>using<sp/>a<sp/>weighted<sp/>mutation<sp/>process<sp/>on<sp/>other</highlight></codeline>
<codeline lineno="686"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>population<sp/>members.</highlight></codeline>
<codeline lineno="687"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="688"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="689"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>(int):<sp/>Index<sp/>of<sp/>the<sp/>current<sp/>individual<sp/>in<sp/>the<sp/>population<sp/>that<sp/>is<sp/>being</highlight></codeline>
<codeline lineno="690"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>processed.</highlight></codeline>
<codeline lineno="691"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="692"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="693"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numpy.ndarray:<sp/>A<sp/>feasible<sp/>vector<sp/>based<sp/>on<sp/>the<sp/>mutation<sp/>and<sp/>crossover</highlight></codeline>
<codeline lineno="694" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a29791dbcb2e070361529475630de2052" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>operations,<sp/>bounded<sp/>within<sp/>the<sp/>defined<sp/>lower<sp/>and<sp/>upper<sp/>limits.</highlight></codeline>
<codeline lineno="695"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a57cf010ab62e26a06988d5f251c62b6e" kindref="member">nsga_update</ref>:<sp/></highlight><highlight class="comment">#<sp/>use<sp/>NSGA-II<sp/>update<sp/>strategy.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a0386b1bcd3af523b5d82f8ba797c729d" kindref="member">vx</ref>[self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a84feff642eb583f7e1174057703a2c82" kindref="member">vp</ref>]</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a84feff642eb583f7e1174057703a2c82" kindref="member">vp</ref><sp/>=<sp/>(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a84feff642eb583f7e1174057703a2c82" kindref="member">vp</ref><sp/>+<sp/>1)<sp/>%<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref><sp/></highlight><highlight class="comment">#<sp/>only<sp/>use<sp/>the<sp/>elite</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>standard<sp/>DE/pareto/1<sp/>strategy.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>p<sp/>==<sp/>0:<sp/></highlight><highlight class="comment">#<sp/>switch<sp/>FR<sp/>/<sp/>CR<sp/>every<sp/>generation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a2088eee51e00dd89edfdc48c882c99f0" kindref="member">iterations</ref><sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a6afc083457c056ab0bf0612e1b71b647" kindref="member">Cr</ref><sp/>=<sp/>0.5*self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ac76f411eb1bbe4b5ae4b3f9925370096" kindref="member">Cr0</ref><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a2088eee51e00dd89edfdc48c882c99f0" kindref="member">iterations</ref><sp/>%<sp/>2<sp/>==<sp/>0<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ac76f411eb1bbe4b5ae4b3f9925370096" kindref="member">Cr0</ref></highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1adf37ab4f0a77200880ad47b5387b9266" kindref="member">F</ref><sp/>=<sp/>0.5*self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa68beb9a07ba893546bb695759b619f0" kindref="member">F0</ref><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a2088eee51e00dd89edfdc48c882c99f0" kindref="member">iterations</ref><sp/>%<sp/>2<sp/>==<sp/>0<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa68beb9a07ba893546bb695759b619f0" kindref="member">F0</ref></highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ac5a6b39d9c5736bfb80c744742609f46" kindref="member">pareto_update</ref><sp/>&gt;<sp/>0:<sp/></highlight><highlight class="comment">#<sp/>sample<sp/>elite<sp/>solutions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r1,<sp/>r2<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76afedce7a0358acd6633c6b6c6241e1" kindref="member">rg</ref>.integers(0,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>,<sp/>2)</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rb<sp/>=<sp/>int(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref><sp/>*<sp/>(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76afedce7a0358acd6633c6b6c6241e1" kindref="member">rg</ref>.random()<sp/>**<sp/>(1.0<sp/>+<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ac5a6b39d9c5736bfb80c744742609f46" kindref="member">pareto_update</ref>)))</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>sample<sp/>from<sp/>whole<sp/>population</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r1,<sp/>r2,<sp/>rb<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76afedce7a0358acd6633c6b6c6241e1" kindref="member">rg</ref>.integers(0,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab0225e759a59fcf9af44411a93f195d6" kindref="member">popsize</ref>,<sp/>3)</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>r1<sp/>!=<sp/>p<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>r1<sp/>!=<sp/>rb<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>r1<sp/>!=<sp/>r2<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>r2<sp/>!=<sp/>rb<sp/>\</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>r2<sp/>!=<sp/>p<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>rb<sp/>!=<sp/>p:</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xp<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" kindref="member">x</ref>[p]</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xb<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" kindref="member">x</ref>[rb]</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x1<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" kindref="member">x</ref>[r1]</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x2<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa0b5e8c7849badf7439bb4cd3ab1bfea" kindref="member">x</ref>[r2]</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa3f08e7e3d5e33149762ebf261b6c719" kindref="member">_feasible</ref>(xb<sp/>+<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1adf37ab4f0a77200880ad47b5387b9266" kindref="member">F</ref><sp/>*<sp/>(x1<sp/>-<sp/>x2))</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76afedce7a0358acd6633c6b6c6241e1" kindref="member">rg</ref>.integers(0,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a5c09cc3172e92b1253fb3e742cf30366" kindref="member">dim</ref>)</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tr<sp/>=<sp/>np.array(</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[i<sp/>!=<sp/>r<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76afedce7a0358acd6633c6b6c6241e1" kindref="member">rg</ref>.random()<sp/>&gt;<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a6afc083457c056ab0bf0612e1b71b647" kindref="member">Cr</ref><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a5c09cc3172e92b1253fb3e742cf30366" kindref="member">dim</ref>)])<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x[tr]<sp/>=<sp/>xp[tr]<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a523b3fbb4e1cebe83a81574fce168104" kindref="member">modifier</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a523b3fbb4e1cebe83a81574fce168104" kindref="member">modifier</ref>(x)<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x.clip(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a58a39c1931ba9e160e53a6a5bb597214" kindref="member">lower</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a49d3d6a1d92e1681a12bb5770a9f6c31" kindref="member">upper</ref>)</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a8eb775858ef6da65ce5d71629503e622" kindref="member">_sample</ref>(self):</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="730"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Generates<sp/>a<sp/>sampled<sp/>value<sp/>based<sp/>on<sp/>specific<sp/>distribution<sp/>boundaries.</highlight></codeline>
<codeline lineno="731"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="732"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>If<sp/>the<sp/>`upper`<sp/>attribute<sp/>is<sp/>not<sp/>defined,<sp/>a<sp/>normal<sp/>distribution<sp/>value<sp/>is</highlight></codeline>
<codeline lineno="733"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sampled.<sp/>Otherwise,<sp/>a<sp/>uniform<sp/>distribution<sp/>value<sp/>is<sp/>sampled<sp/>between</highlight></codeline>
<codeline lineno="734"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>`lower`<sp/>and<sp/>`upper`<sp/>attributes.</highlight></codeline>
<codeline lineno="735"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="736"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="737"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>float:<sp/>A<sp/>sampled<sp/>value<sp/>from<sp/>the<sp/>appropriate<sp/>distribution.</highlight></codeline>
<codeline lineno="738"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a49d3d6a1d92e1681a12bb5770a9f6c31" kindref="member">upper</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76afedce7a0358acd6633c6b6c6241e1" kindref="member">rg</ref>.<ref refid="evaluator_8h_1a231544ac51b3f9312c104a3b7a3c49a6" kindref="member">normal</ref>()</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76afedce7a0358acd6633c6b6c6241e1" kindref="member">rg</ref>.<ref refid="evaluator_8h_1ad408c1ac0c479863b2d1291c483c5593" kindref="member">uniform</ref>(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a58a39c1931ba9e160e53a6a5bb597214" kindref="member">lower</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a49d3d6a1d92e1681a12bb5770a9f6c31" kindref="member">upper</ref>)</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa3f08e7e3d5e33149762ebf261b6c719" kindref="member">_feasible</ref>(self,<sp/>x):</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="746"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Ensures<sp/>that<sp/>the<sp/>input<sp/>value<sp/>x<sp/>is<sp/>constrained<sp/>within<sp/>the<sp/>specified<sp/>bounds,</highlight></codeline>
<codeline lineno="747"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>bounds<sp/>are<sp/>defined.<sp/>If<sp/>an<sp/>upper<sp/>bound<sp/>is<sp/>not<sp/>specified,<sp/>the<sp/>original</highlight></codeline>
<codeline lineno="748"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>is<sp/>returned.</highlight></codeline>
<codeline lineno="749"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="750"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="751"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x:<sp/>The<sp/>input<sp/>value<sp/>to<sp/>be<sp/>checked<sp/>or<sp/>clipped.</highlight></codeline>
<codeline lineno="752"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="753"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="754" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a4e75c17eaa625b8be5fa0ccb0d64bd05" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>input<sp/>value<sp/>x,<sp/>clipped<sp/>between<sp/>the<sp/>lower<sp/>and<sp/>upper<sp/>bounds<sp/>if</highlight></codeline>
<codeline lineno="755"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds<sp/>are<sp/>defined,<sp/>or<sp/>the<sp/>original<sp/>value<sp/>if<sp/>no<sp/>bounds<sp/>are<sp/>present.</highlight></codeline>
<codeline lineno="756"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a49d3d6a1d92e1681a12bb5770a9f6c31" kindref="member">upper</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>np.clip(x,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a58a39c1931ba9e160e53a6a5bb597214" kindref="member">lower</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a49d3d6a1d92e1681a12bb5770a9f6c31" kindref="member">upper</ref>)</highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="762" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a6afc083457c056ab0bf0612e1b71b647" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>default<sp/>modifier<sp/>for<sp/>integer<sp/>variables</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="763" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1adf37ab4f0a77200880ad47b5387b9266" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab6f842a65bbcbab7bc6821c25737d0aa" kindref="member">_modifier</ref>(self,<sp/>x):</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="765"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Modifies<sp/>the<sp/>given<sp/>input<sp/>array<sp/>by<sp/>mutating<sp/>certain<sp/>integer<sp/>variables<sp/>based<sp/>on</highlight></codeline>
<codeline lineno="766"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a<sp/>specified<sp/>mutation<sp/>probability.</highlight></codeline>
<codeline lineno="767"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="768"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="769"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>(np.ndarray):<sp/>The<sp/>input<sp/>array<sp/>to<sp/>be<sp/>modified.</highlight></codeline>
<codeline lineno="770"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="771"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="772"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np.ndarray:<sp/>The<sp/>modified<sp/>array<sp/>after<sp/>applying<sp/>integer<sp/>mutations.</highlight></codeline>
<codeline lineno="773"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x_ints<sp/>=<sp/>x[self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1af3cea564c07f1d434bba95c39afc165c" kindref="member">ints</ref>]</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n_ints<sp/>=<sp/>len(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1af3cea564c07f1d434bba95c39afc165c" kindref="member">ints</ref>)</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lb<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a58a39c1931ba9e160e53a6a5bb597214" kindref="member">lower</ref>[self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1af3cea564c07f1d434bba95c39afc165c" kindref="member">ints</ref>]</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ub<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a49d3d6a1d92e1681a12bb5770a9f6c31" kindref="member">upper</ref>[self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1af3cea564c07f1d434bba95c39afc165c" kindref="member">ints</ref>]</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to_mutate<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76afedce7a0358acd6633c6b6c6241e1" kindref="member">rg</ref>.<ref refid="evaluator_8h_1ad408c1ac0c479863b2d1291c483c5593" kindref="member">uniform</ref>(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a18459596315b3de8f34a62377c7b006c" kindref="member">min_mutate</ref>,<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a7151073081d8ed1d9309c9f44870d035" kindref="member">max_mutate</ref>)</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>mututate<sp/>some<sp/>integer<sp/>variables</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x_ints<sp/>=<sp/>np.array([x<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76afedce7a0358acd6633c6b6c6241e1" kindref="member">rg</ref>.random()<sp/>&gt;<sp/>to_mutate/n_ints<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int(self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a76afedce7a0358acd6633c6b6c6241e1" kindref="member">rg</ref>.<ref refid="evaluator_8h_1ad408c1ac0c479863b2d1291c483c5593" kindref="member">uniform</ref>(lb[i],<sp/>ub[i]))</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i,<sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>enumerate(x_ints)])</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aefce54c9125b2799dd00564d8b32a654" kindref="member">_is_dominated</ref>(self,<sp/>y,<sp/>p):</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="787"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Determines<sp/>whether<sp/>a<sp/>given<sp/>solution<sp/>vector<sp/>is<sp/>dominated<sp/>by<sp/>another<sp/>solution</highlight></codeline>
<codeline lineno="788"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vector<sp/>in<sp/>a<sp/>multi-objective<sp/>optimization<sp/>context.</highlight></codeline>
<codeline lineno="789"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="790"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="791"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y:<sp/>A<sp/>sequence<sp/>representing<sp/>the<sp/>solution<sp/>vector<sp/>to<sp/>be<sp/>checked.</highlight></codeline>
<codeline lineno="792"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p:<sp/>An<sp/>integer<sp/>index<sp/>identifying<sp/>the<sp/>row<sp/>number<sp/>of<sp/>the<sp/>comparison<sp/>vector</highlight></codeline>
<codeline lineno="793"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>the<sp/>multi-objective<sp/>dataset.</highlight></codeline>
<codeline lineno="794"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="795"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="796"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bool:<sp/>True<sp/>if<sp/>the<sp/>solution<sp/>vector<sp/>`y`<sp/>is<sp/>dominated<sp/>by<sp/>the<sp/>vector<sp/>located</highlight></codeline>
<codeline lineno="797"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>at<sp/>index<sp/>`p`<sp/>in<sp/>the<sp/>dataset,<sp/>otherwise<sp/>False.</highlight></codeline>
<codeline lineno="798"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="799" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a8eb775858ef6da65ce5d71629503e622" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>np.all(np.fromiter((y[i]<sp/>&gt;=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1_m_o_d_e_1a0dc84c88e30325bfc4bec42ab07cdc51" kindref="member">y</ref>[p,<sp/>i]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(y))),<sp/>dtype=bool))</highlight></codeline>
<codeline lineno="800"><highlight class="normal"></highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="802"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1mode_1a7437cac94470387e12001d7f424393af" kindref="member">_check_bounds</ref>(bounds,<sp/>dim):</highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="804"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Validates<sp/>and<sp/>processes<sp/>the<sp/>provided<sp/>bounds<sp/>and<sp/>dimension<sp/>information<sp/>to<sp/>ensure<sp/>that</highlight></codeline>
<codeline lineno="805"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>either<sp/>valid<sp/>bounds<sp/>or<sp/>dimension<sp/>are<sp/>available.<sp/>Converts<sp/>bounds<sp/>to<sp/>Numpy<sp/>arrays<sp/>if<sp/>they</highlight></codeline>
<codeline lineno="806"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>are<sp/>provided,<sp/>and<sp/>determines<sp/>the<sp/>dimensionality<sp/>based<sp/>on<sp/>the<sp/>input.</highlight></codeline>
<codeline lineno="807"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="808"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="809"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds:<sp/>Object<sp/>that<sp/>defines<sp/>lower<sp/>and<sp/>upper<sp/>bounds.<sp/>If<sp/>provided,<sp/>its<sp/>&apos;lb&apos;<sp/>and<sp/>&apos;ub&apos;</highlight></codeline>
<codeline lineno="810"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>attributes<sp/>are<sp/>processed.</highlight></codeline>
<codeline lineno="811"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dim:<sp/>An<sp/>integer<sp/>representing<sp/>the<sp/>dimensionality<sp/>of<sp/>the<sp/>data<sp/>or<sp/>the<sp/>length<sp/>of<sp/>bounds.</highlight></codeline>
<codeline lineno="812"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="813"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="814"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A<sp/>tuple<sp/>containing:</highlight></codeline>
<codeline lineno="815"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>int:<sp/>The<sp/>dimensionality<sp/>derived<sp/>from<sp/>bounds<sp/>or<sp/>directly<sp/>from<sp/>the<sp/>`dim`.</highlight></codeline>
<codeline lineno="816"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>numpy.ndarray<sp/>or<sp/>None:<sp/>Lower<sp/>bounds<sp/>as<sp/>a<sp/>NumPy<sp/>array,<sp/>or<sp/>None<sp/>if<sp/>not<sp/>provided.</highlight></codeline>
<codeline lineno="817"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>numpy.ndarray<sp/>or<sp/>None:<sp/>Upper<sp/>bounds<sp/>as<sp/>a<sp/>NumPy<sp/>array,<sp/>or<sp/>None<sp/>if<sp/>not<sp/>provided.</highlight></codeline>
<codeline lineno="818"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="819" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aa3f08e7e3d5e33149762ebf261b6c719" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="820"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ValueError:<sp/>If<sp/>both<sp/>`dim`<sp/>and<sp/>`bounds`<sp/>are<sp/>None.</highlight></codeline>
<codeline lineno="821"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>bounds<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>dim<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;either<sp/>dim<sp/>or<sp/>bounds<sp/>need<sp/>to<sp/>be<sp/>defined&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>bounds<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>dim,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>len(bounds.ub),<sp/>np.asarray(bounds.lb),<sp/>np.asarray(bounds.ub)</highlight></codeline>
<codeline lineno="828"><highlight class="normal"></highlight></codeline>
<codeline lineno="829"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1mode_1a4421a58b8727b0b72ab4aaff9f3494b3" kindref="member">_filter</ref>(x,<sp/>y):</highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="831"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Filters<sp/>and<sp/>sorts<sp/>input<sp/>arrays<sp/>based<sp/>on<sp/>specific<sp/>conditions.</highlight></codeline>
<codeline lineno="832"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="833"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>processes<sp/>two<sp/>input<sp/>arrays<sp/>`x`<sp/>and<sp/>`y`.<sp/>It<sp/>first<sp/>determines<sp/>the</highlight></codeline>
<codeline lineno="834"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>maximum<sp/>value<sp/>along<sp/>the<sp/>first<sp/>axis<sp/>of<sp/>`y`,<sp/>sorts<sp/>both<sp/>arrays<sp/>based<sp/>on<sp/>this</highlight></codeline>
<codeline lineno="835"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>criterion,<sp/>and<sp/>then<sp/>applies<sp/>additional<sp/>filtering<sp/>conditions<sp/>on<sp/>`y`<sp/>to<sp/>exclude</highlight></codeline>
<codeline lineno="836"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>specific<sp/>rows.</highlight></codeline>
<codeline lineno="837"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="838" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1ab6f842a65bbcbab7bc6821c25737d0aa" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="839"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x:<sp/>The<sp/>input<sp/>array<sp/>to<sp/>be<sp/>processed<sp/>and<sp/>filtered.</highlight></codeline>
<codeline lineno="840"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y:<sp/>A<sp/>2D<sp/>array<sp/>whose<sp/>maximum<sp/>values<sp/>along<sp/>the<sp/>first<sp/>axis<sp/>determine<sp/>the</highlight></codeline>
<codeline lineno="841"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sorting<sp/>order,<sp/>and<sp/>which<sp/>is<sp/>filtered<sp/>according<sp/>to<sp/>additional</highlight></codeline>
<codeline lineno="842"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>conditions.</highlight></codeline>
<codeline lineno="843"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="844"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="845"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A<sp/>tuple<sp/>containing:</highlight></codeline>
<codeline lineno="846"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>The<sp/>filtered<sp/>and<sp/>sorted<sp/>version<sp/>of<sp/>the<sp/>input<sp/>array<sp/>`x`.</highlight></codeline>
<codeline lineno="847"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>The<sp/>filtered<sp/>and<sp/>sorted<sp/>version<sp/>of<sp/>the<sp/>array<sp/>`y`.</highlight></codeline>
<codeline lineno="848"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/>ym<sp/>=<sp/>np.amax(y,axis=1)</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/>sorted<sp/>=<sp/>np.argsort(ym)</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/>x<sp/>=<sp/>x[sorted]</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/>y<sp/>=<sp/>y[sorted]</highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/>y<sp/>=<sp/>np.array([yi<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>yi<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>y<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>yi[0]<sp/>&lt;<sp/>1E99])</highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/>x<sp/>=<sp/>np.array(x[:len(y)])</highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x,y</highlight></codeline>
<codeline lineno="856"><highlight class="normal"></highlight></codeline>
<codeline lineno="857"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1mode_1a64da91b9fe11c4db2c528851fe65f4e4" kindref="member">objranks</ref>(objs):</highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="859"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Computes<sp/>the<sp/>rank<sp/>of<sp/>objects<sp/>based<sp/>on<sp/>their<sp/>sum<sp/>of<sp/>ranks<sp/>across<sp/>all<sp/>columns.</highlight></codeline>
<codeline lineno="860"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="861"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>function<sp/>calculates<sp/>the<sp/>rank<sp/>of<sp/>each<sp/>object<sp/>in<sp/>each<sp/>column,<sp/>then<sp/>sums<sp/>these</highlight></codeline>
<codeline lineno="862"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>ranks<sp/>across<sp/>the<sp/>columns<sp/>to<sp/>produce<sp/>a<sp/>single<sp/>rank<sp/>value<sp/>for<sp/>each<sp/>object.</highlight></codeline>
<codeline lineno="863"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="864"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="865" refid="classfcmaes_1_1mode_1_1_m_o_d_e_1aefce54c9125b2799dd00564d8b32a654" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>objs<sp/>(numpy.ndarray):<sp/>A<sp/>2-dimensional<sp/>numpy<sp/>array<sp/>where<sp/>each<sp/>row<sp/>represents</highlight></codeline>
<codeline lineno="866"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>an<sp/>object,<sp/>and<sp/>each<sp/>column<sp/>represents<sp/>a<sp/>category<sp/>or<sp/>feature.</highlight></codeline>
<codeline lineno="867"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="868"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="869"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numpy.ndarray:<sp/>A<sp/>1-dimensional<sp/>numpy<sp/>array<sp/>containing<sp/>the<sp/>computed<sp/>rank</highlight></codeline>
<codeline lineno="870"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>each<sp/>object<sp/>based<sp/>on<sp/>the<sp/>sum<sp/>of<sp/>its<sp/>ranks<sp/>across<sp/>all<sp/>columns.</highlight></codeline>
<codeline lineno="871"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/>ci<sp/>=<sp/>objs.argsort(axis=0)</highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/>rank<sp/>=<sp/>np.empty_like(ci)</highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/>ar<sp/>=<sp/>np.arange(objs.shape[0])</highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(objs.shape[1]):<sp/></highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rank[ci[:,i],<sp/>i]<sp/>=<sp/>ar<sp/></highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/>rank<sp/>=<sp/>np.sum(rank,<sp/>axis=1)</highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rank</highlight></codeline>
<codeline lineno="879"><highlight class="normal"></highlight></codeline>
<codeline lineno="880"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1mode_1af072da864e0f91afc47942de9a8901a5" kindref="member">ranks</ref>(cons,<sp/>feasible,<sp/>eps):</highlight></codeline>
<codeline lineno="881"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="882"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Computes<sp/>the<sp/>ranks<sp/>of<sp/>constraint<sp/>values,<sp/>adjusted<sp/>by<sp/>their<sp/>feasibility<sp/>and<sp/>scaled<sp/>by<sp/>the</highlight></codeline>
<codeline lineno="883"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>fraction<sp/>of<sp/>violations<sp/>for<sp/>each<sp/>constraint.</highlight></codeline>
<codeline lineno="884"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="885"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="886"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cons<sp/>(numpy.ndarray):<sp/>A<sp/>2D<sp/>array<sp/>of<sp/>constraint<sp/>values<sp/>where<sp/>rows<sp/>represent<sp/>different</highlight></codeline>
<codeline lineno="887"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>samples<sp/>and<sp/>columns<sp/>represent<sp/>different<sp/>constraints.</highlight></codeline>
<codeline lineno="888"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>feasible<sp/>(numpy.ndarray):<sp/>A<sp/>1D<sp/>boolean<sp/>array<sp/>indicating<sp/>whether<sp/>each<sp/>row<sp/>(sample)<sp/>in</highlight></codeline>
<codeline lineno="889"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>`cons`<sp/>is<sp/>feasible<sp/>(True)<sp/>or<sp/>not<sp/>(False).</highlight></codeline>
<codeline lineno="890" refid="namespacefcmaes_1_1mode_1a7437cac94470387e12001d7f424393af" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eps<sp/>(float):<sp/>A<sp/>scalar<sp/>threshold<sp/>value<sp/>used<sp/>to<sp/>determine<sp/>the<sp/>violation<sp/>of<sp/>constraints.</highlight></codeline>
<codeline lineno="891"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="892"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="893"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numpy.ndarray:<sp/>A<sp/>1D<sp/>array<sp/>that<sp/>contains<sp/>the<sp/>computed<sp/>rank<sp/>for<sp/>each<sp/>sample<sp/>in<sp/>`cons`.</highlight></codeline>
<codeline lineno="894"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/>ci<sp/>=<sp/>cons.argsort(axis=0)</highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/>rank<sp/>=<sp/>np.empty_like(ci)</highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/>ar<sp/>=<sp/>np.arange(cons.shape[0])</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(cons.shape[1]):<sp/></highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rank[ci[:,i],<sp/>i]<sp/>=<sp/>ar</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/>rank[feasible]<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/>alpha<sp/>=<sp/>np.sum(np.greater(cons,<sp/>eps),<sp/>axis=1)<sp/>/<sp/>cons.shape[1]<sp/></highlight><highlight class="comment">#<sp/>violations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/><sp/><sp/>alpha<sp/>=<sp/>np.tile(alpha,<sp/>(cons.shape[1],1)).T</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/>rank<sp/>=<sp/>rank*alpha</highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/>rank<sp/>=<sp/>np.sum(rank,<sp/>axis=1)</highlight></codeline>
<codeline lineno="905"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rank</highlight></codeline>
<codeline lineno="906"><highlight class="normal"></highlight></codeline>
<codeline lineno="907"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1mode_1aa9045b5ff7e2451881af650c926cc04c" kindref="member">get_valid</ref>(xs,<sp/>ys,<sp/>nobj):</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="909"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Filters<sp/>the<sp/>input<sp/>data<sp/>based<sp/>on<sp/>a<sp/>validity<sp/>condition<sp/>and<sp/>returns<sp/>the<sp/>valid<sp/>elements.</highlight></codeline>
<codeline lineno="910"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="911"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="912"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs:<sp/>Array-like<sp/>structure<sp/>containing<sp/>input<sp/>data.</highlight></codeline>
<codeline lineno="913"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys:<sp/>Array-like<sp/>structure,<sp/>typically<sp/>associated<sp/>with<sp/>`xs`,<sp/>used<sp/>for<sp/>the<sp/>validity<sp/>check.</highlight></codeline>
<codeline lineno="914"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj:<sp/>Integer<sp/>specifying<sp/>the<sp/>number<sp/>of<sp/>columns<sp/>to<sp/>skip<sp/>in<sp/>`ys`<sp/>for<sp/>the<sp/>validity<sp/>check.</highlight></codeline>
<codeline lineno="915"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="916"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="917"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tuple<sp/>containing:</highlight></codeline>
<codeline lineno="918"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>The<sp/>filtered<sp/>elements<sp/>of<sp/>`xs`<sp/>that<sp/>satisfy<sp/>the<sp/>validity<sp/>condition.</highlight></codeline>
<codeline lineno="919" refid="namespacefcmaes_1_1mode_1a4421a58b8727b0b72ab4aaff9f3494b3" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>The<sp/>filtered<sp/>elements<sp/>of<sp/>`ys`<sp/>that<sp/>align<sp/>with<sp/>the<sp/>valid<sp/>`xs`.</highlight></codeline>
<codeline lineno="920"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="921"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/>valid<sp/>=<sp/>(ys.T[nobj:].T<sp/>&lt;=<sp/>0).all(axis=1)</highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>xs[valid],<sp/>ys[valid]</highlight></codeline>
<codeline lineno="924"><highlight class="normal"></highlight></codeline>
<codeline lineno="925"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1mode_1a4648393e4988cb88b634bc6969891383" kindref="member">pareto_sort</ref>(x0,<sp/>y0,<sp/>nobj,<sp/>ncon):</highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="927"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Sorts<sp/>solutions<sp/>based<sp/>on<sp/>Pareto<sp/>dominance<sp/>and<sp/>crowding<sp/>distance.</highlight></codeline>
<codeline lineno="928"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="929"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>sorts<sp/>a<sp/>given<sp/>set<sp/>of<sp/>solutions<sp/>into<sp/>levels<sp/>based<sp/>on<sp/>Pareto</highlight></codeline>
<codeline lineno="930"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>dominance.<sp/>Within<sp/>each<sp/>level,<sp/>solutions<sp/>are<sp/>further<sp/>sorted<sp/>by<sp/>crowding</highlight></codeline>
<codeline lineno="931"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>distance<sp/>to<sp/>ensure<sp/>diversity.<sp/>The<sp/>input<sp/>arrays<sp/>`x0`<sp/>and<sp/>`y0`<sp/>are<sp/>reordered</highlight></codeline>
<codeline lineno="932"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>accordingly,<sp/>and<sp/>the<sp/>resulting<sp/>sorted<sp/>arrays<sp/>are<sp/>returned.</highlight></codeline>
<codeline lineno="933"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="934"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="935"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x0:<sp/>Array-like<sp/>structure<sp/>representing<sp/>the<sp/>original<sp/>decision<sp/>variables<sp/>of</highlight></codeline>
<codeline lineno="936"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>solutions.</highlight></codeline>
<codeline lineno="937"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y0:<sp/>Array-like<sp/>structure<sp/>representing<sp/>the<sp/>objectives<sp/>of<sp/>the<sp/>solutions.</highlight></codeline>
<codeline lineno="938"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj:<sp/>Integer<sp/>specifying<sp/>the<sp/>number<sp/>of<sp/>objectives<sp/>for<sp/>each<sp/>solution.</highlight></codeline>
<codeline lineno="939"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon:<sp/>Integer<sp/>specifying<sp/>the<sp/>number<sp/>of<sp/>constraints<sp/>for<sp/>each<sp/>solution.</highlight></codeline>
<codeline lineno="940"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="941"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="942" refid="namespacefcmaes_1_1mode_1a64da91b9fe11c4db2c528851fe65f4e4" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tuple<sp/>of<sp/>two<sp/>NumPy<sp/>arrays:</highlight></codeline>
<codeline lineno="943"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>The<sp/>reordered<sp/>`x0`<sp/>array<sp/>based<sp/>on<sp/>Pareto<sp/>dominance<sp/>and<sp/>crowding</highlight></codeline>
<codeline lineno="944"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distance.</highlight></codeline>
<codeline lineno="945"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>The<sp/>reordered<sp/>`y0`<sp/>array<sp/>based<sp/>on<sp/>Pareto<sp/>dominance<sp/>and<sp/>crowding</highlight></codeline>
<codeline lineno="946"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distance.</highlight></codeline>
<codeline lineno="947"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/>domination,<sp/>_,<sp/>_<sp/>=<sp/><ref refid="namespacefcmaes_1_1mode_1aee5b0cd4fba6d7edff0afe48a8bc636a" kindref="member">pareto_domination</ref>(y0,<sp/>nobj,<sp/>ncon)</highlight></codeline>
<codeline lineno="949"><highlight class="normal"><sp/><sp/><sp/><sp/>x<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/>y<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/>maxdom<sp/>=<sp/>int(max(domination))</highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>dom<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(maxdom,<sp/>-1,<sp/>-1):</highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>domlevel<sp/>=<sp/>[p<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(domination))<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>domination[p]<sp/>==<sp/>dom]</highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(domlevel)<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nx<sp/>=<sp/>x0[domlevel]</highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ny<sp/>=<sp/>y0[domlevel]<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>si<sp/>=<sp/>[0]</highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(ny)<sp/>&gt;<sp/>1:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd<sp/>=<sp/><ref refid="namespacefcmaes_1_1mode_1a0f27ab476c153a96dba3568003ab075a" kindref="member">crowd_dist</ref>(ny)</highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>si<sp/>=<sp/>np.flip(np.argsort(cd))</highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>si:</highlight></codeline>
<codeline lineno="963"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x.append(nx[p])</highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y.append(ny[p])<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="965" refid="namespacefcmaes_1_1mode_1af072da864e0f91afc47942de9a8901a5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>np.array(x),<sp/>np.array(y)</highlight></codeline>
<codeline lineno="966"><highlight class="normal"></highlight></codeline>
<codeline lineno="967"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1mode_1aee5b0cd4fba6d7edff0afe48a8bc636a" kindref="member">pareto_domination</ref>(ys,<sp/>nobj,<sp/>ncon,<sp/>last_ycon<sp/>=<sp/>None,<sp/>last_eps<sp/>=<sp/>0):</highlight></codeline>
<codeline lineno="968"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="969"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Determines<sp/>Pareto<sp/>domination<sp/>levels<sp/>for<sp/>a<sp/>set<sp/>of<sp/>solutions<sp/>considering<sp/>objectives</highlight></codeline>
<codeline lineno="970"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>constraint<sp/>violations.<sp/>Divides<sp/>solutions<sp/>into<sp/>feasible<sp/>and<sp/>infeasible<sp/>sets,</highlight></codeline>
<codeline lineno="971"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>calculates<sp/>their<sp/>dominance<sp/>levels<sp/>based<sp/>on<sp/>objectives<sp/>and<sp/>constraints,<sp/>and</highlight></codeline>
<codeline lineno="972"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>returns<sp/>the<sp/>relevant<sp/>rankings.</highlight></codeline>
<codeline lineno="973"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="974"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="975"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>(list<sp/>or<sp/>np.ndarray):<sp/>A<sp/>list<sp/>or<sp/>array<sp/>of<sp/>solutions<sp/>where<sp/>each<sp/>solution</highlight></codeline>
<codeline lineno="976"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>contains<sp/>concatenated<sp/>values<sp/>of<sp/>objectives<sp/>and<sp/>constraints.</highlight></codeline>
<codeline lineno="977"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj<sp/>(int):<sp/>Number<sp/>of<sp/>objectives<sp/>in<sp/>each<sp/>solution.</highlight></codeline>
<codeline lineno="978"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon<sp/>(int):<sp/>Number<sp/>of<sp/>constraints<sp/>in<sp/>each<sp/>solution.</highlight></codeline>
<codeline lineno="979"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>last_ycon<sp/>(np.ndarray,<sp/>optional):<sp/>Array<sp/>representing<sp/>constraint<sp/>violations<sp/>used</highlight></codeline>
<codeline lineno="980"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>the<sp/>previous<sp/>iteration<sp/>for<sp/>adjusting<sp/>tolerance<sp/>to<sp/>small<sp/>violations.</highlight></codeline>
<codeline lineno="981"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Defaults<sp/>to<sp/>None.</highlight></codeline>
<codeline lineno="982"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>last_eps<sp/>(float,<sp/>optional):<sp/>Tolerance<sp/>level<sp/>for<sp/>constraint<sp/>violations<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="983"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>last<sp/>iteration.<sp/>Defaults<sp/>to<sp/>0.</highlight></codeline>
<codeline lineno="984"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="985"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="986"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tuple:<sp/>A<sp/>tuple<sp/>containing:</highlight></codeline>
<codeline lineno="987"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>np.ndarray:<sp/>Array<sp/>of<sp/>Pareto<sp/>domination<sp/>levels<sp/>for<sp/>all<sp/>solutions.</highlight></codeline>
<codeline lineno="988"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>np.ndarray:<sp/>Array<sp/>of<sp/>adjusted<sp/>constraint<sp/>violations<sp/>for<sp/>each<sp/>solution.</highlight></codeline>
<codeline lineno="989"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>float:<sp/>Adjusted<sp/>tolerance<sp/>for<sp/>constraint<sp/>violations.</highlight></codeline>
<codeline lineno="990"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="991"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="992" refid="namespacefcmaes_1_1mode_1aa9045b5ff7e2451881af650c926cc04c" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="993"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ncon<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="995"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1mode_1a2570992dd7d42219e4b1381adff7a710" kindref="member">pareto_levels</ref>(ys),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>0</highlight></codeline>
<codeline lineno="996"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eps<sp/>=<sp/>0<sp/></highlight><highlight class="comment">#<sp/>adjust<sp/>tolerance<sp/>to<sp/>small<sp/>constraint<sp/>violations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>last_ycon<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>np.amax(last_ycon)<sp/>&lt;<sp/>1E90:</highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eps<sp/>=<sp/>0.5*(last_eps<sp/>+<sp/>0.5*np.mean(last_ycon,<sp/>axis=0))</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>np.amax(eps)<sp/>&lt;<sp/>1E-8:<sp/></highlight><highlight class="comment">#<sp/>ignore<sp/>small<sp/>eps</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eps<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yobj<sp/>=<sp/>np.array([y[:nobj]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>y<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ys])</highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ycon<sp/>=<sp/>np.array([np.maximum(y[-ncon:],<sp/>0)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>y<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ys])<sp/><sp/></highlight></codeline>
<codeline lineno="1005"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popn<sp/>=<sp/>len(ys)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1006"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>feasible<sp/>=<sp/>np.less_equal(ycon,<sp/>eps).all(axis=1)</highlight></codeline>
<codeline lineno="1007"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>csum<sp/>=<sp/><ref refid="namespacefcmaes_1_1mode_1af072da864e0f91afc47942de9a8901a5" kindref="member">ranks</ref>(ycon,<sp/>feasible,<sp/>eps)</highlight></codeline>
<codeline lineno="1009"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sum(feasible)<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="1010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>csum<sp/>+=<sp/><ref refid="namespacefcmaes_1_1mode_1a64da91b9fe11c4db2c528851fe65f4e4" kindref="member">objranks</ref>(yobj)</highlight></codeline>
<codeline lineno="1011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ci<sp/>=<sp/>np.argsort(csum)</highlight></codeline>
<codeline lineno="1013"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>domination<sp/>=<sp/>np.zeros(popn)</highlight></codeline>
<codeline lineno="1014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>first<sp/>pareto<sp/>front<sp/>of<sp/>feasible<sp/>solutions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1015"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cy<sp/>=<sp/>np.fromiter((i<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ci<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>feasible[i]),<sp/>dtype=int)</highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(cy)<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ypar<sp/>=<sp/><ref refid="namespacefcmaes_1_1mode_1a2570992dd7d42219e4b1381adff7a710" kindref="member">pareto_levels</ref>(yobj[cy])</highlight></codeline>
<codeline lineno="1018" refid="namespacefcmaes_1_1mode_1a4648393e4988cb88b634bc6969891383" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>domination[cy]<sp/>=<sp/>ypar<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1019"><highlight class="normal"></highlight></codeline>
<codeline lineno="1020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>then<sp/>constraint<sp/>violations<sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ci<sp/>=<sp/>np.fromiter((i<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ci<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>feasible[i]),<sp/>dtype=int)<sp/></highlight></codeline>
<codeline lineno="1022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(ci)<sp/>&gt;<sp/>0:<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1023"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cdom<sp/>=<sp/>np.arange(len(ci),<sp/>0,<sp/>-1)</highlight></codeline>
<codeline lineno="1024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>domination[ci]<sp/>+=<sp/>cdom</highlight></codeline>
<codeline lineno="1025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(cy)<sp/>&gt;<sp/>0:<sp/></highlight><highlight class="comment">#<sp/>priorize<sp/>feasible<sp/>solutions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>domination[cy]<sp/>+=<sp/>len(ci)<sp/>+<sp/>1</highlight></codeline>
<codeline lineno="1027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>domination,<sp/>ycon,<sp/>eps</highlight></codeline>
<codeline lineno="1029"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="1030"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1mode_1a2570992dd7d42219e4b1381adff7a710" kindref="member">pareto_levels</ref>(ys):</highlight></codeline>
<codeline lineno="1031"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1032"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Determines<sp/>the<sp/>Pareto<sp/>levels<sp/>of<sp/>a<sp/>given<sp/>set<sp/>of<sp/>points.</highlight></codeline>
<codeline lineno="1033"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1034"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>identifies<sp/>the<sp/>domination<sp/>levels<sp/>of<sp/>a<sp/>set<sp/>of<sp/>points,<sp/>where<sp/>the</highlight></codeline>
<codeline lineno="1035"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>domination<sp/>level<sp/>of<sp/>a<sp/>point<sp/>represents<sp/>the<sp/>number<sp/>of<sp/>other<sp/>points<sp/>dominating</highlight></codeline>
<codeline lineno="1036"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>it.<sp/>Domination<sp/>is<sp/>determined<sp/>based<sp/>on<sp/>whether<sp/>one<sp/>point<sp/>strictly<sp/>dominates</highlight></codeline>
<codeline lineno="1037"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>another<sp/>in<sp/>all<sp/>dimensions.</highlight></codeline>
<codeline lineno="1038"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1039"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="1040"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>(numpy.ndarray):<sp/>A<sp/>2D<sp/>array<sp/>where<sp/>each<sp/>row<sp/>represents<sp/>a<sp/>point<sp/>in</highlight></codeline>
<codeline lineno="1041"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a<sp/>multi-dimensional<sp/>space,<sp/>and<sp/>domination<sp/>is<sp/>evaluated<sp/>across</highlight></codeline>
<codeline lineno="1042"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dimensions.</highlight></codeline>
<codeline lineno="1043"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1044"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="1045"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numpy.ndarray:<sp/>A<sp/>1D<sp/>array<sp/>where<sp/>each<sp/>index<sp/>corresponds<sp/>to<sp/>the<sp/>domination</highlight></codeline>
<codeline lineno="1046"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>level<sp/>of<sp/>the<sp/>respective<sp/>point<sp/>in<sp/>the<sp/>input<sp/>array.</highlight></codeline>
<codeline lineno="1047"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/>popn<sp/>=<sp/>len(ys)</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"><sp/><sp/><sp/><sp/>pareto<sp/>=<sp/>np.arange(popn)</highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/>index<sp/>=<sp/>0<sp/><sp/></highlight><highlight class="comment">#<sp/>Next<sp/>index<sp/>to<sp/>search<sp/>for</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1051"><highlight class="normal"><sp/><sp/><sp/><sp/>domination<sp/>=<sp/>np.zeros(popn)</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>index<sp/>&lt;<sp/>len(ys):</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mask<sp/>=<sp/>np.any(ys<sp/>&lt;<sp/>ys[index],<sp/>axis=1)</highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mask[index]<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pareto<sp/>=<sp/>pareto[mask]<sp/><sp/></highlight><highlight class="comment">#<sp/>Remove<sp/>dominated<sp/>points</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>domination[pareto]<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>ys[mask]</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>=<sp/>np.sum(mask[:index])+1</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>domination</highlight></codeline>
<codeline lineno="1060"><highlight class="normal"></highlight></codeline>
<codeline lineno="1061"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1mode_1a0f27ab476c153a96dba3568003ab075a" kindref="member">crowd_dist</ref>(y):<sp/></highlight><highlight class="comment">#<sp/>crowd<sp/>distance<sp/>for<sp/>1st<sp/>objective</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1063"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Calculates<sp/>the<sp/>crowding<sp/>distance<sp/>for<sp/>the<sp/>first<sp/>objective<sp/>in<sp/>a<sp/>multi-objective<sp/>optimization<sp/>problem.</highlight></codeline>
<codeline lineno="1064" refid="namespacefcmaes_1_1mode_1aee5b0cd4fba6d7edff0afe48a8bc636a" refkind="member"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1065"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>determines<sp/>for<sp/>each<sp/>solution<sp/>how<sp/>dense<sp/>the<sp/>neighborhood<sp/>is<sp/>based<sp/>on<sp/>the<sp/>distances</highlight></codeline>
<codeline lineno="1066"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>to<sp/>its<sp/>nearest<sp/>neighbors<sp/>in<sp/>the<sp/>sorted<sp/>objective<sp/>space.<sp/>It<sp/>assigns<sp/>a<sp/>numerical<sp/>value<sp/>to<sp/>each</highlight></codeline>
<codeline lineno="1067"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>solution<sp/>reflecting<sp/>this<sp/>crowding<sp/>distance.</highlight></codeline>
<codeline lineno="1068"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1069"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="1070"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>(List[List[float]]):<sp/>A<sp/>list<sp/>of<sp/>solutions,<sp/>where<sp/>each<sp/>solution<sp/>is<sp/>represented<sp/>as<sp/>a<sp/>list</highlight></codeline>
<codeline lineno="1071"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>of<sp/>objective<sp/>values.<sp/>This<sp/>function<sp/>specifically<sp/>uses<sp/>the<sp/>first<sp/>objective<sp/>value<sp/>for</highlight></codeline>
<codeline lineno="1072"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>crowding<sp/>distance<sp/>calculation.</highlight></codeline>
<codeline lineno="1073"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1074"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="1075"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numpy.ndarray:<sp/>An<sp/>array<sp/>of<sp/>crowding<sp/>distances<sp/>for<sp/>each<sp/>solution<sp/>in<sp/>the<sp/>input.</highlight></codeline>
<codeline lineno="1076"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/><sp/>n<sp/>=<sp/>len(y)</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"><sp/><sp/><sp/><sp/>y0<sp/>=<sp/>np.fromiter((yi[0]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>yi<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>y),<sp/>dtype=float)</highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/>si<sp/>=<sp/>np.argsort(y0)<sp/></highlight><highlight class="comment">#<sp/>sort<sp/>1st<sp/>objective</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/>y0_s<sp/>=<sp/>y0[si]<sp/></highlight><highlight class="comment">#<sp/>sorted</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/>d<sp/>=<sp/>y0_s[1:n]<sp/>-<sp/>y0_s[0:n-1]<sp/></highlight><highlight class="comment">#<sp/>neighbor<sp/>distance</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>max(d)<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>np.zeros(n)</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"><sp/><sp/><sp/><sp/>dsum<sp/>=<sp/>np.zeros(n)</highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/>dsum<sp/>+=<sp/>np.array(list(d)<sp/>+<sp/>[0])<sp/></highlight><highlight class="comment">#<sp/>distance<sp/>to<sp/>left</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1086"><highlight class="normal"><sp/><sp/><sp/><sp/>dsum<sp/>+=<sp/>np.array([0]<sp/>+<sp/>list(d))<sp/></highlight><highlight class="comment">#<sp/>distance<sp/>to<sp/>right</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><sp/><sp/>dsum[0]<sp/>=<sp/>1E99<sp/></highlight><highlight class="comment">#<sp/>keep<sp/>borders</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1088"><highlight class="normal"><sp/><sp/><sp/><sp/>dsum[-1]<sp/>=<sp/>1E99</highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/><sp/><sp/>ds<sp/>=<sp/>np.empty(n)</highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/><sp/><sp/>ds[si]<sp/>=<sp/>dsum<sp/></highlight><highlight class="comment">#<sp/>inverse<sp/>order</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ds</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"></highlight></codeline>
<codeline lineno="1093"><highlight class="normal"></highlight><highlight class="comment">#<sp/>derived<sp/>from<sp/>https://github.com/ChengHust/NSGA-II/blob/master/GLOBAL.py</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1094"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1mode_1afba15234474d356adb0ed83aa94f73a6" kindref="member">variation</ref>(pop,<sp/>lower,<sp/>upper,<sp/>rg,<sp/>pro_c<sp/>=<sp/>1,<sp/>dis_c<sp/>=<sp/>20,<sp/>pro_m<sp/>=<sp/>1,<sp/>dis_m<sp/>=<sp/>20):</highlight></codeline>
<codeline lineno="1095"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1096"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Applies<sp/>genetic<sp/>variation<sp/>operations,<sp/>including<sp/>simulated<sp/>binary<sp/>crossover<sp/>(SBX)<sp/>and<sp/>polynomial</highlight></codeline>
<codeline lineno="1097"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>mutation,<sp/>on<sp/>a<sp/>population<sp/>to<sp/>produce<sp/>offspring.<sp/>The<sp/>method<sp/>modifies<sp/>the<sp/>population<sp/>based<sp/>on<sp/>crossover</highlight></codeline>
<codeline lineno="1098"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>mutation<sp/>probabilities,<sp/>as<sp/>well<sp/>as<sp/>distribution<sp/>control<sp/>parameters.</highlight></codeline>
<codeline lineno="1099"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1100"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="1101"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pop:<sp/>numpy.ndarray</highlight></codeline>
<codeline lineno="1102"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Input<sp/>population<sp/>array,<sp/>where<sp/>each<sp/>row<sp/>represents<sp/>an<sp/>individual<sp/>and<sp/>each<sp/>column<sp/>represents</highlight></codeline>
<codeline lineno="1103"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a<sp/>design<sp/>variable.</highlight></codeline>
<codeline lineno="1104"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lower:<sp/>numpy.ndarray</highlight></codeline>
<codeline lineno="1105"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Lower<sp/>bounds<sp/>for<sp/>each<sp/>design<sp/>variable.</highlight></codeline>
<codeline lineno="1106"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>upper:<sp/>numpy.ndarray</highlight></codeline>
<codeline lineno="1107"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Upper<sp/>bounds<sp/>for<sp/>each<sp/>design<sp/>variable.</highlight></codeline>
<codeline lineno="1108"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rg:<sp/>numpy.random.Generator</highlight></codeline>
<codeline lineno="1109"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Random<sp/>number<sp/>generator<sp/>instance.</highlight></codeline>
<codeline lineno="1110"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pro_c:<sp/>float,<sp/>optional</highlight></codeline>
<codeline lineno="1111"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Probability<sp/>of<sp/>performing<sp/>crossover,<sp/>default<sp/>is<sp/>1.</highlight></codeline>
<codeline lineno="1112"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dis_c:<sp/>float,<sp/>optional</highlight></codeline>
<codeline lineno="1113"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Distribution<sp/>index<sp/>for<sp/>crossover,<sp/>default<sp/>is<sp/>20.</highlight></codeline>
<codeline lineno="1114"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pro_m:<sp/>float,<sp/>optional</highlight></codeline>
<codeline lineno="1115"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Probability<sp/>of<sp/>performing<sp/>mutation,<sp/>default<sp/>is<sp/>1.</highlight></codeline>
<codeline lineno="1116"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dis_m:<sp/>float,<sp/>optional</highlight></codeline>
<codeline lineno="1117"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Distribution<sp/>index<sp/>for<sp/>mutation,<sp/>default<sp/>is<sp/>20.</highlight></codeline>
<codeline lineno="1118" refid="namespacefcmaes_1_1mode_1a2570992dd7d42219e4b1381adff7a710" refkind="member"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1119"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="1120"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numpy.ndarray</highlight></codeline>
<codeline lineno="1121"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Modified<sp/>population<sp/>(offspring)<sp/>after<sp/>applying<sp/>crossover<sp/>and<sp/>mutation<sp/>operations.</highlight></codeline>
<codeline lineno="1122"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/>dis_c<sp/>*=<sp/>0.5<sp/>+<sp/>0.5*rg.random()<sp/></highlight><highlight class="comment">#<sp/>vary<sp/>spread<sp/>factors<sp/>randomly<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/>dis_m<sp/>*=<sp/>0.5<sp/>+<sp/>0.5*rg.random()<sp/></highlight></codeline>
<codeline lineno="1125"><highlight class="normal"><sp/><sp/><sp/><sp/>pop<sp/>=<sp/>pop[:(len(pop)<sp/>//<sp/>2)<sp/>*<sp/>2][:]</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"><sp/><sp/><sp/><sp/>(n,<sp/>d)<sp/>=<sp/>np.shape(pop)</highlight></codeline>
<codeline lineno="1127"><highlight class="normal"><sp/><sp/><sp/><sp/>parent_1<sp/>=<sp/>pop[:n<sp/>//<sp/>2,<sp/>:]</highlight></codeline>
<codeline lineno="1128"><highlight class="normal"><sp/><sp/><sp/><sp/>parent_2<sp/>=<sp/>pop[n<sp/>//<sp/>2:,<sp/>:]</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/>beta<sp/>=<sp/>np.zeros((n<sp/>//<sp/>2,<sp/>d))</highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/>mu<sp/>=<sp/>rg.random((n<sp/>//<sp/>2,<sp/>d))</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/>beta[mu<sp/>&lt;=<sp/>0.5]<sp/>=<sp/>np.power(2<sp/>*<sp/>mu[mu<sp/>&lt;=<sp/>0.5],<sp/>1<sp/>/<sp/>(dis_c<sp/>+<sp/>1))</highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/>beta[mu<sp/>&gt;<sp/>0.5]<sp/>=<sp/>np.power(2<sp/>*<sp/>mu[mu<sp/>&gt;<sp/>0.5],<sp/>-1<sp/>/<sp/>(dis_c<sp/>+<sp/>1))</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/>beta<sp/>=<sp/>beta<sp/>*<sp/>((-1)**<sp/>rg.integers(2,<sp/>size=(n<sp/>//<sp/>2,<sp/>d)))</highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/>beta[rg.random((n<sp/>//<sp/>2,<sp/>d))<sp/>&lt;<sp/>0.5]<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>pro_c<sp/>&lt;<sp/>1.0:</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>beta[np.tile(rg.random((n<sp/>//<sp/>2,<sp/>1))<sp/>&gt;<sp/>pro_c,<sp/>(1,<sp/>d))]<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="1137"><highlight class="normal"><sp/><sp/><sp/><sp/>parent_mean<sp/>=<sp/>(parent_1<sp/>+<sp/>parent_2)<sp/>*<sp/>0.5</highlight></codeline>
<codeline lineno="1138"><highlight class="normal"><sp/><sp/><sp/><sp/>parent_diff<sp/>=<sp/>(parent_1<sp/>-<sp/>parent_2)<sp/>*<sp/>0.5</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/>offspring<sp/>=<sp/>np.vstack((parent_mean<sp/>+<sp/>beta<sp/>*<sp/>parent_diff,<sp/>parent_mean<sp/>-<sp/>beta<sp/>*<sp/>parent_diff))</highlight></codeline>
<codeline lineno="1140"><highlight class="normal"><sp/><sp/><sp/><sp/>site<sp/>=<sp/>rg.random((n,<sp/>d))<sp/>&lt;<sp/>pro_m<sp/>/<sp/>d</highlight></codeline>
<codeline lineno="1141"><highlight class="normal"><sp/><sp/><sp/><sp/>mu<sp/>=<sp/>rg.random((n,<sp/>d))</highlight></codeline>
<codeline lineno="1142"><highlight class="normal"><sp/><sp/><sp/><sp/>temp<sp/>=<sp/>site<sp/>&amp;<sp/>(mu<sp/>&lt;=<sp/>0.5)</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"><sp/><sp/><sp/><sp/>lower,<sp/>upper<sp/>=<sp/>np.tile(lower,<sp/>(n,<sp/>1)),<sp/>np.tile(upper,<sp/>(n,<sp/>1))</highlight></codeline>
<codeline lineno="1144"><highlight class="normal"><sp/><sp/><sp/><sp/>norm<sp/>=<sp/>(offspring[temp]<sp/>-<sp/>lower[temp])<sp/>/<sp/>(upper[temp]<sp/>-<sp/>lower[temp])</highlight></codeline>
<codeline lineno="1145"><highlight class="normal"><sp/><sp/><sp/><sp/>offspring[temp]<sp/>+=<sp/>(upper[temp]<sp/>-<sp/>lower[temp])<sp/>*<sp/>\</highlight></codeline>
<codeline lineno="1146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(np.power(2.<sp/>*<sp/>mu[temp]<sp/>+<sp/>(1.<sp/>-<sp/>2.<sp/>*<sp/>mu[temp])<sp/>*<sp/>np.power(1.<sp/>-<sp/>norm,<sp/>dis_m<sp/>+<sp/>1.),</highlight></codeline>
<codeline lineno="1147" refid="namespacefcmaes_1_1mode_1a0f27ab476c153a96dba3568003ab075a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1.<sp/>/<sp/>(dis_m<sp/>+<sp/>1))<sp/>-<sp/>1.)</highlight></codeline>
<codeline lineno="1148"><highlight class="normal"><sp/><sp/><sp/><sp/>temp<sp/>=<sp/>site<sp/>&amp;<sp/>(mu<sp/>&gt;<sp/>0.5)</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/><sp/><sp/>norm<sp/>=<sp/>(upper[temp]<sp/>-<sp/>offspring[temp])<sp/>/<sp/>(upper[temp]<sp/>-<sp/>lower[temp])</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/><sp/><sp/>offspring[temp]<sp/>+=<sp/>(upper[temp]<sp/>-<sp/>lower[temp])<sp/>*<sp/>\</highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1.<sp/>-<sp/>np.power(</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>2.<sp/>*<sp/>(1.<sp/>-<sp/>mu[temp])<sp/>+<sp/>2.<sp/>*<sp/>(mu[temp]<sp/>-<sp/>0.5)<sp/>*<sp/>np.power(1.<sp/>-<sp/>norm,<sp/>dis_m<sp/>+<sp/>1.),</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1.<sp/>/<sp/>(dis_m<sp/>+<sp/>1.)))</highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/><sp/>offspring<sp/>=<sp/>np.clip(offspring,<sp/>lower,<sp/>upper)</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>offspring</highlight></codeline>
<codeline lineno="1156"><highlight class="normal"></highlight></codeline>
<codeline lineno="1157"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1mode_1ad8018519575a155be2d2f4659ce52b0b" kindref="member">feasible</ref>(xs,<sp/>ys,<sp/>ncon,<sp/>eps<sp/>=<sp/>1E-2):</highlight></codeline>
<codeline lineno="1158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1159"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Determines<sp/>feasible<sp/>solutions<sp/>based<sp/>on<sp/>constraints<sp/>and<sp/>filters<sp/>the<sp/>input<sp/>arrays</highlight></codeline>
<codeline lineno="1160"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>`xs`<sp/>and<sp/>`ys`<sp/>accordingly.<sp/>It<sp/>evaluates<sp/>constraint<sp/>violations<sp/>and<sp/>ensures<sp/>that</highlight></codeline>
<codeline lineno="1161"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>violations<sp/>are<sp/>below<sp/>the<sp/>threshold<sp/>(`eps`)<sp/>for<sp/>feasibility.</highlight></codeline>
<codeline lineno="1162"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1163"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="1164"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs<sp/>(np.ndarray):<sp/>Input<sp/>array<sp/>of<sp/>solutions.</highlight></codeline>
<codeline lineno="1165"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>(np.ndarray):<sp/>Array<sp/>of<sp/>objective<sp/>and<sp/>constraint<sp/>values<sp/>corresponding</highlight></codeline>
<codeline lineno="1166"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to<sp/>the<sp/>solutions<sp/>in<sp/>`xs`.</highlight></codeline>
<codeline lineno="1167"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon<sp/>(int):<sp/>Number<sp/>of<sp/>constraints.<sp/>Constraints<sp/>are<sp/>assumed<sp/>to<sp/>be<sp/>the</highlight></codeline>
<codeline lineno="1168"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>last<sp/>`ncon`<sp/>columns<sp/>of<sp/>the<sp/>`ys`<sp/>array.</highlight></codeline>
<codeline lineno="1169"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eps<sp/>(float,<sp/>optional):<sp/>Feasibility<sp/>threshold.<sp/>Defaults<sp/>to<sp/>1E-2.</highlight></codeline>
<codeline lineno="1170"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1171"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="1172"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tuple[np.ndarray,<sp/>np.ndarray]:<sp/>Filtered<sp/>solutions<sp/>(`xs`)<sp/>and<sp/>their</highlight></codeline>
<codeline lineno="1173"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>corresponding<sp/>objective<sp/>values<sp/>(`ys`),<sp/>with<sp/>infeasible<sp/>solutions<sp/>removed.</highlight></codeline>
<codeline lineno="1174"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ncon<sp/>&gt;<sp/>0:<sp/></highlight><highlight class="comment">#<sp/>select<sp/>feasible</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ycon<sp/>=<sp/>np.array([np.maximum(y[-ncon:],<sp/>0)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>y<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ys])<sp/><sp/></highlight></codeline>
<codeline lineno="1177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>con<sp/>=<sp/>np.sum(ycon,<sp/>axis=1)</highlight></codeline>
<codeline lineno="1178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj<sp/>=<sp/>len(ys[0])<sp/>-<sp/>ncon</highlight></codeline>
<codeline lineno="1179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>feasible<sp/>=<sp/>np.fromiter((i<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(ys))<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>con[i]<sp/>&lt;<sp/>eps),<sp/>dtype=int)</highlight></codeline>
<codeline lineno="1180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(feasible)<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="1181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs,<sp/>ys<sp/>=<sp/>xs[feasible],<sp/>np.array([y[:nobj]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>y<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ys[feasible]])</highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(</highlight><highlight class="stringliteral">&quot;no<sp/>feasible&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>xs,<sp/>ys</highlight></codeline>
<codeline lineno="1185"><highlight class="normal"></highlight></codeline>
<codeline lineno="1186"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1mode_1afc694697801d4ac2a3e8956987220939" kindref="member">is_feasible</ref>(y,<sp/>nobj,<sp/>eps<sp/>=<sp/>1E-2):</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1188"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Determines<sp/>if<sp/>a<sp/>given<sp/>solution<sp/>is<sp/>feasible<sp/>based<sp/>on<sp/>constraints<sp/>and<sp/>tolerance.</highlight></codeline>
<codeline lineno="1189"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1190"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>evaluates<sp/>feasibility<sp/>by<sp/>checking<sp/>whether<sp/>the<sp/>sum<sp/>of<sp/>violated</highlight></codeline>
<codeline lineno="1191"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>constraints<sp/>(if<sp/>any)<sp/>is<sp/>less<sp/>than<sp/>the<sp/>provided<sp/>tolerance<sp/>value.<sp/>If<sp/>there</highlight></codeline>
<codeline lineno="1192"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>are<sp/>no<sp/>constraints,<sp/>the<sp/>solution<sp/>is<sp/>automatically<sp/>considered<sp/>feasible.</highlight></codeline>
<codeline lineno="1193" refid="namespacefcmaes_1_1mode_1afba15234474d356adb0ed83aa94f73a6" refkind="member"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1194"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="1195"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y:<sp/>List<sp/>or<sp/>array-like<sp/>containing<sp/>values<sp/>of<sp/>both<sp/>objectives<sp/>and<sp/>constraints.</highlight></codeline>
<codeline lineno="1196"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj:<sp/>Integer<sp/>specifying<sp/>the<sp/>number<sp/>of<sp/>objectives<sp/>in<sp/>the<sp/>array<sp/>&apos;y&apos;.<sp/>The</highlight></codeline>
<codeline lineno="1197"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rest<sp/>are<sp/>treated<sp/>as<sp/>constraints.</highlight></codeline>
<codeline lineno="1198"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eps:<sp/>Float<sp/>representing<sp/>the<sp/>tolerance<sp/>level<sp/>for<sp/>determining<sp/>feasibility.</highlight></codeline>
<codeline lineno="1199"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Defaults<sp/>to<sp/>1E-2.</highlight></codeline>
<codeline lineno="1200"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1201"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="1202"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bool:<sp/>True<sp/>if<sp/>the<sp/>solution<sp/>is<sp/>feasible<sp/>(i.e.,<sp/>sum<sp/>of<sp/>violated<sp/>constraints</highlight></codeline>
<codeline lineno="1203"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is<sp/>below<sp/>the<sp/>specified<sp/>tolerance),<sp/>otherwise<sp/>False.</highlight></codeline>
<codeline lineno="1204"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><sp/><sp/><sp/><sp/>ncon<sp/>=<sp/>len(y)<sp/>-<sp/>nobj</highlight></codeline>
<codeline lineno="1206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ncon<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1208"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/>np.sum(np.maximum(y[-ncon:],<sp/>0))</highlight></codeline>
<codeline lineno="1210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>c<sp/>&lt;<sp/>eps</highlight></codeline>
<codeline lineno="1211"><highlight class="normal"></highlight></codeline>
<codeline lineno="1212"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1mode_1_1wrapper" kindref="compound">wrapper</ref>(object):</highlight></codeline>
<codeline lineno="1213"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1214"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>A<sp/>wrapper<sp/>class<sp/>to<sp/>manage<sp/>function<sp/>calls<sp/>with<sp/>additional<sp/>features<sp/>such<sp/>as<sp/>tracking<sp/>progress,</highlight></codeline>
<codeline lineno="1215"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>logging<sp/>results,<sp/>and<sp/>storing<sp/>or<sp/>plotting<sp/>outcomes.</highlight></codeline>
<codeline lineno="1216"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1217"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>class<sp/>allows<sp/>function<sp/>evaluation<sp/>with<sp/>multiprocess<sp/>support,<sp/>tracks<sp/>the<sp/>number<sp/>of</highlight></codeline>
<codeline lineno="1218"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>evaluations,<sp/>records<sp/>the<sp/>best<sp/>observed<sp/>outcomes,<sp/>logs<sp/>key<sp/>metrics<sp/>at<sp/>specified<sp/>intervals,</highlight></codeline>
<codeline lineno="1219"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>interfaces<sp/>with<sp/>optional<sp/>storage<sp/>or<sp/>plotting<sp/>mechanisms.</highlight></codeline>
<codeline lineno="1220"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1221"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Attributes:</highlight></codeline>
<codeline lineno="1222"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun<sp/>(Callable[[ArrayLike],<sp/>ArrayLike]):<sp/>The<sp/>function<sp/>to<sp/>be<sp/>wrapped<sp/>and<sp/>called.</highlight></codeline>
<codeline lineno="1223"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj<sp/>(int):<sp/>Number<sp/>of<sp/>objectives<sp/>for<sp/>the<sp/>optimization<sp/>or<sp/>function<sp/>evaluation.</highlight></codeline>
<codeline lineno="1224"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evals<sp/>(mp.RawValue):<sp/>A<sp/>shared<sp/>counter<sp/>tracking<sp/>the<sp/>number<sp/>of<sp/>function<sp/>evaluations.</highlight></codeline>
<codeline lineno="1225"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t0<sp/>(float):<sp/>The<sp/>time<sp/>the<sp/>wrapper<sp/>instance<sp/>was<sp/>initialized,<sp/>for<sp/>logging<sp/>purposes.</highlight></codeline>
<codeline lineno="1226"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>best_y<sp/>(mp.RawArray):<sp/>Array<sp/>to<sp/>store<sp/>the<sp/>best<sp/>observed<sp/>outcomes<sp/>for<sp/>each<sp/>objective.</highlight></codeline>
<codeline lineno="1227"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store<sp/>(Optional[store]):<sp/>Optional<sp/>storage<sp/>object<sp/>to<sp/>store<sp/>function<sp/>results.</highlight></codeline>
<codeline lineno="1228"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>interval<sp/>(Optional[int]):<sp/>Specifies<sp/>how<sp/>often<sp/>to<sp/>log<sp/>or<sp/>perform<sp/>certain<sp/>actions,</highlight></codeline>
<codeline lineno="1229"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>terms<sp/>of<sp/>number<sp/>of<sp/>function<sp/>evaluations.<sp/>Default<sp/>is<sp/>100000.</highlight></codeline>
<codeline lineno="1230"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plot<sp/>(Optional[bool]):<sp/>If<sp/>True,<sp/>enables<sp/>plotting<sp/>after<sp/>storing<sp/>results.<sp/>Default<sp/>is<sp/>False.</highlight></codeline>
<codeline lineno="1231"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>(Optional[str]):<sp/>A<sp/>name<sp/>used<sp/>for<sp/>file<sp/>save<sp/>operations<sp/>when<sp/>the<sp/>store<sp/>is<sp/>provided.</highlight></codeline>
<codeline lineno="1232"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lock<sp/>(mp.Lock):<sp/>A<sp/>multiprocessing<sp/>lock<sp/>to<sp/>manage<sp/>access<sp/>to<sp/>shared<sp/>resources<sp/>safely.</highlight></codeline>
<codeline lineno="1233"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1234"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/></highlight></codeline>
<codeline lineno="1236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun:<sp/>Callable[[ArrayLike],<sp/>ArrayLike],<sp/></highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj:<sp/>int,<sp/></highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store:<sp/>Optional[store]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="1239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>interval:<sp/>Optional[int]<sp/>=<sp/>100000,<sp/></highlight></codeline>
<codeline lineno="1240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plot:<sp/>Optional[bool]<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="1241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name:<sp/>Optional[str]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1243"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Initializes<sp/>an<sp/>object<sp/>for<sp/>handling<sp/>and<sp/>tracking<sp/>function<sp/>evaluations,<sp/>storing<sp/>results,</highlight></codeline>
<codeline lineno="1244"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>optionally<sp/>plotting<sp/>performance<sp/>data.</highlight></codeline>
<codeline lineno="1245" refid="namespacefcmaes_1_1mode_1ad8018519575a155be2d2f4659ce52b0b" refkind="member"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1246"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="1247"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun<sp/>(Callable[[ArrayLike],<sp/>ArrayLike]):<sp/>The<sp/>objective<sp/>function<sp/>to<sp/>evaluate.</highlight></codeline>
<codeline lineno="1248"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj<sp/>(int):<sp/>The<sp/>number<sp/>of<sp/>objectives<sp/>to<sp/>optimize.</highlight></codeline>
<codeline lineno="1249"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store<sp/>(Optional[store]):<sp/>The<sp/>storage<sp/>mechanism<sp/>for<sp/>results.<sp/>Defaults<sp/>to<sp/>None.</highlight></codeline>
<codeline lineno="1250"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>interval<sp/>(Optional[int]):<sp/>The<sp/>interval<sp/>at<sp/>which<sp/>logs<sp/>or<sp/>updates<sp/>occur.</highlight></codeline>
<codeline lineno="1251"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Defaults<sp/>to<sp/>100000.</highlight></codeline>
<codeline lineno="1252"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plot<sp/>(Optional[bool]):<sp/>Whether<sp/>to<sp/>enable<sp/>plotting<sp/>of<sp/>performance<sp/>data.</highlight></codeline>
<codeline lineno="1253"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Defaults<sp/>to<sp/>False.</highlight></codeline>
<codeline lineno="1254"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>(Optional[str]):<sp/>A<sp/>custom<sp/>name<sp/>for<sp/>the<sp/>object.<sp/>Defaults<sp/>to<sp/>None.</highlight></codeline>
<codeline lineno="1255"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.fun<sp/>=<sp/>fun</highlight></codeline>
<codeline lineno="1257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.nobj<sp/>=<sp/>nobj</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.evals<sp/>=<sp/>mp.RawValue(ct.c_long,<sp/>0)</highlight></codeline>
<codeline lineno="1259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.t0<sp/>=<sp/>time.perf_counter()</highlight></codeline>
<codeline lineno="1260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.best_y<sp/>=<sp/>mp.RawArray(ct.c_double,<sp/>nobj)<sp/><sp/></highlight></codeline>
<codeline lineno="1261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(nobj):</highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.best_y[i]<sp/>=<sp/>sys.float_info.max</highlight></codeline>
<codeline lineno="1263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.store<sp/>=<sp/>store</highlight></codeline>
<codeline lineno="1264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.interval<sp/>=<sp/>interval</highlight></codeline>
<codeline lineno="1265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.plot<sp/>=<sp/>plot</highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.name<sp/>=<sp/>name</highlight></codeline>
<codeline lineno="1267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.lock<sp/>=<sp/>mp.Lock()</highlight></codeline>
<codeline lineno="1268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1269"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__call__(self,<sp/>x:<sp/>ArrayLike)<sp/>-&gt;<sp/>np.ndarray:</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1271"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Executes<sp/>the<sp/>callable<sp/>object<sp/>with<sp/>the<sp/>input<sp/>data,<sp/>applies<sp/>the<sp/>function<sp/>to<sp/>evaluate<sp/>the<sp/>data,</highlight></codeline>
<codeline lineno="1272"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>updates<sp/>internal<sp/>state<sp/>related<sp/>to<sp/>evaluations<sp/>and<sp/>results,<sp/>and<sp/>performs<sp/>logging,<sp/>saving,</highlight></codeline>
<codeline lineno="1273"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>plotting<sp/>based<sp/>on<sp/>specific<sp/>conditions.</highlight></codeline>
<codeline lineno="1274"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1275" refid="namespacefcmaes_1_1mode_1afc694697801d4ac2a3e8956987220939" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="1276"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>(ArrayLike):<sp/>Input<sp/>data<sp/>to<sp/>evaluate<sp/>using<sp/>the<sp/>callable<sp/>object&apos;s<sp/>function.</highlight></codeline>
<codeline lineno="1277"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1278"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="1279"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np.ndarray:<sp/>Evaluated<sp/>output<sp/>from<sp/>the<sp/>function<sp/>if<sp/>successful,<sp/>otherwise<sp/>None.</highlight></codeline>
<codeline lineno="1280"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>=<sp/>self.fun(x)</highlight></codeline>
<codeline lineno="1283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>self.lock:</highlight></codeline>
<codeline lineno="1284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.evals.value<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="1285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.store<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1mode_1afc694697801d4ac2a3e8956987220939" kindref="member">is_feasible</ref>(y,<sp/>self.nobj):</highlight></codeline>
<codeline lineno="1286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.store.create_views()</highlight></codeline>
<codeline lineno="1287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.store.add_result(x,<sp/>y[:self.nobj])</highlight></codeline>
<codeline lineno="1288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>improve<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(self.nobj):</highlight></codeline>
<codeline lineno="1290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>y[i]<sp/>&lt;<sp/>self.best_y[i]:</highlight></codeline>
<codeline lineno="1291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>improve<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="1292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.best_y[i]<sp/>=<sp/>y[i]<sp/></highlight></codeline>
<codeline lineno="1293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#improve<sp/>=<sp/>improve#<sp/>and<sp/>self.evals.value<sp/>&gt;<sp/>10000</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1294" refid="classfcmaes_1_1mode_1_1wrapper" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1wrapper_1a01e4931ca3f69d0c311b89206fdb5a84" kindref="member">evals</ref>.value<sp/>%<sp/>self.<ref refid="classfcmaes_1_1mode_1_1wrapper_1a28f164ad5617369d31a073342b0e0566" kindref="member">interval</ref><sp/>==<sp/>0<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>improve:</highlight></codeline>
<codeline lineno="1295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>constr<sp/>=<sp/>np.maximum(y[self.<ref refid="classfcmaes_1_1mode_1_1wrapper_1ad2534786b7fbf2ce570b2d2503b85482" kindref="member">nobj</ref>:],<sp/>0)</highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>logger.info(<sp/></highlight></codeline>
<codeline lineno="1297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&apos;{dtime(self.t0)}<sp/>{self.evals.value}<sp/>{self.evals.value/(1E-9<sp/>+<sp/>dtime(self.t0)):.1f}<sp/>{self.best_y[:]}<sp/>{list(constr)}<sp/>{list(x)}&apos;</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1wrapper_1a8aa88c436b49a51817ef990ecf103852" kindref="member">store</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1wrapper_1ab935f5beea9753e260fcc858ea43386e" kindref="member">name</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="1300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs,<sp/>ys<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1wrapper_1a8aa88c436b49a51817ef990ecf103852" kindref="member">store</ref>.get_front()</highlight></codeline>
<codeline lineno="1302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1wrapper_1a8aa88c436b49a51817ef990ecf103852" kindref="member">store</ref>.num_stored.value</highlight></codeline>
<codeline lineno="1303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>=<sp/>self.<ref refid="classfcmaes_1_1mode_1_1wrapper_1ab935f5beea9753e260fcc858ea43386e" kindref="member">name</ref><sp/>+<sp/></highlight><highlight class="stringliteral">&apos;_&apos;</highlight><highlight class="normal"><sp/>+<sp/>str(num)</highlight></codeline>
<codeline lineno="1304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np.savez_compressed(name,<sp/>xs=xs,<sp/>ys=ys)</highlight></codeline>
<codeline lineno="1305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1mode_1_1wrapper_1a3c81297fbc84256960ada5e615b044f6" kindref="member">plot</ref>:</highlight></codeline>
<codeline lineno="1306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>moretry.plot(name,<sp/>0,<sp/>xs,<sp/>ys,<sp/>all=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Exception<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>ex:</highlight></codeline>
<codeline lineno="1308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(str(ex))<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>y</highlight></codeline>
<codeline lineno="1310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Exception<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>ex:</highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(str(ex))<sp/><sp/></highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="1313"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="1314"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1mode_1a0bc11f1e1783869a0b99b01ba75c80eb" kindref="member">minimize_plot</ref>(name:<sp/>str,<sp/></highlight></codeline>
<codeline lineno="1315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun:<sp/>Callable[[ArrayLike],<sp/>ArrayLike],<sp/></highlight></codeline>
<codeline lineno="1316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj:<sp/>int,</highlight></codeline>
<codeline lineno="1317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon:<sp/>int,<sp/></highlight></codeline>
<codeline lineno="1318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds:<sp/>Bounds,</highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize:<sp/>Optional[int]<sp/>=<sp/>64,<sp/></highlight></codeline>
<codeline lineno="1320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations:<sp/>Optional[int]<sp/>=<sp/>100000,<sp/></highlight></codeline>
<codeline lineno="1321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nsga_update:<sp/>Optional[bool]<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pareto_update:<sp/>Optional[int]<sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="1323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ints:<sp/>Optional[ArrayLike]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers:<sp/>Optional[int]<sp/>=<sp/>mp.cpu_count())<sp/>-&gt;<sp/>Tuple[np.ndarray,<sp/>np.ndarray]:</highlight></codeline>
<codeline lineno="1325"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="1326"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>minimizes<sp/>a<sp/>multi-objective<sp/>function<sp/>using<sp/>evolutionary<sp/>algorithms</highlight></codeline>
<codeline lineno="1327"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>generates<sp/>a<sp/>plot<sp/>showing<sp/>the<sp/>optimization<sp/>results.<sp/>The<sp/>optimization<sp/>data<sp/>is</highlight></codeline>
<codeline lineno="1328"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>also<sp/>saved<sp/>to<sp/>a<sp/>compressed<sp/>.npz<sp/>file.</highlight></codeline>
<codeline lineno="1329"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1330"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="1331"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>(str):<sp/>Name<sp/>identifier<sp/>for<sp/>the<sp/>optimization<sp/>process.<sp/>It<sp/>is<sp/>used</highlight></codeline>
<codeline lineno="1332"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to<sp/>name<sp/>the<sp/>resulting<sp/>data<sp/>and<sp/>plots.</highlight></codeline>
<codeline lineno="1333"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun<sp/>(Callable[[ArrayLike],<sp/>ArrayLike]):<sp/>The<sp/>objective<sp/>function<sp/>to<sp/>be</highlight></codeline>
<codeline lineno="1334"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>minimized.<sp/>It<sp/>should<sp/>take<sp/>an<sp/>array-like<sp/>input<sp/>and<sp/>return<sp/>an<sp/>array-like</highlight></codeline>
<codeline lineno="1335"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output<sp/>of<sp/>the<sp/>objectives.</highlight></codeline>
<codeline lineno="1336"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nobj<sp/>(int):<sp/>The<sp/>number<sp/>of<sp/>objectives<sp/>to<sp/>be<sp/>optimized.</highlight></codeline>
<codeline lineno="1337"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ncon<sp/>(int):<sp/>The<sp/>number<sp/>of<sp/>constraints<sp/>for<sp/>the<sp/>optimization<sp/>problem.</highlight></codeline>
<codeline lineno="1338"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds<sp/>(Bounds):<sp/>Bounds<sp/>object<sp/>specifying<sp/>the<sp/>variable<sp/>lower<sp/>and</highlight></codeline>
<codeline lineno="1339" refid="classfcmaes_1_1mode_1_1wrapper_1acd6bb1258b7aae36e3f5f62696db4db4" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>upper<sp/>bounds<sp/>for<sp/>the<sp/>problem.</highlight></codeline>
<codeline lineno="1340"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize<sp/>(Optional[int]):<sp/>The<sp/>population<sp/>size<sp/>for<sp/>the<sp/>evolutionary</highlight></codeline>
<codeline lineno="1341"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>algorithm.<sp/>Defaults<sp/>to<sp/>64.</highlight></codeline>
<codeline lineno="1342"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations<sp/>(Optional[int]):<sp/>The<sp/>maximum<sp/>number<sp/>of<sp/>function<sp/>evaluations</highlight></codeline>
<codeline lineno="1343"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>allowed.<sp/>Defaults<sp/>to<sp/>100000.</highlight></codeline>
<codeline lineno="1344"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nsga_update<sp/>(Optional[bool]):<sp/>A<sp/>boolean<sp/>flag<sp/>indicating<sp/>whether<sp/>to<sp/>use</highlight></codeline>
<codeline lineno="1345"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NSGA-II-like<sp/>updates<sp/>for<sp/>the<sp/>optimization<sp/>process.<sp/>Defaults<sp/>to<sp/>True.</highlight></codeline>
<codeline lineno="1346" refid="classfcmaes_1_1mode_1_1wrapper_1a3a69785db0897b0c68286388b7916276" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pareto_update<sp/>(Optional[int]):<sp/>An<sp/>integer<sp/>parameter<sp/>specifying<sp/>the<sp/>update</highlight></codeline>
<codeline lineno="1347" refid="classfcmaes_1_1mode_1_1wrapper_1ad2534786b7fbf2ce570b2d2503b85482" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strategy<sp/>for<sp/>Pareto<sp/>optimization<sp/>when<sp/>nsga_update<sp/>is<sp/>False.<sp/>Defaults<sp/>to<sp/>0.</highlight></codeline>
<codeline lineno="1348" refid="classfcmaes_1_1mode_1_1wrapper_1a01e4931ca3f69d0c311b89206fdb5a84" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ints<sp/>(Optional[ArrayLike]):<sp/>An<sp/>array-like<sp/>object<sp/>indicating<sp/>which<sp/>decision</highlight></codeline>
<codeline lineno="1349" refid="classfcmaes_1_1mode_1_1wrapper_1a69f5f58f4deac7c580121b3deeae8e02" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>variables<sp/>are<sp/>to<sp/>be<sp/>treated<sp/>as<sp/>integers.<sp/>Defaults<sp/>to<sp/>None.</highlight></codeline>
<codeline lineno="1350" refid="classfcmaes_1_1mode_1_1wrapper_1ab4c73a985518883d0979e00ade17d3a3" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers<sp/>(Optional[int]):<sp/>Number<sp/>of<sp/>worker<sp/>processes<sp/>to<sp/>use<sp/>for</highlight></codeline>
<codeline lineno="1351"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parallelization.<sp/>Defaults<sp/>to<sp/>the<sp/>number<sp/>of<sp/>available<sp/>CPU<sp/>cores.</highlight></codeline>
<codeline lineno="1352"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1353" refid="classfcmaes_1_1mode_1_1wrapper_1a8aa88c436b49a51817ef990ecf103852" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="1354" refid="classfcmaes_1_1mode_1_1wrapper_1a28f164ad5617369d31a073342b0e0566" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tuple[numpy.ndarray,<sp/>numpy.ndarray]:</highlight></codeline>
<codeline lineno="1355" refid="classfcmaes_1_1mode_1_1wrapper_1a3c81297fbc84256960ada5e615b044f6" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A<sp/>tuple<sp/>containing:</highlight></codeline>
<codeline lineno="1356" refid="classfcmaes_1_1mode_1_1wrapper_1ab935f5beea9753e260fcc858ea43386e" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>xs:<sp/>A<sp/>NumPy<sp/>array<sp/>representing<sp/>the<sp/>decision<sp/>variable<sp/>values<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="1357" refid="classfcmaes_1_1mode_1_1wrapper_1abd5e47c70b9ebab11397eb565f1ac811" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>solutions.</highlight></codeline>
<codeline lineno="1358"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>ys:<sp/>A<sp/>NumPy<sp/>array<sp/>representing<sp/>the<sp/>objective<sp/>values<sp/>of<sp/>the<sp/>solutions.</highlight></codeline>
<codeline lineno="1359"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1360"><highlight class="normal"><sp/><sp/><sp/><sp/>name<sp/>+=<sp/></highlight><highlight class="stringliteral">&apos;_mode_&apos;</highlight><highlight class="normal"><sp/>+<sp/>str(popsize)<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;_&apos;</highlight><highlight class="normal"><sp/>+<sp/>\</highlight></codeline>
<codeline lineno="1361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;nsga_update&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>nsga_update<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>(</highlight><highlight class="stringliteral">&apos;de_update_&apos;</highlight><highlight class="normal"><sp/>+<sp/>str(pareto_update)))</highlight></codeline>
<codeline lineno="1362"><highlight class="normal"><sp/><sp/><sp/><sp/>logger.info(</highlight><highlight class="stringliteral">&apos;optimize<sp/>&apos;</highlight><highlight class="normal"><sp/>+<sp/>name)<sp/></highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/>xs,<sp/>ys<sp/>=<sp/><ref refid="namespacefcmaes_1_1mode_1a7e76a634ae4563d738ad007097e3c2b4" kindref="member">minimize</ref>(fun,<sp/>nobj,<sp/>ncon,<sp/>bounds,<sp/>popsize<sp/>=<sp/>popsize,<sp/>max_evaluations<sp/>=<sp/>max_evaluations,</highlight></codeline>
<codeline lineno="1364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nsga_update<sp/>=<sp/>nsga_update,<sp/>pareto_update<sp/>=<sp/>pareto_update,<sp/>workers=workers,<sp/>ints=ints)</highlight></codeline>
<codeline lineno="1365"><highlight class="normal"><sp/><sp/><sp/><sp/>np.savez_compressed(name,<sp/>xs=xs,<sp/>ys=ys)</highlight></codeline>
<codeline lineno="1366"><highlight class="normal"><sp/><sp/><sp/><sp/>moretry.plot(name,<sp/>ncon,<sp/>xs,<sp/>ys)</highlight></codeline>
<codeline lineno="1367"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>xs,<sp/>ys</highlight></codeline>
    </programlisting>
    <location file="fcmaes/mode.py"/>
  </compounddef>
</doxygen>
