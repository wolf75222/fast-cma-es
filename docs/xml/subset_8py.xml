<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="subset_8py" kind="file" language="Python">
    <compoundname>subset.py</compoundname>
    <innerclass refid="classexamples_1_1subset_1_1transaction__value" prot="public">examples::subset::transaction_value</innerclass>
    <innerclass refid="classexamples_1_1subset_1_1fitness" prot="public">examples::subset::fitness</innerclass>
    <innernamespace refid="namespaceexamples">examples</innernamespace>
    <innernamespace refid="namespaceexamples_1_1subset">examples::subset</innernamespace>
    <sectiondef kind="var">
      <memberdef kind="variable" id="namespaceexamples_1_1subset_1a5fae8dd08316195f544e4722e322a03d" prot="public" static="no" mutable="no">
        <type></type>
        <definition>examples::subset.stdout</definition>
        <argsstring></argsstring>
        <name>stdout</name>
        <qualifiedname>examples.subset.stdout</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/subset.py" line="27" column="1" bodyfile="examples/subset.py" bodystart="27" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceexamples_1_1subset_1a77a7fc2ebc4d922deef408e9504f60a6" prot="public" static="no" mutable="no">
        <type></type>
        <definition>examples::subset.format</definition>
        <argsstring></argsstring>
        <name>format</name>
        <qualifiedname>examples.subset.format</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/subset.py" line="27" column="1" bodyfile="examples/subset.py" bodystart="27" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceexamples_1_1subset_1ab20c00d2cb58cd9e08890ae4ab65d571" prot="public" static="no" mutable="no">
        <type></type>
        <definition>examples::subset.level</definition>
        <argsstring></argsstring>
        <name>level</name>
        <qualifiedname>examples.subset.level</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/subset.py" line="27" column="1" bodyfile="examples/subset.py" bodystart="27" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceexamples_1_1subset_1ab1d139b33d16d6305c757593dedaff64" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int examples::subset.seed</definition>
        <argsstring></argsstring>
        <name>seed</name>
        <qualifiedname>examples.subset.seed</qualifiedname>
        <initializer>=  13</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/subset.py" line="66" column="1" bodyfile="examples/subset.py" bodystart="66" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceexamples_1_1subset_1a469a03a585c93bb6faa83a9cd5d88489" prot="public" static="no" mutable="no">
        <type></type>
        <definition>examples::subset.rng</definition>
        <argsstring></argsstring>
        <name>rng</name>
        <qualifiedname>examples.subset.rng</qualifiedname>
        <initializer>=  np.random.default_rng(seed)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/subset.py" line="67" column="1" bodyfile="examples/subset.py" bodystart="67" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceexamples_1_1subset_1a6f3071fe7ad84dc50bb98cfc1a047727" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int examples::subset.transactions</definition>
        <argsstring></argsstring>
        <name>transactions</name>
        <qualifiedname>examples.subset.transactions</qualifiedname>
        <initializer>=  rng.integers(100, 2500, 1000) / 100</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/subset.py" line="68" column="1" bodyfile="examples/subset.py" bodystart="68" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceexamples_1_1subset_1a39f642e1a3269c4fa74c288ae81cc3bf" prot="public" static="no" mutable="no">
        <type></type>
        <definition>examples::subset.payments</definition>
        <argsstring></argsstring>
        <name>payments</name>
        <qualifiedname>examples.subset.payments</qualifiedname>
        <initializer>=  rng.integers(10, 50, 100)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/subset.py" line="69" column="1" bodyfile="examples/subset.py" bodystart="69" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceexamples_1_1subset_1a5503474dac56ffe85b0a09c9f2939ac4" prot="public" static="no" mutable="no">
        <type></type>
        <definition>examples::subset.selection_value</definition>
        <argsstring></argsstring>
        <name>selection_value</name>
        <qualifiedname>examples.subset.selection_value</qualifiedname>
        <initializer>=  transaction_value(transactions, payments)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/subset.py" line="70" column="1" bodyfile="examples/subset.py" bodystart="70" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceexamples_1_1subset_1a4695d9c7629719d263f5b6591b1fb7e2" prot="public" static="no" mutable="no">
        <type></type>
        <definition>examples::subset.fit</definition>
        <argsstring></argsstring>
        <name>fit</name>
        <qualifiedname>examples.subset.fit</qualifiedname>
        <initializer>=  fitness(selection_value, len(transactions))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/subset.py" line="71" column="1" bodyfile="examples/subset.py" bodystart="71" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceexamples_1_1subset_1a87a59c35e9b45d5a99ac814703ebd27c" prot="public" static="no" mutable="no">
        <type></type>
        <definition>examples::subset.opt</definition>
        <argsstring></argsstring>
        <name>opt</name>
        <qualifiedname>examples.subset.opt</qualifiedname>
        <initializer>=  Bite_cpp(50000, popsize=500)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/subset.py" line="73" column="1" bodyfile="examples/subset.py" bodystart="73" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceexamples_1_1subset_1abb9b555e6ed2dbbd8bcaaed5c6743559" prot="public" static="no" mutable="no">
        <type></type>
        <definition>examples::subset.num_retries</definition>
        <argsstring></argsstring>
        <name>num_retries</name>
        <qualifiedname>examples.subset.num_retries</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/subset.py" line="74" column="1" bodyfile="examples/subset.py" bodystart="74" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="namespaceexamples_1_1subset_1a7bbe5727bd22adb4b3799c9609a7f02c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>examples.subset.optimize</definition>
        <argsstring>(fitness, opt, num_retries=32)</argsstring>
        <name>optimize</name>
        <qualifiedname>examples.subset.optimize</qualifiedname>
        <param>
          <type>fitness</type>
          <defname>fitness</defname>
        </param>
        <param>
          <type>opt</type>
          <defname>opt</defname>
        </param>
        <param>
          <type>num_retries</type>
          <defname>num_retries</defname>
          <defval>32</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/subset.py" line="54" column="1" bodyfile="examples/subset.py" bodystart="54" bodyend="64"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespaceexamples_1_1subset" refkind="compound"><highlight class="stringliteral">&quot;&quot;&quot;Find<sp/>the<sp/>optimal<sp/>subset<sp/>fulfilling<sp/>any<sp/>property.</highlight></codeline>
<codeline lineno="2"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3"><highlight class="stringliteral">Single<sp/>objective<sp/>variant<sp/>of<sp/>https://github.com/dietmarwo/fast-cma-es/blob/master/examples/subset_mo.py<sp/></highlight></codeline>
<codeline lineno="4"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="5"><highlight class="stringliteral">As<sp/>example<sp/>we<sp/>use<sp/>transactions<sp/>where<sp/>a<sp/>subset<sp/>is<sp/>to<sp/>be<sp/>matched<sp/>to<sp/>a<sp/>list<sp/>of<sp/>payments.<sp/></highlight></codeline>
<codeline lineno="6"><highlight class="stringliteral">For<sp/>transactions:<sp/>[2,4,5,1,3]<sp/>and<sp/>payments:<sp/>[4,<sp/>4]<sp/>the<sp/>sum<sp/>of<sp/>payments<sp/>is<sp/>8.<sp/></highlight></codeline>
<codeline lineno="7"><highlight class="stringliteral">Subsets<sp/>of<sp/>transactions<sp/>that<sp/>minimize<sp/>the<sp/>difference<sp/>between<sp/>payments<sp/>and<sp/></highlight></codeline>
<codeline lineno="8"><highlight class="stringliteral">transactions<sp/>are<sp/>for<sp/>instance<sp/>[5,3],<sp/>or<sp/>[4,3,1].<sp/></highlight></codeline>
<codeline lineno="9"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="10"><highlight class="stringliteral">In<sp/>general<sp/>we<sp/>have<sp/>to<sp/>define<sp/>a<sp/>mapping<sp/>&apos;selection_value&apos;<sp/>which<sp/>maps<sp/>a<sp/></highlight></codeline>
<codeline lineno="11"><highlight class="stringliteral">specific<sp/>selection/subset<sp/>represented<sp/>as<sp/>boolean<sp/>array<sp/>to<sp/>a<sp/>value<sp/>to<sp/>be<sp/>minimized.<sp/></highlight></codeline>
<codeline lineno="12"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="13"><highlight class="stringliteral">See<sp/>https://github.com/dietmarwo/fast-cma-es/blob/master/tutorials/Subset.adoc<sp/>for<sp/>a<sp/>detailed<sp/>description.</highlight></codeline>
<codeline lineno="14"><highlight class="stringliteral">&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Tested<sp/>using<sp/>https://docs.conda.io/en/main/miniconda.html<sp/>on<sp/>Linux<sp/>Mint<sp/>21.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>numpy<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>np</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>scipy.optimize<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Bounds<sp/></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>fcmaes<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>retry</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1optimizer" kindref="compound">fcmaes.optimizer</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>wrapper,<sp/>Bite_cpp</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys<sp/></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>loguru<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>logger</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal">logger.remove()</highlight></codeline>
<codeline lineno="27" refid="namespaceexamples_1_1subset_1a77a7fc2ebc4d922deef408e9504f60a6" refkind="member"><highlight class="normal">logger.add(sys.stdout,<sp/>format=</highlight><highlight class="stringliteral">&quot;{time:HH:mm:ss.SS}<sp/>|<sp/>{process}<sp/>|<sp/>{level}<sp/>|<sp/>{message}&quot;</highlight><highlight class="normal">,<sp/>level=</highlight><highlight class="stringliteral">&quot;INFO&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="28"><highlight class="normal">logger.add(</highlight><highlight class="stringliteral">&quot;log_{time}.txt&quot;</highlight><highlight class="normal">,<sp/>format=</highlight><highlight class="stringliteral">&quot;{time:HH:mm:ss.SS}<sp/>|<sp/>{process}<sp/>|<sp/>{level}<sp/>|<sp/>{message}&quot;</highlight><highlight class="normal">,<sp/>level=</highlight><highlight class="stringliteral">&quot;INFO&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="comment">#<sp/>replace<sp/>with<sp/>your<sp/>mapping<sp/>selection<sp/>-&gt;<sp/>value</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31" refid="classexamples_1_1subset_1_1transaction__value" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classexamples_1_1subset_1_1transaction__value" kindref="compound">transaction_value</ref>():</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="33" refid="classexamples_1_1subset_1_1transaction__value_1a4bc56ebf914f8befe5083a3d6668a2b6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classexamples_1_1subset_1_1transaction__value_1a4bc56ebf914f8befe5083a3d6668a2b6" kindref="member">__init__</ref>(self,<sp/>transactions,<sp/>payments):</highlight></codeline>
<codeline lineno="34" refid="classexamples_1_1subset_1_1transaction__value_1a3086eca902943812e3e2510f8d74341e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classexamples_1_1subset_1_1transaction__value_1a3086eca902943812e3e2510f8d74341e" kindref="member">transactions</ref><sp/>=<sp/>transactions</highlight></codeline>
<codeline lineno="35" refid="classexamples_1_1subset_1_1transaction__value_1a7354605592874ce9edfbbfd81f82b8bf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classexamples_1_1subset_1_1transaction__value_1a7354605592874ce9edfbbfd81f82b8bf" kindref="member">sum_payments</ref><sp/>=<sp/>sum(payments)</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="37" refid="classexamples_1_1subset_1_1transaction__value_1ae7f666e74665559231d774bbcc3c4c2e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classexamples_1_1subset_1_1transaction__value_1ae7f666e74665559231d774bbcc3c4c2e" kindref="member">__call__</ref>(self,<sp/>selection):</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>abs(sum(self.<ref refid="classexamples_1_1subset_1_1transaction__value_1a3086eca902943812e3e2510f8d74341e" kindref="member">transactions</ref>[selection])<sp/>-<sp/>self.<ref refid="classexamples_1_1subset_1_1transaction__value_1a7354605592874ce9edfbbfd81f82b8bf" kindref="member">sum_payments</ref>)</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="40" refid="classexamples_1_1subset_1_1fitness" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classexamples_1_1subset_1_1fitness" kindref="compound">fitness</ref>():</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="42" refid="classexamples_1_1subset_1_1fitness_1ae81edf4a9e7c38ca6097c440e6574e84" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classexamples_1_1subset_1_1fitness_1ae81edf4a9e7c38ca6097c440e6574e84" kindref="member">__init__</ref>(self,<sp/>selection_value,<sp/>dim):</highlight></codeline>
<codeline lineno="43" refid="classexamples_1_1subset_1_1fitness_1a89b260fa32177cc4e1225469d21b54b3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classexamples_1_1subset_1_1fitness_1a89b260fa32177cc4e1225469d21b54b3" kindref="member">selection_value</ref><sp/>=<sp/>selection_value</highlight></codeline>
<codeline lineno="44" refid="classexamples_1_1subset_1_1fitness_1abb7b10a459f0ace0493e56922e5b87cf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classexamples_1_1subset_1_1fitness_1abb7b10a459f0ace0493e56922e5b87cf" kindref="member">bounds</ref><sp/>=<sp/>Bounds([0]*dim,<sp/>[1.99999999]*dim)<sp/><sp/></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="46" refid="classexamples_1_1subset_1_1fitness_1afbd613f893539051a353e244d53ba64e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classexamples_1_1subset_1_1fitness_1afbd613f893539051a353e244d53ba64e" kindref="member">selected</ref>(self,<sp/>x):</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x.astype(int)</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>all<sp/>decision<sp/>variables<sp/>are<sp/>in<sp/>the<sp/>[0,2[<sp/>interval<sp/>and<sp/>mapped<sp/>to<sp/>a<sp/>boolean<sp/>array.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50" refid="classexamples_1_1subset_1_1fitness_1a23ae3f9deb0bf53a1a594e1f2564c14c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classexamples_1_1subset_1_1fitness_1a23ae3f9deb0bf53a1a594e1f2564c14c" kindref="member">__call__</ref>(self,<sp/>x):</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classexamples_1_1subset_1_1fitness_1a89b260fa32177cc4e1225469d21b54b3" kindref="member">selection_value</ref>(x.astype(int).astype(bool))</highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Multiple<sp/>optimizations<sp/>are<sp/>executed<sp/>in<sp/>parallel<sp/>and<sp/>all<sp/>results<sp/>are<sp/>collected<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54" refid="namespaceexamples_1_1subset_1a7bbe5727bd22adb4b3799c9609a7f02c" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceexamples_1_1subset_1a7bbe5727bd22adb4b3799c9609a7f02c" kindref="member">optimize</ref>(fitness,<sp/>opt,<sp/>num_retries<sp/>=<sp/>32):</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/>store<sp/>=<sp/><ref refid="classfcmaes_1_1retry_1_1_store" kindref="compound">retry.Store</ref>(<ref refid="classfcmaes_1_1optimizer_1_1wrapper" kindref="compound">wrapper</ref>(fitness),<sp/>fitness.bounds)</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/>retry.retry(store,<sp/>opt.minimize,<sp/>num_retries)</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>xs<sp/>=<sp/>store.get_xs()</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>store.get_ys()</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>show<sp/>the<sp/>best<sp/>results</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(xs)):</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ys[i]<sp/>&gt;<sp/>0.001:<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(i+1,<sp/></highlight><highlight class="stringliteral">&quot;)<sp/>Optimal<sp/>Objective<sp/>value:<sp/>&quot;</highlight><highlight class="normal">,<sp/>ys[i])</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(fitness.selected(xs[i]))</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>__name__<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;__main__&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="66" refid="namespaceexamples_1_1subset_1ab1d139b33d16d6305c757593dedaff64" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>seed<sp/>=<sp/>13</highlight></codeline>
<codeline lineno="67" refid="namespaceexamples_1_1subset_1a469a03a585c93bb6faa83a9cd5d88489" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>rng<sp/>=<sp/>np.random.default_rng(seed)<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="68" refid="namespaceexamples_1_1subset_1a6f3071fe7ad84dc50bb98cfc1a047727" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>transactions=<sp/>rng.integers(100,<sp/>2500,<sp/>1000)<sp/>/<sp/>100<sp/><sp/></highlight></codeline>
<codeline lineno="69" refid="namespaceexamples_1_1subset_1a39f642e1a3269c4fa74c288ae81cc3bf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>payments<sp/>=<sp/>rng.integers(10,<sp/>50,<sp/>100)<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="70" refid="namespaceexamples_1_1subset_1a5503474dac56ffe85b0a09c9f2939ac4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>selection_value<sp/>=<sp/><ref refid="classexamples_1_1subset_1_1transaction__value" kindref="compound">transaction_value</ref>(transactions,<sp/>payments)<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="71" refid="namespaceexamples_1_1subset_1a4695d9c7629719d263f5b6591b1fb7e2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>fit<sp/>=<sp/><ref refid="classexamples_1_1subset_1_1fitness" kindref="compound">fitness</ref>(selection_value,<sp/>len(transactions))</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>Bite_cpp(10000)<sp/>for<sp/>smaller<sp/>dimension</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73" refid="namespaceexamples_1_1subset_1a87a59c35e9b45d5a99ac814703ebd27c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>opt<sp/>=<sp/><ref refid="classfcmaes_1_1optimizer_1_1_bite__cpp" kindref="compound">Bite_cpp</ref>(50000,<sp/>popsize=500)</highlight></codeline>
<codeline lineno="74" refid="namespaceexamples_1_1subset_1abb9b555e6ed2dbbd8bcaaed5c6743559" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceexamples_1_1subset_1a7bbe5727bd22adb4b3799c9609a7f02c" kindref="member">optimize</ref>(fit,<sp/>opt,<sp/>num_retries=32)</highlight></codeline>
    </programlisting>
    <location file="examples/subset.py"/>
  </compounddef>
</doxygen>
