<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="test__cma_8py" kind="file" language="Python">
    <compoundname>test_cma.py</compoundname>
    <innernamespace refid="namespacefcmaes">fcmaes</innernamespace>
    <innernamespace refid="namespacefcmaes_1_1test__cma">fcmaes::test_cma</innernamespace>
    <sectiondef kind="func">
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.almost_equal</definition>
        <argsstring>(X1, X2, eps=1E-5)</argsstring>
        <name>almost_equal</name>
        <qualifiedname>fcmaes.test_cma.almost_equal</qualifiedname>
        <param>
          <type>X1</type>
          <defname>X1</defname>
        </param>
        <param>
          <type>X2</type>
          <defname>X2</defname>
        </param>
        <param>
          <type>eps</type>
          <defname>eps</defname>
          <defval>1E-5</defval>
        </param>
        <briefdescription>
<para>Determines if two numerical values or sets of numerical values are approximately equal within a specified tolerance. </para>
        </briefdescription>
        <detaileddescription>
<para>This function compares two scalar values or lists of scalar values and checks if they are approximately equivalent, considering a given threshold for acceptable deviation. The comparison is performed element-wise for lists.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>X1</parametername>
</parameternamelist>
<parameterdescription>
<para>A scalar value or a list of scalar values to compare. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>X2</parametername>
</parameternamelist>
<parameterdescription>
<para>Another scalar value or a list of scalar values to compare. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>eps</parametername>
</parameternamelist>
<parameterdescription>
<para>A small positive float specifying the tolerance for comparison. Default is 1E-5.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para></para>
</simplesect>
<simplesect kind="return"><para>bool True if the values are approximately equal within the specified tolerance; False otherwise. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="59" column="1" bodyfile="fcmaes/test_cma.py" bodystart="59" bodyend="75"/>
        <referencedby refid="namespacefcmaes_1_1test__cma_1a02ddb211b712593bc51e118e3d26764d" compoundref="test__cma_8py" startline="596" endline="612">fcmaes.test_cma.test_eggholder_advanced_retry</referencedby>
        <referencedby refid="namespacefcmaes_1_1test__cma_1a5ff61f59a536b4c3c16c968e1eb8b568" compoundref="test__cma_8py" startline="662" endline="682">fcmaes.test_cma.test_eggholder_advanced_retry_python</referencedby>
        <referencedby refid="namespacefcmaes_1_1test__cma_1a2128729d18fafa07c146daa25880d870" compoundref="test__cma_8py" startline="524" endline="545">fcmaes.test_cma.test_eggholder_python</referencedby>
        <referencedby refid="namespacefcmaes_1_1test__cma_1a06d4235007fede3ebaf194baf5a46612" compoundref="test__cma_8py" startline="564" endline="580">fcmaes.test_cma.test_eggholder_retry</referencedby>
        <referencedby refid="namespacefcmaes_1_1test__cma_1aa39a1c6e2b785ee9f6c3bfd330b057eb" compoundref="test__cma_8py" startline="629" endline="647">fcmaes.test_cma.test_eggholder_retry_python</referencedby>
        <referencedby refid="namespacefcmaes_1_1test__cma_1a2e73dbd9042d810ea17f3936e4bde46a" compoundref="test__cma_8py" startline="93" endline="117">fcmaes.test_cma.test_rastrigin_python</referencedby>
        <referencedby refid="namespacefcmaes_1_1test__cma_1a5a01b755e5c5a97dc38606546f0ea3de" compoundref="test__cma_8py" startline="403" endline="429">fcmaes.test_cma.test_rosen_ask_tell_de</referencedby>
        <referencedby refid="namespacefcmaes_1_1test__cma_1ad3b0a415eace1ef9007488cc11361e41" compoundref="test__cma_8py" startline="218" endline="238">fcmaes.test_cma.test_rosen_cpp</referencedby>
        <referencedby refid="namespacefcmaes_1_1test__cma_1a51fa8539bc5e205e434371d8ddef2901" compoundref="test__cma_8py" startline="290" endline="311">fcmaes.test_cma.test_rosen_cpp_parallel</referencedby>
        <referencedby refid="namespacefcmaes_1_1test__cma_1a4821d7d9a8c7dd879fd2b20760804c45" compoundref="test__cma_8py" startline="327" endline="347">fcmaes.test_cma.test_rosen_de</referencedby>
        <referencedby refid="namespacefcmaes_1_1test__cma_1a1115f0b14db848a92fd7ff0a646f58de" compoundref="test__cma_8py" startline="362" endline="382">fcmaes.test_cma.test_rosen_de_parallel</referencedby>
        <referencedby refid="namespacefcmaes_1_1test__cma_1a9bf91ec31779ea12048ac626d8a04313" compoundref="test__cma_8py" startline="444" endline="464">fcmaes.test_cma.test_rosen_decpp</referencedby>
        <referencedby refid="namespacefcmaes_1_1test__cma_1a574c6dc9453d6792bae4513b307c0e43" compoundref="test__cma_8py" startline="485" endline="505">fcmaes.test_cma.test_rosen_decpp_parallel</referencedby>
        <referencedby refid="namespacefcmaes_1_1test__cma_1acea283ec5bc0b3c0931d864d3e7ca963" compoundref="test__cma_8py" startline="253" endline="274">fcmaes.test_cma.test_rosen_parallel</referencedby>
        <referencedby refid="namespacefcmaes_1_1test__cma_1ac0a08b371b89371721929cd1399aaea9" compoundref="test__cma_8py" startline="137" endline="158">fcmaes.test_cma.test_rosen_python</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1a2e73dbd9042d810ea17f3936e4bde46a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_rastrigin_python</definition>
        <argsstring>()</argsstring>
        <name>test_rastrigin_python</name>
        <qualifiedname>fcmaes.test_cma.test_rastrigin_python</qualifiedname>
        <briefdescription>
<para>Tests the <ref refid="classfcmaes_1_1testfun_1_1_rastrigin" kindref="compound">Rastrigin</ref> function optimization using the CMA-ES algorithm. </para>
        </briefdescription>
        <detaileddescription>
<para>This function performs a series of tests to ensure that the CMA-ES optimization algorithm correctly minimizes the <ref refid="classfcmaes_1_1testfun_1_1_rastrigin" kindref="compound">Rastrigin</ref> function, a standard test function in optimization. The function evaluates whether the optimization reaches the target goal within constraints (using bounds, standard deviations, and maximum number of evaluations), and whether the returned results conform to expected outputs.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>None</parametername>
</parameternamelist>
<parameterdescription>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If any of the assertions fail, indicating that the optimization did not meet the expected conditions or outcomes. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="93" column="1" bodyfile="fcmaes/test_cma.py" bodystart="93" bodyend="117"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1ac0a08b371b89371721929cd1399aaea9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_rosen_python</definition>
        <argsstring>()</argsstring>
        <name>test_rosen_python</name>
        <qualifiedname>fcmaes.test_cma.test_rosen_python</qualifiedname>
        <briefdescription>
<para>Tests the Rosenbrock function optimization using the CMA-ES algorithm. </para>
        </briefdescription>
        <detaileddescription>
<para>This test evaluates the performance of the CMA-ES optimization algorithm on the Rosenbrock function with specific settings for dimensionality, population size, standard deviations, and maximum function evaluations. It checks if the optimization target is reached within the given constraints and validates the result consistency of the optimization process.</para>
<para><parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the optimization does not achieve the expected results including:<itemizedlist>
<listitem><para>Optimization target (minimum function value) not reached.</para>
</listitem><listitem><para>Excessive function evaluations during optimization.</para>
</listitem><listitem><para>Excessive iterations performed.</para>
</listitem><listitem><para>Mismatched function call count from the optimization algorithm versus the internal wrapper.</para>
</listitem><listitem><para>Incorrect best solution vector or value returned. </para>
</listitem></itemizedlist>
</para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="137" column="1" bodyfile="fcmaes/test_cma.py" bodystart="137" bodyend="158"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1a7ec4b8716063cabb65fc0ee28ec32a2c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_rosen_ask_tell</definition>
        <argsstring>()</argsstring>
        <name>test_rosen_ask_tell</name>
        <qualifiedname>fcmaes.test_cma.test_rosen_ask_tell</qualifiedname>
        <briefdescription>
<para>Tests the ask-tell interface of the CMA-ES algorithm on the Rosenbrock function over multiple iterations and asserts the optimization results. </para>
        </briefdescription>
        <detaileddescription>
<para>The function initializes a CMA-ES instance with the specified hyperparameters and evaluates its performance over a predefined number of iterations and maximum evaluations. The results of the optimization process are validated against threshold values to ensure that the CMA-ES implementation satisfies expected performance criteria.</para>
<para><parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the optimization target is not achieved within the defined constraints of function evaluations or iterations. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="174" column="1" bodyfile="fcmaes/test_cma.py" bodystart="174" bodyend="202"/>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1ad3b0a415eace1ef9007488cc11361e41" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_rosen_cpp</definition>
        <argsstring>()</argsstring>
        <name>test_rosen_cpp</name>
        <qualifiedname>fcmaes.test_cma.test_rosen_cpp</qualifiedname>
        <briefdescription>
<para>Runs a test on a Rosenbrock function optimization using CMA-ES (Covariance Matrix Adaptation Evolution Strategy) implemented in C++ and Python wrappers. </para>
        </briefdescription>
        <detaileddescription>
<para>This test validates the optimization procedure by asserting constraints on the optimization target, number of function evaluations, and results consistency.</para>
<para>The function initializes test parameters including population size, dimensions, standard deviations, and maximum evaluations. It then runs the optimization multiple times, stopping early if a defined limit on the objective function is achieved. Assertions verify the results of the optimization process.</para>
<para><parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the optimization result does not meet the defined constraints on the objective function value, number of function evaluations, best solution <computeroutput>x</computeroutput>, or best objective function value <computeroutput>y</computeroutput>. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="218" column="1" bodyfile="fcmaes/test_cma.py" bodystart="218" bodyend="238"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1acea283ec5bc0b3c0931d864d3e7ca963" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_rosen_parallel</definition>
        <argsstring>()</argsstring>
        <name>test_rosen_parallel</name>
        <qualifiedname>fcmaes.test_cma.test_rosen_parallel</qualifiedname>
        <briefdescription>
<para>Tests the optimization algorithm&apos;s ability to minimize Rosenbrock&apos;s function using a parallelized CMA-ES (Covariance Matrix Adaptation Evolution Strategy) implementation with a preset population size. </para>
        </briefdescription>
        <detaileddescription>
<para>Verifies the optimization process meets expected limits for function calls, iterations, and optimization accuracy.</para>
<para><parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the optimization target is not reached within the specified limit, the number of function calls exceeds the maximum evaluations, the number of iterations exceeds the expected bound, or the resulting best X and Y do not match the expected values within the given accuracy. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="253" column="1" bodyfile="fcmaes/test_cma.py" bodystart="253" bodyend="274"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1a51fa8539bc5e205e434371d8ddef2901" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_rosen_cpp_parallel</definition>
        <argsstring>()</argsstring>
        <name>test_rosen_cpp_parallel</name>
        <qualifiedname>fcmaes.test_cma.test_rosen_cpp_parallel</qualifiedname>
        <briefdescription>
<para>Tests the parallel implementation of the Rosenbrock function optimization using a C++ CMA-ES (Covariance Matrix Adaptation Evolution Strategy) wrapper. </para>
        </briefdescription>
        <detaileddescription>
<para>This function evaluates the optimization process using the Rosenbrock function. The optimization parameters include the population size, dimensionality, initial standard deviations, maximum evaluations, and function bounds. The function tests whether the optimization converges within the limits, ensures the function calls and iterations do not exceed expected numbers, and validates the returned best solution and function value.</para>
<para><parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If any of the assertions for convergence, function calls, iterations, or optimized solution validations fail. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="290" column="1" bodyfile="fcmaes/test_cma.py" bodystart="290" bodyend="311"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1a4821d7d9a8c7dd879fd2b20760804c45" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_rosen_de</definition>
        <argsstring>()</argsstring>
        <name>test_rosen_de</name>
        <qualifiedname>fcmaes.test_cma.test_rosen_de</qualifiedname>
        <briefdescription>
<para>Tests the Rosenbrock function optimization using differential evolution. </para>
        </briefdescription>
        <detaileddescription>
<para>This function evaluates the performance of the Differential Evolution (DE) optimization algorithm for minimizing the Rosenbrock function, a common benchmark test for optimization routines. It ensures that the target optimization and other performance metrics (e.g., function calls, iterations) were achieved successfully.</para>
<para><parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the optimization target is not reached within the given constraints of maximum evaluations, iterations, or if there are discrepancies in the optimization results, such as mismatch in the best found solution or the number of function calls. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="327" column="1" bodyfile="fcmaes/test_cma.py" bodystart="327" bodyend="347"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1a1115f0b14db848a92fd7ff0a646f58de" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_rosen_de_parallel</definition>
        <argsstring>()</argsstring>
        <name>test_rosen_de_parallel</name>
        <qualifiedname>fcmaes.test_cma.test_rosen_de_parallel</qualifiedname>
        <briefdescription>
<para>Tests the Differential Evolution (DE) algorithm&apos;s functionality and behavior using the Rosenbrock function within a parallel environment. </para>
        </briefdescription>
        <detaileddescription>
<para>The method sets up parameters, executes the DE optimization, and validates several conditions to ensure the correctness and performance of the optimization process.</para>
<para><parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the optimization target is not reached. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the number of function evaluations exceeds the defined limit. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the number of iterations exceeds the expected maximum. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the returned number of function evaluations does not match the wrapper&apos;s recorded count. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the incorrect best Y value is returned by the optimization. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="362" column="1" bodyfile="fcmaes/test_cma.py" bodystart="362" bodyend="382"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1a5a01b755e5c5a97dc38606546f0ea3de" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_rosen_ask_tell_de</definition>
        <argsstring>()</argsstring>
        <name>test_rosen_ask_tell_de</name>
        <qualifiedname>fcmaes.test_cma.test_rosen_ask_tell_de</qualifiedname>
        <briefdescription>
<para>Tests the Differential Evolution optimization process for the Rosenbrock function using an ask-and-tell interface. </para>
        </briefdescription>
        <detaileddescription>
<para>The test validates convergence performance, ensures the optimization adheres to provided constraints, and checks correctness of the achieved results against defined limits.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>None</parametername>
</parameternamelist>
<parameterdescription>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the optimization target function value is not less than the specified limit. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the number of function evaluations surpasses the allowed maximum evaluations plus the buffer (2 * population size). </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the number of iterations exceeds the allowed maximum iterations plus a buffer. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the optimized function value returned does not closely approximate the expected best value with the given tolerance. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="403" column="1" bodyfile="fcmaes/test_cma.py" bodystart="403" bodyend="429"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1a9bf91ec31779ea12048ac626d8a04313" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_rosen_decpp</definition>
        <argsstring>()</argsstring>
        <name>test_rosen_decpp</name>
        <qualifiedname>fcmaes.test_cma.test_rosen_decpp</qualifiedname>
        <briefdescription>
<para>Test the Rosenbrock optimization function using the Differential Evolution with Population Adaptation (DECPP) algorithm. </para>
        </briefdescription>
        <detaileddescription>
<para>This test evaluates various aspects of the optimization&apos;s outcome, including convergence to the optimal result, the number of function evaluations, iterations, and consistency of return values.</para>
<para><simplesect kind="par"><title>Variables</title><para>popsize Sample size of the population used in DECPP optimization. dim Dimensionality of the optimization problem. For the Rosenbrock function, this specifies the input size. testfun Instance of the <ref refid="classfcmaes_1_1testfun_1_1_rosen" kindref="compound">Rosen</ref> class to define the objective function and bounds. max_eval Maximum number of function evaluations allowed for the optimization. limit Threshold for the optimization objective value to consider a successful result. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="444" column="1" bodyfile="fcmaes/test_cma.py" bodystart="444" bodyend="464"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1a574c6dc9453d6792bae4513b307c0e43" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_rosen_decpp_parallel</definition>
        <argsstring>()</argsstring>
        <name>test_rosen_decpp_parallel</name>
        <qualifiedname>fcmaes.test_cma.test_rosen_decpp_parallel</qualifiedname>
        <briefdescription>
<para>Tests the <computeroutput><ref refid="namespacefcmaes_1_1decpp_1a5f109c8aa67919ea612f518860268ea3" kindref="member">decpp.minimize</ref></computeroutput> function applied to optimize the Rosenbrock function in parallel with specific conditions. </para>
        </briefdescription>
        <detaileddescription>
<para>Verifies correctness based on optimization target, number of function evaluations, iterations, and final results for optimization.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>None</parametername>
</parameternamelist>
<parameterdescription>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If optimization target is not reached. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the number of function calls exceeds the expected </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>maximum.</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the number of iterations surpasses the expected </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>maximum.</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the best found `x` does not match the expected value within a given tolerance. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the best found `y` does not match the expected value within a given tolerance. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="485" column="1" bodyfile="fcmaes/test_cma.py" bodystart="485" bodyend="505"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1a2128729d18fafa07c146daa25880d870" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_eggholder_python</definition>
        <argsstring>()</argsstring>
        <name>test_eggholder_python</name>
        <qualifiedname>fcmaes.test_cma.test_eggholder_python</qualifiedname>
        <briefdescription>
<para>Tests the <ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref> function minimization using the CMA-ES optimization algorithm. </para>
        </briefdescription>
        <detaileddescription>
<para>This function evaluates the performance of the CMA-ES optimizer in minimizing the <ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref> function, a complex and multimodal test function, over a specified number of dimensions and population size. The test ensures that optimization targets are reached within the defined function evaluation limits. It also verifies various aspects of the optimization process, including the number of function evaluations and the final results.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>None</parametername>
</parameternamelist>
<parameterdescription>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>Raised if the optimization target is not achieved, if the number of function evaluations exceeds the limit, or if the returned results are inconsistent with the wrapper&apos;s records. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="524" column="1" bodyfile="fcmaes/test_cma.py" bodystart="524" bodyend="545"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1a06d4235007fede3ebaf194baf5a46612" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_eggholder_retry</definition>
        <argsstring>()</argsstring>
        <name>test_eggholder_retry</name>
        <qualifiedname>fcmaes.test_cma.test_eggholder_retry</qualifiedname>
        <briefdescription>
<para>Tests the retry optimization functionality for the <ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref> function. </para>
        </briefdescription>
        <detaileddescription>
<para>This test evaluates the retry-based optimization implementation by invoking the minimize method with the <ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref> function as the target to check if it achieves desired optimization thresholds. The test asserts that the optimization target is reached, the correct number of function evaluations are performed, and the best x and y values returned align with the best encountered during evaluation.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>None</parametername>
</parameternamelist>
<parameterdescription>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the optimization target is not reached, if the number of function evaluations does not match, if the best x values obtained mismatch, or if the best y values obtained mismatch. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="564" column="1" bodyfile="fcmaes/test_cma.py" bodystart="564" bodyend="580"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1a02ddb211b712593bc51e118e3d26764d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_eggholder_advanced_retry</definition>
        <argsstring>()</argsstring>
        <name>test_eggholder_advanced_retry</name>
        <qualifiedname>fcmaes.test_cma.test_eggholder_advanced_retry</qualifiedname>
        <briefdescription>
<para>Tests the advanced retry mechanism of the <ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref> function optimization process. </para>
        </briefdescription>
        <detaileddescription>
<para>The function defines a two-dimensional <ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref> function and ensures that optimization performs effectively within a certain threshold. It validates the following aspects:<itemizedlist>
<listitem><para>The optimization result successfully satisfies the objective function target.</para>
</listitem><listitem><para>The number of function evaluations matches the expected count.</para>
</listitem><listitem><para>The optimal solution X and corresponding Y are correctly identified.</para>
</listitem></itemizedlist>
</para>
<para><parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the optimization target is not reached, function evaluations do not match, or if the best X and Y values are incorrect. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="596" column="1" bodyfile="fcmaes/test_cma.py" bodystart="596" bodyend="612"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1aa39a1c6e2b785ee9f6c3bfd330b057eb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_eggholder_retry_python</definition>
        <argsstring>()</argsstring>
        <name>test_eggholder_retry_python</name>
        <qualifiedname>fcmaes.test_cma.test_eggholder_retry_python</qualifiedname>
        <briefdescription>
<para>Tests the <ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref> function optimization with retry mechanism. </para>
        </briefdescription>
        <detaileddescription>
<para>This function performs optimization of the <ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref> function across 5 attempts, utilizing a retry logic to reinitialize and retry multiple times on failure. The test ensures that the optimization goal is met within the given constraints and verifies the correctness of various outcomes, including the function call count, the best identified arguments (<computeroutput>x</computeroutput>), and the best function evaluation (<computeroutput>y</computeroutput>).</para>
<para><parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the optimization target is not reached within the specified constraints, if the number of function evaluations (<computeroutput>nfev</computeroutput>) is incorrect, if the best arguments (<computeroutput>x</computeroutput>) returned are incorrect, or if the best function evaluation (<computeroutput>y</computeroutput>) returned is incorrect. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="629" column="1" bodyfile="fcmaes/test_cma.py" bodystart="629" bodyend="647"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1test__cma_1a5ff61f59a536b4c3c16c968e1eb8b568" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.test_cma.test_eggholder_advanced_retry_python</definition>
        <argsstring>()</argsstring>
        <name>test_eggholder_advanced_retry_python</name>
        <qualifiedname>fcmaes.test_cma.test_eggholder_advanced_retry_python</qualifiedname>
        <briefdescription>
<para>Tests the advanced retry mechanism for optimizing the <ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref> function. </para>
        </briefdescription>
        <detaileddescription>
<para>This test evaluates the functionality of the advanced retry mechanism combined with the differential evolution CMA optimizer (<computeroutput>de_cma_py</computeroutput>) on the <ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref> benchmark function. It verifies several key performance metrics such as the correctness of the returned optimal value, the number of function evaluations, and the retrieved best solution coordinates.</para>
<para><parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>AssertionError</parametername>
</parameternamelist>
<parameterdescription>
<para>If the limit is not surpassed by the optimizer after retries or if returned values (e.g., optimal solution, function evaluations, best coordinate) do not align with the expected results. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/test_cma.py" line="662" column="1" bodyfile="fcmaes/test_cma.py" bodystart="662" bodyend="682"/>
        <references refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" compoundref="test__cma_8py" startline="59" endline="75">fcmaes.test_cma.almost_equal</references>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>============================================================================= </para>
    </briefdescription>
    <detaileddescription>
<para>Fast version 1.6.11</para>
<para>(c) 2025 – Dietmar Wolz (c) 2025 – Latitude</para>
<para>License MIT</para>
<para><itemizedlist>
<listitem><para><ref refid="test__cma_8py" kindref="compound">test_cma.py</ref></para>
</listitem></itemizedlist>
</para>
<para><simplesect kind="par"><title>Description</title><para><itemizedlist>
<listitem><para>This file contains unit tests for the Fast CMA-ES library.</para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="author"><para>:<itemizedlist>
<listitem><para>Dietmar Wolz <programlisting><codeline><highlight class="normal">-<sp/>romain.despoullains</highlight><highlight class="preprocessor">@latitude.eu</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">-<sp/>corentin.generet</highlight><highlight class="preprocessor">@latitude.eu</highlight></codeline>
</programlisting></para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="par"><title>References</title><para><itemizedlist>
<listitem><para>[1] <ulink url="https://github.com/dietmarwo/fast-cma-es">https://github.com/dietmarwo/fast-cma-es</ulink></para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="par"><title>Documentation</title><para><itemizedlist>
<listitem><para><hruler/>
 </para>
</listitem></itemizedlist>
</para>
</simplesect>
</para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacefcmaes_1_1test__cma" refkind="compound"><highlight class="comment">#<sp/>-*-<sp/>coding:<sp/>utf-8<sp/>-*-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="3"><highlight class="stringliteral">=============================================================================</highlight></codeline>
<codeline lineno="4"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="5"><highlight class="stringliteral"><sp/>Fast<sp/>CMA-ES<sp/>-<sp/>version<sp/>1.6.11</highlight></codeline>
<codeline lineno="6"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="7"><highlight class="stringliteral"><sp/>(c)<sp/>2025<sp/>–<sp/>Dietmar<sp/>Wolz</highlight></codeline>
<codeline lineno="8"><highlight class="stringliteral"><sp/>(c)<sp/>2025<sp/>–<sp/>Latitude</highlight></codeline>
<codeline lineno="9"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="10"><highlight class="stringliteral"><sp/>License:<sp/>MIT</highlight></codeline>
<codeline lineno="11"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="12"><highlight class="stringliteral"><sp/>File:</highlight></codeline>
<codeline lineno="13"><highlight class="stringliteral"><sp/><sp/>-<sp/>test_cma.py</highlight></codeline>
<codeline lineno="14"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="15"><highlight class="stringliteral"><sp/>Description:</highlight></codeline>
<codeline lineno="16"><highlight class="stringliteral"><sp/><sp/>-<sp/>This<sp/>file<sp/>contains<sp/>unit<sp/>tests<sp/>for<sp/>the<sp/>Fast<sp/>CMA-ES<sp/>library.</highlight></codeline>
<codeline lineno="17"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="18"><highlight class="stringliteral"><sp/>Authors:</highlight></codeline>
<codeline lineno="19"><highlight class="stringliteral"><sp/><sp/>-<sp/>Dietmar<sp/>Wolz</highlight></codeline>
<codeline lineno="20"><highlight class="stringliteral"><sp/><sp/>-<sp/>romain.despoullains@latitude.eu</highlight></codeline>
<codeline lineno="21"><highlight class="stringliteral"><sp/><sp/>-<sp/>corentin.generet@latitude.eu</highlight></codeline>
<codeline lineno="22"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="23"><highlight class="stringliteral"><sp/>References:</highlight></codeline>
<codeline lineno="24"><highlight class="stringliteral"><sp/><sp/>-<sp/>[1]<sp/>https://github.com/dietmarwo/fast-cma-es</highlight></codeline>
<codeline lineno="25"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="26"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="27"><highlight class="stringliteral"><sp/>Documentation:</highlight></codeline>
<codeline lineno="28"><highlight class="stringliteral"><sp/><sp/>-</highlight></codeline>
<codeline lineno="29"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="30"><highlight class="stringliteral">=============================================================================</highlight></codeline>
<codeline lineno="31"><highlight class="stringliteral">&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>multiprocessing<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>mp</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>numpy<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>np</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>scipy.optimize<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>OptimizeResult</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1testfun" kindref="compound">fcmaes.testfun</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Wrapper,<sp/>Rosen,<sp/>Rastrigin,<sp/>Eggholder</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>fcmaes<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>cmaes,<sp/>de,<sp/>decpp,<sp/>cmaescpp,<sp/>retry,<sp/>advretry</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1optimizer" kindref="compound">fcmaes.optimizer</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>de_cma_py</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(X1,<sp/>X2,<sp/>eps<sp/>=<sp/>1E-5):</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="41"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Determines<sp/>if<sp/>two<sp/>numerical<sp/>values<sp/>or<sp/>sets<sp/>of<sp/>numerical<sp/>values<sp/>are<sp/>approximately</highlight></codeline>
<codeline lineno="42"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>equal<sp/>within<sp/>a<sp/>specified<sp/>tolerance.</highlight></codeline>
<codeline lineno="43"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="44"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>compares<sp/>two<sp/>scalar<sp/>values<sp/>or<sp/>lists<sp/>of<sp/>scalar<sp/>values<sp/>and<sp/>checks<sp/>if</highlight></codeline>
<codeline lineno="45"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>they<sp/>are<sp/>approximately<sp/>equivalent,<sp/>considering<sp/>a<sp/>given<sp/>threshold<sp/>for<sp/>acceptable</highlight></codeline>
<codeline lineno="46"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>deviation.<sp/>The<sp/>comparison<sp/>is<sp/>performed<sp/>element-wise<sp/>for<sp/>lists.</highlight></codeline>
<codeline lineno="47"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="48"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="49"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>X1:<sp/>A<sp/>scalar<sp/>value<sp/>or<sp/>a<sp/>list<sp/>of<sp/>scalar<sp/>values<sp/>to<sp/>compare.</highlight></codeline>
<codeline lineno="50"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>X2:<sp/>Another<sp/>scalar<sp/>value<sp/>or<sp/>a<sp/>list<sp/>of<sp/>scalar<sp/>values<sp/>to<sp/>compare.</highlight></codeline>
<codeline lineno="51"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eps:<sp/>A<sp/>small<sp/>positive<sp/>float<sp/>specifying<sp/>the<sp/>tolerance<sp/>for<sp/>comparison.<sp/>Default</highlight></codeline>
<codeline lineno="52"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is<sp/>1E-5.</highlight></codeline>
<codeline lineno="53"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="54"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="55"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bool:<sp/>True<sp/>if<sp/>the<sp/>values<sp/>are<sp/>approximately<sp/>equal<sp/>within<sp/>the<sp/>specified</highlight></codeline>
<codeline lineno="56"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tolerance;<sp/>False<sp/>otherwise.</highlight></codeline>
<codeline lineno="57"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>np.isscalar(X1):</highlight></codeline>
<codeline lineno="59" refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>X1<sp/>=<sp/>[X1]</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>X2<sp/>=<sp/>[X2]</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(X1)<sp/>!=<sp/>len(X2):</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(X1)):</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a<sp/>=<sp/>X1[i]</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>b<sp/>=<sp/>X2[i]</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(a)<sp/>&lt;<sp/>eps<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>abs(b)<sp/>&lt;<sp/>eps:</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(a<sp/>-<sp/>b)<sp/>&gt;<sp/>eps:</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(a<sp/>/<sp/>b<sp/>-<sp/>1<sp/>&gt;<sp/>eps):</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1a2e73dbd9042d810ea17f3936e4bde46a" kindref="member">test_rastrigin_python</ref>():</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="76"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>Rastrigin<sp/>function<sp/>optimization<sp/>using<sp/>the<sp/>CMA-ES<sp/>algorithm.</highlight></codeline>
<codeline lineno="77"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="78"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>performs<sp/>a<sp/>series<sp/>of<sp/>tests<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>CMA-ES</highlight></codeline>
<codeline lineno="79"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>optimization<sp/>algorithm<sp/>correctly<sp/>minimizes<sp/>the<sp/>Rastrigin<sp/>function,</highlight></codeline>
<codeline lineno="80"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>a<sp/>standard<sp/>test<sp/>function<sp/>in<sp/>optimization.<sp/>The<sp/>function<sp/>evaluates</highlight></codeline>
<codeline lineno="81"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>whether<sp/>the<sp/>optimization<sp/>reaches<sp/>the<sp/>target<sp/>goal<sp/>within<sp/>constraints</highlight></codeline>
<codeline lineno="82"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(using<sp/>bounds,<sp/>standard<sp/>deviations,<sp/>and<sp/>maximum<sp/>number<sp/>of<sp/>evaluations),</highlight></codeline>
<codeline lineno="83"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>whether<sp/>the<sp/>returned<sp/>results<sp/>conform<sp/>to<sp/>expected<sp/>outputs.</highlight></codeline>
<codeline lineno="84"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="85"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="86"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="87"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="88"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="89"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>any<sp/>of<sp/>the<sp/>assertions<sp/>fail,<sp/>indicating<sp/>that</highlight></codeline>
<codeline lineno="90"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>optimization<sp/>did<sp/>not<sp/>meet<sp/>the<sp/>expected<sp/>conditions<sp/>or<sp/>outcomes.</highlight></codeline>
<codeline lineno="91"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>100</highlight></codeline>
<codeline lineno="93" refid="namespacefcmaes_1_1test__cma_1a2e73dbd9042d810ea17f3936e4bde46a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>3</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_rastrigin" kindref="compound">Rastrigin</ref>(dim)</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>sdevs<sp/>=<sp/>[1.0]*dim</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>max_eval<sp/>=<sp/>100000</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>0.0001<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>stochastic<sp/>optimization<sp/>may<sp/>fail<sp/>the<sp/>first<sp/>time</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>a<sp/>wrapper<sp/>to<sp/>monitor<sp/>function<sp/>evaluations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>cmaes.minimize(wrapper.eval,<sp/>testfun.bounds,<sp/>input_sigma<sp/>=<sp/>sdevs,<sp/></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations<sp/>=<sp/>max_eval,<sp/>popsize=popsize)</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>+<sp/>popsize<sp/>&gt;=<sp/>ret.nfev)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>function<sp/>calls</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>/<sp/>popsize<sp/>+<sp/>2<sp/>&gt;<sp/>ret.nit)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>iterations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.status<sp/>==<sp/>4)<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>cma<sp/>termination<sp/>code</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.nfev<sp/>==<sp/>wrapper.get_count())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>number<sp/>of<sp/>function<sp/>calls<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.x,<sp/>wrapper.get_best_x()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.fun<sp/>==<sp/>wrapper.get_best_y())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1ac0a08b371b89371721929cd1399aaea9" kindref="member">test_rosen_python</ref>():</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="118"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>Rosenbrock<sp/>function<sp/>optimization<sp/>using<sp/>the<sp/>CMA-ES<sp/>algorithm.</highlight></codeline>
<codeline lineno="119"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="120"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>test<sp/>evaluates<sp/>the<sp/>performance<sp/>of<sp/>the<sp/>CMA-ES<sp/>optimization<sp/>algorithm<sp/>on</highlight></codeline>
<codeline lineno="121"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>Rosenbrock<sp/>function<sp/>with<sp/>specific<sp/>settings<sp/>for<sp/>dimensionality,<sp/>population</highlight></codeline>
<codeline lineno="122"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>size,<sp/>standard<sp/>deviations,<sp/>and<sp/>maximum<sp/>function<sp/>evaluations.<sp/>It<sp/>checks<sp/>if<sp/>the</highlight></codeline>
<codeline lineno="123"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>optimization<sp/>target<sp/>is<sp/>reached<sp/>within<sp/>the<sp/>given<sp/>constraints<sp/>and<sp/>validates<sp/>the</highlight></codeline>
<codeline lineno="124"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>result<sp/>consistency<sp/>of<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="125"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="126"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="127"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>optimization<sp/>does<sp/>not<sp/>achieve<sp/>the<sp/>expected<sp/>results</highlight></codeline>
<codeline lineno="128"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>including:</highlight></codeline>
<codeline lineno="129"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>Optimization<sp/>target<sp/>(minimum<sp/>function<sp/>value)<sp/>not<sp/>reached.</highlight></codeline>
<codeline lineno="130"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>Excessive<sp/>function<sp/>evaluations<sp/>during<sp/>optimization.</highlight></codeline>
<codeline lineno="131"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>Excessive<sp/>iterations<sp/>performed.</highlight></codeline>
<codeline lineno="132"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>Mismatched<sp/>function<sp/>call<sp/>count<sp/>from<sp/>the<sp/>optimization<sp/>algorithm<sp/>versus</highlight></codeline>
<codeline lineno="133"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>internal<sp/>wrapper.</highlight></codeline>
<codeline lineno="134"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>Incorrect<sp/>best<sp/>solution<sp/>vector<sp/>or<sp/>value<sp/>returned.</highlight></codeline>
<codeline lineno="135"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>31</highlight></codeline>
<codeline lineno="137" refid="namespacefcmaes_1_1test__cma_1ac0a08b371b89371721929cd1399aaea9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>5</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_rosen" kindref="compound">Rosen</ref>(dim)</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>sdevs<sp/>=<sp/>[1.0]*dim</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>max_eval<sp/>=<sp/>100000</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>0.00001<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>cmaes.minimize(wrapper.eval,<sp/>testfun.bounds,<sp/>input_sigma<sp/>=<sp/>sdevs,<sp/></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations<sp/>=<sp/>max_eval,<sp/>popsize=popsize)</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>+<sp/>popsize<sp/>&gt;=<sp/>ret.nfev)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>function<sp/>calls</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>/<sp/>popsize<sp/>+<sp/>2<sp/>&gt;<sp/>ret.nit)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>iterations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.nfev<sp/>==<sp/>wrapper.get_count())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>number<sp/>of<sp/>function<sp/>calls<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.x,<sp/>wrapper.get_best_x()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.fun<sp/>==<sp/>wrapper.get_best_y())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1a7ec4b8716063cabb65fc0ee28ec32a2c" kindref="member">test_rosen_ask_tell</ref>():</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="159"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>ask-tell<sp/>interface<sp/>of<sp/>the<sp/>CMA-ES<sp/>algorithm<sp/>on<sp/>the<sp/>Rosenbrock</highlight></codeline>
<codeline lineno="160"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>function<sp/>over<sp/>multiple<sp/>iterations<sp/>and<sp/>asserts<sp/>the<sp/>optimization<sp/>results.</highlight></codeline>
<codeline lineno="161"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="162"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>function<sp/>initializes<sp/>a<sp/>CMA-ES<sp/>instance<sp/>with<sp/>the<sp/>specified</highlight></codeline>
<codeline lineno="163"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>hyperparameters<sp/>and<sp/>evaluates<sp/>its<sp/>performance<sp/>over<sp/>a<sp/>predefined</highlight></codeline>
<codeline lineno="164"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>number<sp/>of<sp/>iterations<sp/>and<sp/>maximum<sp/>evaluations.<sp/>The<sp/>results<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="165"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>optimization<sp/>process<sp/>are<sp/>validated<sp/>against<sp/>threshold<sp/>values<sp/>to</highlight></codeline>
<codeline lineno="166"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>ensure<sp/>that<sp/>the<sp/>CMA-ES<sp/>implementation<sp/>satisfies<sp/>expected<sp/>performance</highlight></codeline>
<codeline lineno="167"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>criteria.</highlight></codeline>
<codeline lineno="168"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="169"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="170"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>optimization<sp/>target<sp/>is<sp/>not<sp/>achieved<sp/>within</highlight></codeline>
<codeline lineno="171"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>defined<sp/>constraints<sp/>of<sp/>function<sp/>evaluations<sp/>or<sp/>iterations.</highlight></codeline>
<codeline lineno="172"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>31</highlight></codeline>
<codeline lineno="174" refid="namespacefcmaes_1_1test__cma_1a7ec4b8716063cabb65fc0ee28ec32a2c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>5</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_rosen" kindref="compound">Rosen</ref>(dim)</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/>sdevs<sp/>=<sp/>[1.0]*dim</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>max_eval<sp/>=<sp/>100000<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>0.00001<sp/></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>es<sp/>=<sp/><ref refid="classfcmaes_1_1cmaes_1_1_cmaes" kindref="compound">cmaes.Cmaes</ref>(testfun.bounds,</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>popsize,<sp/>input_sigma<sp/>=<sp/>sdevs)<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iters<sp/>=<sp/>max_eval<sp/>//<sp/>popsize</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(iters):</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs<sp/>=<sp/>es.ask()</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>[wrapper.eval(x)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>xs]</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop<sp/>=<sp/>es.tell(ys)</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>stop<sp/>!=<sp/>0:</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>OptimizeResult(x=es.best_x,<sp/>fun=es.best_value,<sp/></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nfev=wrapper.get_count(),<sp/></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nit=es.iterations,<sp/>status=es.stop)</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>+<sp/>popsize<sp/>&gt;=<sp/>ret.nfev)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>function<sp/>calls</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>/<sp/>popsize<sp/>+<sp/>2<sp/>&gt;<sp/>ret.nit)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>iterations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>assert(almost_equal(ret.x,<sp/>wrapper.get_best_x()))<sp/>#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>assert(ret.fun<sp/>==<sp/>wrapper.get_best_y())<sp/>#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1ad3b0a415eace1ef9007488cc11361e41" kindref="member">test_rosen_cpp</ref>():</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="203"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Runs<sp/>a<sp/>test<sp/>on<sp/>a<sp/>Rosenbrock<sp/>function<sp/>optimization<sp/>using<sp/>CMA-ES<sp/>(Covariance<sp/>Matrix<sp/>Adaptation</highlight></codeline>
<codeline lineno="204"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Evolution<sp/>Strategy)<sp/>implemented<sp/>in<sp/>C++<sp/>and<sp/>Python<sp/>wrappers.<sp/>This<sp/>test<sp/>validates<sp/>the<sp/>optimization</highlight></codeline>
<codeline lineno="205"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>procedure<sp/>by<sp/>asserting<sp/>constraints<sp/>on<sp/>the<sp/>optimization<sp/>target,<sp/>number<sp/>of<sp/>function<sp/>evaluations,</highlight></codeline>
<codeline lineno="206"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>results<sp/>consistency.</highlight></codeline>
<codeline lineno="207"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="208"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>function<sp/>initializes<sp/>test<sp/>parameters<sp/>including<sp/>population<sp/>size,<sp/>dimensions,<sp/>standard<sp/>deviations,</highlight></codeline>
<codeline lineno="209"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>maximum<sp/>evaluations.<sp/>It<sp/>then<sp/>runs<sp/>the<sp/>optimization<sp/>multiple<sp/>times,<sp/>stopping<sp/>early<sp/>if<sp/>a<sp/>defined</highlight></codeline>
<codeline lineno="210"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>limit<sp/>on<sp/>the<sp/>objective<sp/>function<sp/>is<sp/>achieved.<sp/>Assertions<sp/>verify<sp/>the<sp/>results<sp/>of<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="211"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="212"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="213"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>optimization<sp/>result<sp/>does<sp/>not<sp/>meet<sp/>the<sp/>defined<sp/>constraints<sp/>on<sp/>the</highlight></codeline>
<codeline lineno="214"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>objective<sp/>function<sp/>value,<sp/>number<sp/>of<sp/>function<sp/>evaluations,<sp/>best<sp/>solution<sp/>`x`,<sp/>or<sp/>best</highlight></codeline>
<codeline lineno="215"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>objective<sp/>function<sp/>value<sp/>`y`.</highlight></codeline>
<codeline lineno="216"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>31</highlight></codeline>
<codeline lineno="218" refid="namespacefcmaes_1_1test__cma_1ad3b0a415eace1ef9007488cc11361e41" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>5</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_rosen" kindref="compound">Rosen</ref>(dim)</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>sdevs<sp/>=<sp/>[1.0]*dim</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/>max_eval<sp/>=<sp/>100000</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>0.00001<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>cmaescpp.minimize(wrapper.eval,<sp/>testfun.bounds,<sp/>input_sigma<sp/>=<sp/>sdevs,<sp/></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations<sp/>=<sp/>max_eval,<sp/>popsize=popsize)</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>+<sp/>popsize<sp/>&gt;=<sp/>ret.nfev)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>function<sp/>calls<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.nfev<sp/>==<sp/>wrapper.get_count())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>number<sp/>of<sp/>function<sp/>calls<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.x,<sp/>wrapper.get_best_x()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.fun<sp/>==<sp/>wrapper.get_best_y())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1acea283ec5bc0b3c0931d864d3e7ca963" kindref="member">test_rosen_parallel</ref>():</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="239"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>optimization<sp/>algorithm&apos;s<sp/>ability<sp/>to<sp/>minimize<sp/>Rosenbrock&apos;s<sp/>function</highlight></codeline>
<codeline lineno="240"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>using<sp/>a<sp/>parallelized<sp/>CMA-ES<sp/>(Covariance<sp/>Matrix<sp/>Adaptation<sp/>Evolution<sp/>Strategy)</highlight></codeline>
<codeline lineno="241"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>implementation<sp/>with<sp/>a<sp/>preset<sp/>population<sp/>size.<sp/>Verifies<sp/>the<sp/>optimization</highlight></codeline>
<codeline lineno="242"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>process<sp/>meets<sp/>expected<sp/>limits<sp/>for<sp/>function<sp/>calls,<sp/>iterations,<sp/>and<sp/>optimization</highlight></codeline>
<codeline lineno="243"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>accuracy.</highlight></codeline>
<codeline lineno="244"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="245"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="246"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>optimization<sp/>target<sp/>is<sp/>not<sp/>reached<sp/>within<sp/>the</highlight></codeline>
<codeline lineno="247"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>specified<sp/>limit,<sp/>the<sp/>number<sp/>of<sp/>function<sp/>calls<sp/>exceeds<sp/>the<sp/>maximum</highlight></codeline>
<codeline lineno="248"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evaluations,<sp/>the<sp/>number<sp/>of<sp/>iterations<sp/>exceeds<sp/>the<sp/>expected<sp/>bound,</highlight></codeline>
<codeline lineno="249"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>or<sp/>the<sp/>resulting<sp/>best<sp/>X<sp/>and<sp/>Y<sp/>do<sp/>not<sp/>match<sp/>the<sp/>expected<sp/>values<sp/>within</highlight></codeline>
<codeline lineno="250"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>given<sp/>accuracy.</highlight></codeline>
<codeline lineno="251"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>8</highlight></codeline>
<codeline lineno="253" refid="namespacefcmaes_1_1test__cma_1acea283ec5bc0b3c0931d864d3e7ca963" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_rosen" kindref="compound">Rosen</ref>(dim)</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>sdevs<sp/>=<sp/>[1.0]*dim</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>max_eval<sp/>=<sp/>10000</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>0.00001<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>cmaes.minimize(wrapper.eval,<sp/>testfun.bounds,<sp/>input_sigma<sp/>=<sp/>sdevs,<sp/></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations<sp/>=<sp/>max_eval,<sp/></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize=popsize,<sp/>workers<sp/>=<sp/>popsize)</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>+<sp/>popsize<sp/>&gt;=<sp/>ret.nfev)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>function<sp/>calls</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>//<sp/>popsize<sp/>+<sp/>2<sp/>&gt;<sp/>ret.nit)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>iterations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.x,<sp/>wrapper.get_best_x()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.fun,<sp/>wrapper.get_best_y(),<sp/>eps=1E-1))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1a51fa8539bc5e205e434371d8ddef2901" kindref="member">test_rosen_cpp_parallel</ref>():</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="275"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>parallel<sp/>implementation<sp/>of<sp/>the<sp/>Rosenbrock<sp/>function<sp/>optimization<sp/>using<sp/>a</highlight></codeline>
<codeline lineno="276"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>C++<sp/>CMA-ES<sp/>(Covariance<sp/>Matrix<sp/>Adaptation<sp/>Evolution<sp/>Strategy)<sp/>wrapper.</highlight></codeline>
<codeline lineno="277"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="278"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>evaluates<sp/>the<sp/>optimization<sp/>process<sp/>using<sp/>the<sp/>Rosenbrock<sp/>function.</highlight></codeline>
<codeline lineno="279"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>optimization<sp/>parameters<sp/>include<sp/>the<sp/>population<sp/>size,<sp/>dimensionality,<sp/>initial</highlight></codeline>
<codeline lineno="280"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>standard<sp/>deviations,<sp/>maximum<sp/>evaluations,<sp/>and<sp/>function<sp/>bounds.<sp/>The<sp/>function<sp/>tests</highlight></codeline>
<codeline lineno="281"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>whether<sp/>the<sp/>optimization<sp/>converges<sp/>within<sp/>the<sp/>limits,<sp/>ensures<sp/>the<sp/>function<sp/>calls</highlight></codeline>
<codeline lineno="282"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>iterations<sp/>do<sp/>not<sp/>exceed<sp/>expected<sp/>numbers,<sp/>and<sp/>validates<sp/>the<sp/>returned<sp/>best</highlight></codeline>
<codeline lineno="283"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>solution<sp/>and<sp/>function<sp/>value.</highlight></codeline>
<codeline lineno="284"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="285"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="286"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>any<sp/>of<sp/>the<sp/>assertions<sp/>for<sp/>convergence,<sp/>function<sp/>calls,</highlight></codeline>
<codeline lineno="287"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iterations,<sp/>or<sp/>optimized<sp/>solution<sp/>validations<sp/>fail.</highlight></codeline>
<codeline lineno="288"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>8</highlight></codeline>
<codeline lineno="290" refid="namespacefcmaes_1_1test__cma_1a51fa8539bc5e205e434371d8ddef2901" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_rosen" kindref="compound">Rosen</ref>(dim)</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/>sdevs<sp/>=<sp/>[1.0]*dim</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/>max_eval<sp/>=<sp/>10000</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>0.00001<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>cmaescpp.minimize(wrapper.eval,<sp/>testfun.bounds,<sp/>input_sigma<sp/>=<sp/>sdevs,<sp/></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations<sp/>=<sp/>max_eval,<sp/></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize=popsize,<sp/>workers<sp/>=<sp/>popsize)</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>+<sp/>popsize<sp/>&gt;=<sp/>ret.nfev)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>function<sp/>calls</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>//<sp/>popsize<sp/>+<sp/>2<sp/>&gt;<sp/>ret.nit)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>iterations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.x,<sp/>wrapper.get_best_x()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.fun,<sp/>wrapper.get_best_y(),<sp/>eps<sp/>=<sp/>1E-1))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1a4821d7d9a8c7dd879fd2b20760804c45" kindref="member">test_rosen_de</ref>():</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="312"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>Rosenbrock<sp/>function<sp/>optimization<sp/>using<sp/>differential<sp/>evolution.</highlight></codeline>
<codeline lineno="313"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="314"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>evaluates<sp/>the<sp/>performance<sp/>of<sp/>the<sp/>Differential<sp/>Evolution<sp/>(DE)</highlight></codeline>
<codeline lineno="315"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>optimization<sp/>algorithm<sp/>for<sp/>minimizing<sp/>the<sp/>Rosenbrock<sp/>function,<sp/>a<sp/>common</highlight></codeline>
<codeline lineno="316"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>benchmark<sp/>test<sp/>for<sp/>optimization<sp/>routines.<sp/>It<sp/>ensures<sp/>that<sp/>the<sp/>target</highlight></codeline>
<codeline lineno="317"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>optimization<sp/>and<sp/>other<sp/>performance<sp/>metrics<sp/>(e.g.,<sp/>function<sp/>calls,<sp/>iterations)</highlight></codeline>
<codeline lineno="318"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>were<sp/>achieved<sp/>successfully.</highlight></codeline>
<codeline lineno="319"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="320"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="321"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>optimization<sp/>target<sp/>is<sp/>not<sp/>reached<sp/>within<sp/>the<sp/>given</highlight></codeline>
<codeline lineno="322"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>constraints<sp/>of<sp/>maximum<sp/>evaluations,<sp/>iterations,<sp/>or<sp/>if<sp/>there<sp/>are</highlight></codeline>
<codeline lineno="323"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>discrepancies<sp/>in<sp/>the<sp/>optimization<sp/>results,<sp/>such<sp/>as<sp/>mismatch<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="324"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>best<sp/>found<sp/>solution<sp/>or<sp/>the<sp/>number<sp/>of<sp/>function<sp/>calls.</highlight></codeline>
<codeline lineno="325"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>8</highlight></codeline>
<codeline lineno="327" refid="namespacefcmaes_1_1test__cma_1a4821d7d9a8c7dd879fd2b20760804c45" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_rosen" kindref="compound">Rosen</ref>(dim)</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/>max_eval<sp/>=<sp/>10000<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>0.00001<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>de.minimize(wrapper.eval,<sp/>dim,<sp/>testfun.bounds,</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations<sp/>=<sp/>max_eval,<sp/></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize=popsize,<sp/>workers<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>+<sp/>2*popsize<sp/>&gt;=<sp/>ret.nfev)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>function<sp/>calls</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>//<sp/>popsize<sp/>+<sp/>2<sp/>&gt;<sp/>ret.nit)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>iterations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.nfev<sp/>==<sp/>wrapper.get_count())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>number<sp/>of<sp/>function<sp/>calls<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.x,<sp/>wrapper.get_best_x()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.fun<sp/>==<sp/>wrapper.get_best_y())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1a1115f0b14db848a92fd7ff0a646f58de" kindref="member">test_rosen_de_parallel</ref>():</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="348"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>Differential<sp/>Evolution<sp/>(DE)<sp/>algorithm&apos;s<sp/>functionality<sp/>and<sp/>behavior<sp/>using<sp/>the</highlight></codeline>
<codeline lineno="349"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Rosenbrock<sp/>function<sp/>within<sp/>a<sp/>parallel<sp/>environment.<sp/>The<sp/>method<sp/>sets<sp/>up<sp/>parameters,</highlight></codeline>
<codeline lineno="350"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>executes<sp/>the<sp/>DE<sp/>optimization,<sp/>and<sp/>validates<sp/>several<sp/>conditions<sp/>to<sp/>ensure<sp/>the<sp/>correctness</highlight></codeline>
<codeline lineno="351"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>performance<sp/>of<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="352"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="353"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="354"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>optimization<sp/>target<sp/>is<sp/>not<sp/>reached.</highlight></codeline>
<codeline lineno="355"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>number<sp/>of<sp/>function<sp/>evaluations<sp/>exceeds<sp/>the<sp/>defined<sp/>limit.</highlight></codeline>
<codeline lineno="356"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>number<sp/>of<sp/>iterations<sp/>exceeds<sp/>the<sp/>expected<sp/>maximum.</highlight></codeline>
<codeline lineno="357"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>returned<sp/>number<sp/>of<sp/>function<sp/>evaluations<sp/>does<sp/>not<sp/>match</highlight></codeline>
<codeline lineno="358"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>wrapper&apos;s<sp/>recorded<sp/>count.</highlight></codeline>
<codeline lineno="359"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>incorrect<sp/>best<sp/>Y<sp/>value<sp/>is<sp/>returned<sp/>by<sp/>the<sp/>optimization.</highlight></codeline>
<codeline lineno="360"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>8</highlight></codeline>
<codeline lineno="362" refid="namespacefcmaes_1_1test__cma_1a1115f0b14db848a92fd7ff0a646f58de" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_rosen" kindref="compound">Rosen</ref>(dim)</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/>max_eval<sp/>=<sp/>10000<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>0.01<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>de.minimize(wrapper.eval,<sp/>dim,<sp/>testfun.bounds,</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations<sp/>=<sp/>max_eval,<sp/></highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize=popsize,<sp/>workers<sp/>=<sp/>popsize)</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>+<sp/>popsize<sp/>&gt;=<sp/>ret.nfev)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>function<sp/>calls</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>//<sp/>popsize<sp/>+<sp/>2<sp/>&gt;<sp/>ret.nit)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>iterations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.nfev<sp/>==<sp/>wrapper.get_count())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>number<sp/>of<sp/>function<sp/>calls<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>assert(almost_equal(ret.x,<sp/>wrapper.get_best_x()))<sp/>#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.fun,<sp/>wrapper.get_best_y(),<sp/>eps<sp/>=<sp/>1E-1))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1a5a01b755e5c5a97dc38606546f0ea3de" kindref="member">test_rosen_ask_tell_de</ref>():</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="383"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>Differential<sp/>Evolution<sp/>optimization<sp/>process<sp/>for<sp/>the<sp/>Rosenbrock</highlight></codeline>
<codeline lineno="384"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>function<sp/>using<sp/>an<sp/>ask-and-tell<sp/>interface.<sp/>The<sp/>test<sp/>validates<sp/>convergence</highlight></codeline>
<codeline lineno="385"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>performance,<sp/>ensures<sp/>the<sp/>optimization<sp/>adheres<sp/>to<sp/>provided<sp/>constraints,</highlight></codeline>
<codeline lineno="386"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>checks<sp/>correctness<sp/>of<sp/>the<sp/>achieved<sp/>results<sp/>against<sp/>defined<sp/>limits.</highlight></codeline>
<codeline lineno="387"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="388"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="389"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="390"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="391"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="392"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>optimization<sp/>target<sp/>function<sp/>value<sp/>is<sp/>not<sp/>less</highlight></codeline>
<codeline lineno="393"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>than<sp/>the<sp/>specified<sp/>limit.</highlight></codeline>
<codeline lineno="394"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>number<sp/>of<sp/>function<sp/>evaluations<sp/>surpasses<sp/>the</highlight></codeline>
<codeline lineno="395"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>allowed<sp/>maximum<sp/>evaluations<sp/>plus<sp/>the<sp/>buffer<sp/>(2<sp/>*<sp/>population<sp/>size).</highlight></codeline>
<codeline lineno="396"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>number<sp/>of<sp/>iterations<sp/>exceeds<sp/>the<sp/>allowed<sp/>maximum</highlight></codeline>
<codeline lineno="397"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iterations<sp/>plus<sp/>a<sp/>buffer.</highlight></codeline>
<codeline lineno="398"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>optimized<sp/>function<sp/>value<sp/>returned<sp/>does<sp/>not</highlight></codeline>
<codeline lineno="399"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>closely<sp/>approximate<sp/>the<sp/>expected<sp/>best<sp/>value<sp/>with<sp/>the<sp/>given<sp/>tolerance.</highlight></codeline>
<codeline lineno="400"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="401"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>8</highlight></codeline>
<codeline lineno="403" refid="namespacefcmaes_1_1test__cma_1a5a01b755e5c5a97dc38606546f0ea3de" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_rosen" kindref="compound">Rosen</ref>(dim)</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/>max_eval<sp/>=<sp/>10000<sp/><sp/></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>0.00001<sp/></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>es<sp/>=<sp/><ref refid="classfcmaes_1_1de_1_1_d_e" kindref="compound">de.DE</ref>(dim,<sp/>testfun.bounds,<sp/>popsize<sp/>=<sp/>popsize)<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iters<sp/>=<sp/>max_eval<sp/>//<sp/>popsize</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(iters):</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs<sp/>=<sp/>es.ask()</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>[wrapper.eval(x)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>xs]</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop<sp/>=<sp/>es.tell(ys,<sp/>xs)</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>stop<sp/>!=<sp/>0:</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>OptimizeResult(x=es.best_x,<sp/>fun=es.best_value,<sp/></highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nfev=wrapper.get_count(),<sp/></highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nit=es.iterations,<sp/>status=es.stop)</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>+<sp/>2*popsize<sp/>&gt;=<sp/>ret.nfev)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>function<sp/>calls</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>/<sp/>popsize<sp/>+<sp/>2<sp/>&gt;<sp/>ret.nit)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>iterations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>assert(almost_equal(ret.x,<sp/>wrapper.get_best_x()))<sp/>#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.fun,<sp/>wrapper.get_best_y(),<sp/>eps<sp/>=<sp/>1E-1))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1a9bf91ec31779ea12048ac626d8a04313" kindref="member">test_rosen_decpp</ref>():</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="430"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Test<sp/>the<sp/>Rosenbrock<sp/>optimization<sp/>function<sp/>using<sp/>the<sp/>Differential<sp/>Evolution<sp/>with<sp/>Population<sp/>Adaptation</highlight></codeline>
<codeline lineno="431"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(DECPP)<sp/>algorithm.<sp/>This<sp/>test<sp/>evaluates<sp/>various<sp/>aspects<sp/>of<sp/>the<sp/>optimization&apos;s<sp/>outcome,<sp/>including</highlight></codeline>
<codeline lineno="432"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>convergence<sp/>to<sp/>the<sp/>optimal<sp/>result,<sp/>the<sp/>number<sp/>of<sp/>function<sp/>evaluations,<sp/>iterations,<sp/>and<sp/>consistency</highlight></codeline>
<codeline lineno="433"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>of<sp/>return<sp/>values.</highlight></codeline>
<codeline lineno="434"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="435"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Variables:</highlight></codeline>
<codeline lineno="436"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize<sp/>(int):<sp/>Sample<sp/>size<sp/>of<sp/>the<sp/>population<sp/>used<sp/>in<sp/>DECPP<sp/>optimization.</highlight></codeline>
<codeline lineno="437"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dim<sp/>(int):<sp/>Dimensionality<sp/>of<sp/>the<sp/>optimization<sp/>problem.<sp/>For<sp/>the<sp/>Rosenbrock<sp/>function,<sp/>this<sp/>specifies</highlight></codeline>
<codeline lineno="438"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>input<sp/>size.</highlight></codeline>
<codeline lineno="439"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>testfun<sp/>(Rosen):<sp/>Instance<sp/>of<sp/>the<sp/>Rosen<sp/>class<sp/>to<sp/>define<sp/>the<sp/>objective<sp/>function<sp/>and<sp/>bounds.</highlight></codeline>
<codeline lineno="440"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_eval<sp/>(int):<sp/>Maximum<sp/>number<sp/>of<sp/>function<sp/>evaluations<sp/>allowed<sp/>for<sp/>the<sp/>optimization.</highlight></codeline>
<codeline lineno="441"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>limit<sp/>(float):<sp/>Threshold<sp/>for<sp/>the<sp/>optimization<sp/>objective<sp/>value<sp/>to<sp/>consider<sp/>a<sp/>successful<sp/>result.</highlight></codeline>
<codeline lineno="442"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>8</highlight></codeline>
<codeline lineno="444" refid="namespacefcmaes_1_1test__cma_1a9bf91ec31779ea12048ac626d8a04313" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_rosen" kindref="compound">Rosen</ref>(dim)</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/>max_eval<sp/>=<sp/>10000<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>0.00001<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>decpp.minimize(wrapper.eval,<sp/>dim,<sp/>testfun.bounds,</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations<sp/>=<sp/>max_eval,<sp/></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize=popsize,<sp/>workers<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>+<sp/>2*popsize<sp/>&gt;=<sp/>ret.nfev)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>function<sp/>calls</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>//<sp/>popsize<sp/>+<sp/>2<sp/>&gt;<sp/>ret.nit)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>iterations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.nfev<sp/>==<sp/>wrapper.get_count())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>number<sp/>of<sp/>function<sp/>calls<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.x,<sp/>wrapper.get_best_x()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.fun,<sp/>wrapper.get_best_y()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1a574c6dc9453d6792bae4513b307c0e43" kindref="member">test_rosen_decpp_parallel</ref>():</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="465"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>`decpp.minimize`<sp/>function<sp/>applied<sp/>to<sp/>optimize<sp/>the<sp/>Rosenbrock</highlight></codeline>
<codeline lineno="466"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>function<sp/>in<sp/>parallel<sp/>with<sp/>specific<sp/>conditions.<sp/>Verifies<sp/>correctness</highlight></codeline>
<codeline lineno="467"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>based<sp/>on<sp/>optimization<sp/>target,<sp/>number<sp/>of<sp/>function<sp/>evaluations,</highlight></codeline>
<codeline lineno="468"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>iterations,<sp/>and<sp/>final<sp/>results<sp/>for<sp/>optimization.</highlight></codeline>
<codeline lineno="469"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="470"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="471"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="472"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="473"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="474"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>optimization<sp/>target<sp/>is<sp/>not<sp/>reached.</highlight></codeline>
<codeline lineno="475"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>number<sp/>of<sp/>function<sp/>calls<sp/>exceeds<sp/>the<sp/>expected</highlight></codeline>
<codeline lineno="476"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>maximum.</highlight></codeline>
<codeline lineno="477"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>number<sp/>of<sp/>iterations<sp/>surpasses<sp/>the<sp/>expected</highlight></codeline>
<codeline lineno="478"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>maximum.</highlight></codeline>
<codeline lineno="479"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>best<sp/>found<sp/>`x`<sp/>does<sp/>not<sp/>match<sp/>the<sp/>expected</highlight></codeline>
<codeline lineno="480"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>within<sp/>a<sp/>given<sp/>tolerance.</highlight></codeline>
<codeline lineno="481"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>best<sp/>found<sp/>`y`<sp/>does<sp/>not<sp/>match<sp/>the<sp/>expected</highlight></codeline>
<codeline lineno="482"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>within<sp/>a<sp/>given<sp/>tolerance.</highlight></codeline>
<codeline lineno="483"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>8</highlight></codeline>
<codeline lineno="485" refid="namespacefcmaes_1_1test__cma_1a574c6dc9453d6792bae4513b307c0e43" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_rosen" kindref="compound">Rosen</ref>(dim)</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/>max_eval<sp/>=<sp/>10000<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>0.01<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>decpp.minimize(wrapper.eval,<sp/>dim,<sp/>testfun.bounds,</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations<sp/>=<sp/>max_eval,<sp/></highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize=popsize,<sp/>workers<sp/>=<sp/>popsize)</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>+<sp/>popsize<sp/>&gt;=<sp/>ret.nfev)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>function<sp/>calls</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>//<sp/>popsize<sp/>+<sp/>2<sp/>&gt;<sp/>ret.nit)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>iterations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#assert(ret.nfev<sp/>==<sp/>wrapper.get_count())<sp/>#<sp/>wrong<sp/>number<sp/>of<sp/>function<sp/>calls<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.x,<sp/>wrapper.get_best_x(),<sp/>eps<sp/>=<sp/>1E-2))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.fun,<sp/>wrapper.get_best_y(),<sp/>eps<sp/>=<sp/>1E-2))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="503"><highlight class="normal"></highlight></codeline>
<codeline lineno="504"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1a2128729d18fafa07c146daa25880d870" kindref="member">test_eggholder_python</ref>():</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="506"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>Eggholder<sp/>function<sp/>minimization<sp/>using<sp/>the<sp/>CMA-ES<sp/>optimization<sp/>algorithm.</highlight></codeline>
<codeline lineno="507"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="508"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>evaluates<sp/>the<sp/>performance<sp/>of<sp/>the<sp/>CMA-ES<sp/>optimizer<sp/>in<sp/>minimizing<sp/>the</highlight></codeline>
<codeline lineno="509"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Eggholder<sp/>function,<sp/>a<sp/>complex<sp/>and<sp/>multimodal<sp/>test<sp/>function,<sp/>over<sp/>a<sp/>specified<sp/>number</highlight></codeline>
<codeline lineno="510"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>of<sp/>dimensions<sp/>and<sp/>population<sp/>size.<sp/>The<sp/>test<sp/>ensures<sp/>that<sp/>optimization<sp/>targets<sp/>are</highlight></codeline>
<codeline lineno="511"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>reached<sp/>within<sp/>the<sp/>defined<sp/>function<sp/>evaluation<sp/>limits.<sp/>It<sp/>also<sp/>verifies<sp/>various</highlight></codeline>
<codeline lineno="512"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>aspects<sp/>of<sp/>the<sp/>optimization<sp/>process,<sp/>including<sp/>the<sp/>number<sp/>of<sp/>function<sp/>evaluations<sp/>and</highlight></codeline>
<codeline lineno="513"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>final<sp/>results.</highlight></codeline>
<codeline lineno="514"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="515"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="516"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="517"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="518"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="519"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>Raised<sp/>if<sp/>the<sp/>optimization<sp/>target<sp/>is<sp/>not<sp/>achieved,<sp/>if<sp/>the<sp/>number</highlight></codeline>
<codeline lineno="520"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>of<sp/>function<sp/>evaluations<sp/>exceeds<sp/>the<sp/>limit,<sp/>or<sp/>if<sp/>the<sp/>returned<sp/>results<sp/>are</highlight></codeline>
<codeline lineno="521"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inconsistent<sp/>with<sp/>the<sp/>wrapper&apos;s<sp/>records.</highlight></codeline>
<codeline lineno="522"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>1000</highlight></codeline>
<codeline lineno="524" refid="namespacefcmaes_1_1test__cma_1a2128729d18fafa07c146daa25880d870" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref>()</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>a<sp/>wrapper<sp/>to<sp/>monitor<sp/>function<sp/>evaluations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/>sdevs<sp/>=<sp/>[1.0]*dim</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/>max_eval<sp/>=<sp/>100000</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>-800<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>cmaes.minimize(wrapper.eval,<sp/>testfun.bounds,<sp/>input_sigma<sp/>=<sp/>sdevs,<sp/></highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations<sp/>=<sp/>max_eval,<sp/>popsize=popsize)</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(max_eval<sp/>+<sp/>popsize<sp/>&gt;=<sp/>ret.nfev)<sp/></highlight><highlight class="comment">#<sp/>too<sp/>much<sp/>function<sp/>calls</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.nfev<sp/>==<sp/>wrapper.get_count())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>number<sp/>of<sp/>function<sp/>calls<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.x,<sp/>wrapper.get_best_x()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.fun<sp/>==<sp/>wrapper.get_best_y())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="543"><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1a06d4235007fede3ebaf194baf5a46612" kindref="member">test_eggholder_retry</ref>():</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="546"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>retry<sp/>optimization<sp/>functionality<sp/>for<sp/>the<sp/>Eggholder<sp/>function.</highlight></codeline>
<codeline lineno="547"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="548"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>test<sp/>evaluates<sp/>the<sp/>retry-based<sp/>optimization<sp/>implementation<sp/>by<sp/>invoking</highlight></codeline>
<codeline lineno="549"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>the<sp/>minimize<sp/>method<sp/>with<sp/>the<sp/>Eggholder<sp/>function<sp/>as<sp/>the<sp/>target<sp/>to<sp/>check<sp/>if<sp/>it</highlight></codeline>
<codeline lineno="550"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>achieves<sp/>desired<sp/>optimization<sp/>thresholds.<sp/>The<sp/>test<sp/>asserts<sp/>that<sp/>the</highlight></codeline>
<codeline lineno="551"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>optimization<sp/>target<sp/>is<sp/>reached,<sp/>the<sp/>correct<sp/>number<sp/>of<sp/>function<sp/>evaluations</highlight></codeline>
<codeline lineno="552"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>are<sp/>performed,<sp/>and<sp/>the<sp/>best<sp/>x<sp/>and<sp/>y<sp/>values<sp/>returned<sp/>align<sp/>with<sp/>the<sp/>best</highlight></codeline>
<codeline lineno="553"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>encountered<sp/>during<sp/>evaluation.</highlight></codeline>
<codeline lineno="554"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="555"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="556"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>None</highlight></codeline>
<codeline lineno="557"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="558"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="559"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>optimization<sp/>target<sp/>is<sp/>not<sp/>reached,<sp/>if<sp/>the</highlight></codeline>
<codeline lineno="560"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>number<sp/>of<sp/>function<sp/>evaluations<sp/>does<sp/>not<sp/>match,<sp/>if<sp/>the<sp/>best<sp/>x<sp/>values</highlight></codeline>
<codeline lineno="561"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>obtained<sp/>mismatch,<sp/>or<sp/>if<sp/>the<sp/>best<sp/>y<sp/>values<sp/>obtained<sp/>mismatch.</highlight></codeline>
<codeline lineno="562"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="564" refid="namespacefcmaes_1_1test__cma_1a06d4235007fede3ebaf194baf5a46612" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref>()</highlight></codeline>
<codeline lineno="565"><highlight class="normal"></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>-956<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>retry.minimize(wrapper.eval,<sp/>testfun.bounds,<sp/></highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_retries=100)</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.nfev<sp/>==<sp/>wrapper.get_count())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>number<sp/>of<sp/>function<sp/>calls<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.x,<sp/>wrapper.get_best_x()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.fun<sp/>==<sp/>wrapper.get_best_y())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="578"><highlight class="normal"></highlight></codeline>
<codeline lineno="579"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1optimizer" kindref="compound">fcmaes.optimizer</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>de_cma</highlight></codeline>
<codeline lineno="580"><highlight class="normal"></highlight></codeline>
<codeline lineno="581"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1a02ddb211b712593bc51e118e3d26764d" kindref="member">test_eggholder_advanced_retry</ref>():</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="583"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>advanced<sp/>retry<sp/>mechanism<sp/>of<sp/>the<sp/>Eggholder<sp/>function<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="584"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="585"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>function<sp/>defines<sp/>a<sp/>two-dimensional<sp/>Eggholder<sp/>function<sp/>and<sp/>ensures<sp/>that<sp/>optimization</highlight></codeline>
<codeline lineno="586"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>performs<sp/>effectively<sp/>within<sp/>a<sp/>certain<sp/>threshold.<sp/>It<sp/>validates<sp/>the<sp/>following<sp/>aspects:</highlight></codeline>
<codeline lineno="587"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>The<sp/>optimization<sp/>result<sp/>successfully<sp/>satisfies<sp/>the<sp/>objective<sp/>function<sp/>target.</highlight></codeline>
<codeline lineno="588"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>The<sp/>number<sp/>of<sp/>function<sp/>evaluations<sp/>matches<sp/>the<sp/>expected<sp/>count.</highlight></codeline>
<codeline lineno="589"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>-<sp/>The<sp/>optimal<sp/>solution<sp/>X<sp/>and<sp/>corresponding<sp/>Y<sp/>are<sp/>correctly<sp/>identified.</highlight></codeline>
<codeline lineno="590"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="591"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="592"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>optimization<sp/>target<sp/>is<sp/>not<sp/>reached,<sp/>function<sp/>evaluations<sp/>do<sp/>not<sp/>match,</highlight></codeline>
<codeline lineno="593"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>or<sp/>if<sp/>the<sp/>best<sp/>X<sp/>and<sp/>Y<sp/>values<sp/>are<sp/>incorrect.</highlight></codeline>
<codeline lineno="594"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="596" refid="namespacefcmaes_1_1test__cma_1a02ddb211b712593bc51e118e3d26764d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref>()</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>-956<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>advretry.minimize(wrapper.eval,<sp/>testfun.bounds,<sp/></highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_retries=96)</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.nfev<sp/>==<sp/>wrapper.get_count())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>number<sp/>of<sp/>function<sp/>calls<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.x,<sp/>wrapper.get_best_x()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.fun,<sp/>wrapper.get_best_y()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="610"><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1aa39a1c6e2b785ee9f6c3bfd330b057eb" kindref="member">test_eggholder_retry_python</ref>():</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="613"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>Eggholder<sp/>function<sp/>optimization<sp/>with<sp/>retry<sp/>mechanism.</highlight></codeline>
<codeline lineno="614"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="615"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>performs<sp/>optimization<sp/>of<sp/>the<sp/>Eggholder<sp/>function<sp/>across<sp/>5<sp/>attempts,</highlight></codeline>
<codeline lineno="616"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>utilizing<sp/>a<sp/>retry<sp/>logic<sp/>to<sp/>reinitialize<sp/>and<sp/>retry<sp/>multiple<sp/>times<sp/>on<sp/>failure.<sp/>The</highlight></codeline>
<codeline lineno="617"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>test<sp/>ensures<sp/>that<sp/>the<sp/>optimization<sp/>goal<sp/>is<sp/>met<sp/>within<sp/>the<sp/>given<sp/>constraints</highlight></codeline>
<codeline lineno="618"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>verifies<sp/>the<sp/>correctness<sp/>of<sp/>various<sp/>outcomes,<sp/>including<sp/>the<sp/>function<sp/>call</highlight></codeline>
<codeline lineno="619"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>count,<sp/>the<sp/>best<sp/>identified<sp/>arguments<sp/>(`x`),<sp/>and<sp/>the<sp/>best<sp/>function<sp/>evaluation</highlight></codeline>
<codeline lineno="620"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>(`y`).</highlight></codeline>
<codeline lineno="621"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="622"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="623"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>optimization<sp/>target<sp/>is<sp/>not<sp/>reached<sp/>within<sp/>the<sp/>specified</highlight></codeline>
<codeline lineno="624"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>constraints,<sp/>if<sp/>the<sp/>number<sp/>of<sp/>function<sp/>evaluations<sp/>(`nfev`)<sp/>is<sp/>incorrect,</highlight></codeline>
<codeline lineno="625"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>the<sp/>best<sp/>arguments<sp/>(`x`)<sp/>returned<sp/>are<sp/>incorrect,<sp/>or<sp/>if<sp/>the<sp/>best<sp/>function</highlight></codeline>
<codeline lineno="626"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evaluation<sp/>(`y`)<sp/>returned<sp/>is<sp/>incorrect.</highlight></codeline>
<codeline lineno="627"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="629" refid="namespacefcmaes_1_1test__cma_1aa39a1c6e2b785ee9f6c3bfd330b057eb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref>()</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/>optimizer<sp/>=<sp/>de_cma_py(10000)</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>-956<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="635"><highlight class="normal"></highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>retry.minimize(wrapper.eval,<sp/>testfun.bounds,<sp/></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_retries=32,<sp/>optimizer<sp/>=<sp/>optimizer)</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.nfev<sp/>==<sp/>wrapper.get_count())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>number<sp/>of<sp/>function<sp/>calls<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.x,<sp/>wrapper.get_best_x()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.fun<sp/>==<sp/>wrapper.get_best_y())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"></highlight></codeline>
<codeline lineno="646"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1test__cma_1a5ff61f59a536b4c3c16c968e1eb8b568" kindref="member">test_eggholder_advanced_retry_python</ref>():</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="648"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>advanced<sp/>retry<sp/>mechanism<sp/>for<sp/>optimizing<sp/>the<sp/>Eggholder<sp/>function.</highlight></codeline>
<codeline lineno="649"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="650"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>test<sp/>evaluates<sp/>the<sp/>functionality<sp/>of<sp/>the<sp/>advanced<sp/>retry<sp/>mechanism<sp/>combined</highlight></codeline>
<codeline lineno="651"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>with<sp/>the<sp/>differential<sp/>evolution<sp/>CMA<sp/>optimizer<sp/>(`de_cma_py`)<sp/>on<sp/>the<sp/>Eggholder</highlight></codeline>
<codeline lineno="652"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>benchmark<sp/>function.<sp/>It<sp/>verifies<sp/>several<sp/>key<sp/>performance<sp/>metrics<sp/>such<sp/>as<sp/>the</highlight></codeline>
<codeline lineno="653"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>correctness<sp/>of<sp/>the<sp/>returned<sp/>optimal<sp/>value,<sp/>the<sp/>number<sp/>of<sp/>function<sp/>evaluations,</highlight></codeline>
<codeline lineno="654"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>the<sp/>retrieved<sp/>best<sp/>solution<sp/>coordinates.</highlight></codeline>
<codeline lineno="655"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="656"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="657"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AssertionError:<sp/>If<sp/>the<sp/>limit<sp/>is<sp/>not<sp/>surpassed<sp/>by<sp/>the<sp/>optimizer<sp/>after</highlight></codeline>
<codeline lineno="658"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retries<sp/>or<sp/>if<sp/>returned<sp/>values<sp/>(e.g.,<sp/>optimal<sp/>solution,<sp/>function</highlight></codeline>
<codeline lineno="659"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evaluations,<sp/>best<sp/>coordinate)<sp/>do<sp/>not<sp/>align<sp/>with<sp/>the<sp/>expected<sp/>results.</highlight></codeline>
<codeline lineno="660"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="662" refid="namespacefcmaes_1_1test__cma_1a5ff61f59a536b4c3c16c968e1eb8b568" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>testfun<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_eggholder" kindref="compound">Eggholder</ref>()</highlight></codeline>
<codeline lineno="663"><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/>optimizer<sp/>=<sp/>de_cma_py(10000)</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/>limit<sp/>=<sp/>-956<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(5):</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrapper<sp/>=<sp/><ref refid="classfcmaes_1_1testfun_1_1_wrapper" kindref="compound">Wrapper</ref>(testfun.fun,<sp/>dim)</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>advretry.minimize(wrapper.eval,<sp/>testfun.bounds,<sp/></highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_retries=32,<sp/>optimizer<sp/>=<sp/>optimizer)</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>limit<sp/>&gt;<sp/>ret.fun:</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="672"><highlight class="normal"></highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(limit<sp/>&gt;<sp/>ret.fun)<sp/></highlight><highlight class="comment">#<sp/>optimization<sp/>target<sp/>not<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(ret.nfev<sp/>==<sp/>wrapper.get_count())<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>number<sp/>of<sp/>function<sp/>calls<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.x,<sp/>wrapper.get_best_x()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>X<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/>assert(<ref refid="namespacefcmaes_1_1test__cma_1a56ec13d8a176e397762ffb9cd3b7eff7" kindref="member">almost_equal</ref>(ret.fun,<sp/>wrapper.get_best_y()))<sp/></highlight><highlight class="comment">#<sp/>wrong<sp/>best<sp/>y<sp/>returned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="677"><highlight class="normal"></highlight></codeline>
<codeline lineno="678"><highlight class="normal"></highlight><highlight class="comment">#test_rosen_decpp_parallel()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/></highlight></codeline>
    </programlisting>
    <location file="fcmaes/test_cma.py"/>
  </compounddef>
</doxygen>
