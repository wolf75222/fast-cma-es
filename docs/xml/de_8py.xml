<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="de_8py" kind="file" language="Python">
    <compoundname>de.py</compoundname>
    <innerclass refid="classfcmaes_1_1de_1_1_d_e" prot="public">fcmaes::de::DE</innerclass>
    <innernamespace refid="namespacefcmaes">fcmaes</innernamespace>
    <innernamespace refid="namespacefcmaes_1_1de">fcmaes::de</innernamespace>
    <sectiondef kind="func">
      <memberdef kind="function" id="namespacefcmaes_1_1de_1afe0971ca279c85cb452a9ca34826d05a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>OptimizeResult</type>
        <definition> OptimizeResult fcmaes.de.minimize</definition>
        <argsstring>(Callable[[ArrayLike], float] fun, Optional[int] dim=None, Optional[Bounds] bounds=None, Optional[int] popsize=31, Optional[int] max_evaluations=100000, Optional[int] workers=None, Optional[float] stop_fitness=-np.inf, Optional[int] keep=200, Optional[float] f=0.5, Optional[float] cr=0.9, Optional[Generator] rg=Generator(PCG64DXSM()), filter=None, Optional[ArrayLike] ints=None, Optional[float] min_mutate=0.1, Optional[float] max_mutate=0.5, Optional[Callable] modifier=None)</argsstring>
        <name>minimize</name>
        <qualifiedname>fcmaes.de.minimize</qualifiedname>
        <param>
          <type>Callable</type>
          <defname>fun</defname>
          <array>[[ArrayLike]</array>
        </param>
        <param>
          <type>float]</type>
          <declname>fun</declname>
          <defname>dim</defname>
        </param>
        <param>
          <type>Optional</type>
          <declname>dim</declname>
          <defname>bounds</defname>
          <array>[int]</array>
          <defval>None</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>bounds</declname>
          <defname>popsize</defname>
          <array>[Bounds]</array>
          <defval>None</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>popsize</declname>
          <defname>max_evaluations</defname>
          <array>[int]</array>
          <defval>31</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>max_evaluations</declname>
          <defname>workers</defname>
          <array>[int]</array>
          <defval>100000</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>workers</declname>
          <defname>stop_fitness</defname>
          <array>[int]</array>
          <defval>None</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>stop_fitness</declname>
          <defname>keep</defname>
          <array>[float]</array>
          <defval>-np.inf</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>keep</declname>
          <defname>f</defname>
          <array>[int]</array>
          <defval>200</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>f</declname>
          <defname>cr</defname>
          <array>[float]</array>
          <defval>0.5</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>cr</declname>
          <defname>rg</defname>
          <array>[float]</array>
          <defval>0.9</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>rg</declname>
          <defname>filter</defname>
          <array>[Generator]</array>
          <defval>Generator(PCG64DXSM())</defval>
        </param>
        <param>
          <type>filter</type>
          <defname>ints</defname>
          <defval>None</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>ints</declname>
          <defname>min_mutate</defname>
          <array>[ArrayLike]</array>
          <defval>None</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>min_mutate</declname>
          <defname>max_mutate</defname>
          <array>[float]</array>
          <defval>0.1</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>max_mutate</declname>
          <defname>modifier</defname>
          <array>[float]</array>
          <defval>0.5</defval>
        </param>
        <param>
          <type>Optional</type>
          <declname>modifier</declname>
          <array>[Callable]</array>
          <defval>None</defval>
        </param>
        <briefdescription>
<para>Minimize an objective function using the Differential Evolution (<ref refid="classfcmaes_1_1de_1_1_d_e" kindref="compound">DE</ref>) algorithm. </para>
        </briefdescription>
        <detaileddescription>
<para>This function optimizes a given objective function using the <ref refid="classfcmaes_1_1de_1_1_d_e" kindref="compound">DE</ref> algorithm, which is a population-based metaheuristic optimization technique. It iteratively improves a population of potential solutions based on mutation, crossover, and selection strategies until a stopping criterion is met. The user can define various parameters to customize the behavior of the optimization process.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>fun</parametername>
</parameternamelist>
<parameterdescription>
<para>The objective function to be minimized, which takes a single argument (a candidate solution) and returns a scalar value representing its fitness. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>dim</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional, number of dimensions of the input solution vector. If not provided, it will be inferred from <computeroutput>bounds</computeroutput>. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>bounds</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional, bounds for each dimension of the input solution represented as a sequence of (min, max) tuples. It defines the permissible search space. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>popsize</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional, population size for the <ref refid="classfcmaes_1_1de_1_1_d_e" kindref="compound">DE</ref> algorithm. Determines the number of candidate solutions in each iteration. Default is 31. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>max_evaluations</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional, maximum number of fitness evaluations allowed for the optimization process. Default is 100000. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>workers</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional, number of parallel workers for evaluations. If set to more than 1, evaluations will be performed in parallel. If None or 1, sequential evaluation will be used. Default is None. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>stop_fitness</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional, fitness value at which optimization will stop early. If a solution with fitness below this value is found, the optimization terminates. Default is -infinity. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>keep</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional, defines how many solutions to retain for rebounded sampling. <programlisting><codeline><highlight class="normal">Default<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>200.</highlight></codeline>
</programlisting> f: Optional, scale factor used to control mutation in the <ref refid="classfcmaes_1_1de_1_1_d_e" kindref="compound">DE</ref> algorithm. Default is 0.5. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>cr</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional, crossover rate used to control recombination in the <ref refid="classfcmaes_1_1de_1_1_d_e" kindref="compound">DE</ref> algorithm. Default is 0.9. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>rg</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional, random number generator used for stochastic components in the <ref refid="classfcmaes_1_1de_1_1_d_e" kindref="compound">DE</ref> algorithm. Default is Generator(PCG64DXSM()). </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>filter</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional, a function to filter and validate solutions generated during the optimization process. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ints</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional, an array-like structure specifying indices of dimensions that should be treated as integers. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>min_mutate</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional, minimum mutation factor for the <ref refid="classfcmaes_1_1de_1_1_d_e" kindref="compound">DE</ref> mutation strategy. Default is 0.1. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>max_mutate</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional, maximum mutation factor for the <ref refid="classfcmaes_1_1de_1_1_d_e" kindref="compound">DE</ref> mutation strategy. Default is 0.5. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>modifier</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional, a custom function to modify the behavior of the <ref refid="classfcmaes_1_1de_1_1_d_e" kindref="compound">DE</ref> algorithm during optimization.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para></para>
</simplesect>
<simplesect kind="return"><para>OptimizeResult An object containing the optimization results:<itemizedlist>
<listitem><para>x: The best solution found.</para>
</listitem><listitem><para>fun: The objective function value corresponding to <computeroutput>x</computeroutput>.</para>
</listitem><listitem><para>nfev: The total number of function evaluations performed.</para>
</listitem><listitem><para>nit: The number of iterations completed.</para>
</listitem><listitem><para>status: An integer indicating why the optimization stopped. A positive value represents success.</para>
</listitem><listitem><para>success: A boolean indicating whether the optimization was successful.</para>
</listitem></itemizedlist>
</para>
</simplesect>
<parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>Exception</parametername>
</parameternamelist>
<parameterdescription>
<para>If any fatal error occurs during optimization, the function will return an OptimizeResult object with <computeroutput>success</computeroutput> set to False. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/de.py" line="144" column="1" bodyfile="fcmaes/de.py" bodystart="159" bodyend="173"/>
      </memberdef>
      <memberdef kind="function" id="namespacefcmaes_1_1de_1a43e9207e1c55b796ef2b78053589d8ed" prot="protected" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>fcmaes.de._check_bounds</definition>
        <argsstring>(bounds, dim)</argsstring>
        <name>_check_bounds</name>
        <qualifiedname>fcmaes.de._check_bounds</qualifiedname>
        <param>
          <type>bounds</type>
          <defname>bounds</defname>
        </param>
        <param>
          <type>dim</type>
          <defname>dim</defname>
        </param>
        <briefdescription>
<para>Validates and processes the input bounds and dimensions for subsequent operations. </para>
        </briefdescription>
        <detaileddescription>
<para>This function ensures that either <computeroutput>bounds</computeroutput> or <computeroutput>dim</computeroutput> is provided and determines the valid dimensionality and boundary arrays for further processing. If <computeroutput>bounds</computeroutput> is None, the function uses the provided <computeroutput>dim</computeroutput>. Otherwise, it extracts and converts the lower and upper bounds arrays from <computeroutput>bounds</computeroutput>.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>bounds</parametername>
</parameternamelist>
<parameterdescription>
<para>User-provided object containing boundary attributes (<computeroutput>lb</computeroutput> and <computeroutput>ub</computeroutput>) for dimensional constraints. Can be None if <computeroutput>dim</computeroutput> is specified. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>dim</parametername>
</parameternamelist>
<parameterdescription>
<para>An integer defining the dimensionality, used only if <computeroutput>bounds</computeroutput> is None.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Tuple comprising:<itemizedlist>
<listitem><para>An integer representing the number of dimensions (from <computeroutput>bounds</computeroutput> or <computeroutput>dim</computeroutput>).</para>
</listitem><listitem><para>A numpy array of lower boundary values (<computeroutput>bounds.lb</computeroutput>) if provided; otherwise None.</para>
</listitem><listitem><para>A numpy array of upper boundary values (<computeroutput>bounds.ub</computeroutput>) if provided; otherwise None.</para>
</listitem></itemizedlist>
</para>
</simplesect>
<parameterlist kind="exception"><parameteritem>
<parameternamelist>
<parametername>ValueError</parametername>
</parameternamelist>
<parameterdescription>
<para>If both `bounds` and `dim` are None. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="fcmaes/de.py" line="856" column="1" bodyfile="fcmaes/de.py" bodystart="856" bodyend="865"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>============================================================================= </para>
    </briefdescription>
    <detaileddescription>
<para>Fast version 1.6.11</para>
<para>(c) 2025 – Dietmar Wolz (c) 2025 – Latitude</para>
<para>License MIT</para>
<para><itemizedlist>
<listitem><para><ref refid="de_8py" kindref="compound">de.py</ref></para>
</listitem></itemizedlist>
</para>
<para><simplesect kind="par"><title>Description</title><para><itemizedlist>
<listitem><para>Numpy based implementation of Differential Evolution using the DE/best/1 strategy. Derived from its C++ counterpart [2]. </para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="par"><title></title><para>Uses three deviations from the standard DE algorithm: a) temporal locality introduced in [3] to improve convergence speed. b) reinitialization of individuals based on their age. c) oscillating CR/F parameters. </para>
</simplesect>
<simplesect kind="par"><title></title><para>You may keep parameters F and Cr at their defaults since this implementation works well with the given settings for most problems, since the algorithm oscillates between different F and Cr settings. </para>
</simplesect>
<simplesect kind="par"><title></title><para>The filter parameter is inspired by &quot;Surrogate-based Optimisation for a Hospital Simulation&quot; [4] where a machine learning classifier is used to filter candidate solutions for DE. A filter object needs to provide function add(x, y) to enable learning and a predicate is_improve(x, x_old, y_old) used to decide if function evaluation of x is worth the effort. </para>
</simplesect>
<simplesect kind="par"><title></title><para>The ints parameter is a boolean array indicating which parameters are discrete integer values. This parameter was introduced after observing non optimal results for the ESP2 benchmark problem: <programlisting><codeline><highlight class="normal">[5]</highlight></codeline>
</programlisting> If defined it causes a &quot;special treatment&quot; for discrete variables: They are rounded to the next integer value and there is an additional mutation to avoid getting stuck at local minima. This behavior is specified by the internal function _modifier which can be overwritten by providing the optional modifier argument. If modifier is defined, ints is ignored. </para>
</simplesect>
<simplesect kind="par"><title></title><para>Use the C++ implementation combined with parallel retry instead for objective functions which are fast to evaluate. For expensive objective functions (e.g. machine learning parameter optimization) use the workers parameter to parallelize objective function evaluation. This causes delayed population update. It is usually preferrable if popsize &gt; workers and workers = mp.cpu_count() to improve CPU utilization.</para>
</simplesect>
<simplesect kind="author"><para>:<itemizedlist>
<listitem><para>Dietmar Wolz <programlisting><codeline><highlight class="normal">-<sp/>romain.despoullains</highlight><highlight class="preprocessor">@latitude.eu</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">-<sp/>corentin.generet</highlight><highlight class="preprocessor">@latitude.eu</highlight></codeline>
</programlisting></para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="par"><title>References</title><para><itemizedlist>
<listitem><para>[1] <ulink url="https://github.com/dietmarwo/fast-cma-es">https://github.com/dietmarwo/fast-cma-es</ulink></para>
</listitem><listitem><para>[2] <ulink url="https://github.com/dietmarwo/fast-cma-es/blob/master/_fcmaescpp/deoptimizer.cpp">https://github.com/dietmarwo/fast-cma-es/blob/master/_fcmaescpp/deoptimizer.cpp</ulink></para>
</listitem><listitem><para>[3] <ulink url="https://www.researchgate.net/publication/309179699_Differential_evolution_for_protein_folding_optimization_based_on_a_three-dimensional_AB_off-lattice_model">https://www.researchgate.net/publication/309179699_Differential_evolution_for_protein_folding_optimization_based_on_a_three-dimensional_AB_off-lattice_model</ulink></para>
</listitem><listitem><para>[4] <ulink url="https://dl.acm.org/doi/10.1145/3449726.3463283">https://dl.acm.org/doi/10.1145/3449726.3463283</ulink></para>
</listitem><listitem><para>[5] <ulink url="https://github.com/AlgTUDelft/ExpensiveOptimBenchmark/blob/master/expensiveoptimbenchmark/problems/DockerCFDBenchmark.py">https://github.com/AlgTUDelft/ExpensiveOptimBenchmark/blob/master/expensiveoptimbenchmark/problems/DockerCFDBenchmark.py</ulink></para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="par"><title>Documentation</title><para><itemizedlist>
<listitem></listitem></itemizedlist>
</para>
</simplesect>
<hruler/>
 </para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacefcmaes_1_1de" refkind="compound"><highlight class="comment">#<sp/>-*-<sp/>coding:<sp/>utf-8<sp/>-*-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="3"><highlight class="stringliteral">=============================================================================</highlight></codeline>
<codeline lineno="4"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="5"><highlight class="stringliteral"><sp/>Fast<sp/>CMA-ES<sp/>-<sp/>version<sp/>1.6.11</highlight></codeline>
<codeline lineno="6"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="7"><highlight class="stringliteral"><sp/>(c)<sp/>2025<sp/>–<sp/>Dietmar<sp/>Wolz</highlight></codeline>
<codeline lineno="8"><highlight class="stringliteral"><sp/>(c)<sp/>2025<sp/>–<sp/>Latitude</highlight></codeline>
<codeline lineno="9"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="10"><highlight class="stringliteral"><sp/>License:<sp/>MIT</highlight></codeline>
<codeline lineno="11"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="12"><highlight class="stringliteral"><sp/>File:</highlight></codeline>
<codeline lineno="13"><highlight class="stringliteral"><sp/><sp/>-<sp/>de.py</highlight></codeline>
<codeline lineno="14"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="15"><highlight class="stringliteral"><sp/>Description:</highlight></codeline>
<codeline lineno="16"><highlight class="stringliteral"><sp/><sp/>-<sp/>Numpy<sp/>based<sp/>implementation<sp/>of<sp/>Differential<sp/>Evolution<sp/>using<sp/>the<sp/>DE/best/1<sp/>strategy.</highlight></codeline>
<codeline lineno="17"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Derived<sp/>from<sp/>its<sp/>C++<sp/>counterpart<sp/>[2].</highlight></codeline>
<codeline lineno="18"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="19"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Uses<sp/>three<sp/>deviations<sp/>from<sp/>the<sp/>standard<sp/>DE<sp/>algorithm:</highlight></codeline>
<codeline lineno="20"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>a)<sp/>temporal<sp/>locality<sp/>introduced<sp/>in<sp/>[3]<sp/>to<sp/>improve<sp/>convergence<sp/>speed.</highlight></codeline>
<codeline lineno="21"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>b)<sp/>reinitialization<sp/>of<sp/>individuals<sp/>based<sp/>on<sp/>their<sp/>age.</highlight></codeline>
<codeline lineno="22"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>c)<sp/>oscillating<sp/>CR/F<sp/>parameters.</highlight></codeline>
<codeline lineno="23"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="24"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>You<sp/>may<sp/>keep<sp/>parameters<sp/>F<sp/>and<sp/>Cr<sp/>at<sp/>their<sp/>defaults<sp/>since<sp/>this<sp/>implementation<sp/>works<sp/>well<sp/>with<sp/>the<sp/>given<sp/>settings<sp/>for<sp/>most<sp/>problems,</highlight></codeline>
<codeline lineno="25"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>since<sp/>the<sp/>algorithm<sp/>oscillates<sp/>between<sp/>different<sp/>F<sp/>and<sp/>Cr<sp/>settings.</highlight></codeline>
<codeline lineno="26"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="27"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>filter<sp/>parameter<sp/>is<sp/>inspired<sp/>by<sp/>&quot;Surrogate-based<sp/>Optimisation<sp/>for<sp/>a<sp/>Hospital<sp/>Simulation&quot;</highlight></codeline>
<codeline lineno="28"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[4]<sp/>where<sp/>a<sp/>machine<sp/>learning<sp/>classifier<sp/>is<sp/>used<sp/>to</highlight></codeline>
<codeline lineno="29"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>filter<sp/>candidate<sp/>solutions<sp/>for<sp/>DE.<sp/>A<sp/>filter<sp/>object<sp/>needs<sp/>to<sp/>provide<sp/>function<sp/>add(x,<sp/>y)<sp/>to<sp/>enable<sp/>learning<sp/>and</highlight></codeline>
<codeline lineno="30"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>a<sp/>predicate<sp/>is_improve(x,<sp/>x_old,<sp/>y_old)<sp/>used<sp/>to<sp/>decide<sp/>if<sp/>function<sp/>evaluation<sp/>of<sp/>x<sp/>is<sp/>worth<sp/>the<sp/>effort.</highlight></codeline>
<codeline lineno="31"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="32"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>ints<sp/>parameter<sp/>is<sp/>a<sp/>boolean<sp/>array<sp/>indicating<sp/>which<sp/>parameters<sp/>are<sp/>discrete<sp/>integer<sp/>values.<sp/>This</highlight></codeline>
<codeline lineno="33"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>parameter<sp/>was<sp/>introduced<sp/>after<sp/>observing<sp/>non<sp/>optimal<sp/>results<sp/>for<sp/>the<sp/>ESP2<sp/>benchmark<sp/>problem:</highlight></codeline>
<codeline lineno="34"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[5]</highlight></codeline>
<codeline lineno="35"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>If<sp/>defined<sp/>it<sp/>causes<sp/>a<sp/>&quot;special<sp/>treatment&quot;<sp/>for<sp/>discrete<sp/>variables:<sp/>They<sp/>are<sp/>rounded<sp/>to<sp/>the<sp/>next<sp/>integer<sp/>value<sp/>and</highlight></codeline>
<codeline lineno="36"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>there<sp/>is<sp/>an<sp/>additional<sp/>mutation<sp/>to<sp/>avoid<sp/>getting<sp/>stuck<sp/>at<sp/>local<sp/>minima.<sp/>This<sp/>behavior<sp/>is<sp/>specified<sp/>by<sp/>the<sp/>internal</highlight></codeline>
<codeline lineno="37"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>function<sp/>_modifier<sp/>which<sp/>can<sp/>be<sp/>overwritten<sp/>by<sp/>providing<sp/>the<sp/>optional<sp/>modifier<sp/>argument.<sp/>If<sp/>modifier<sp/>is<sp/>defined,</highlight></codeline>
<codeline lineno="38"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>ints<sp/>is<sp/>ignored.</highlight></codeline>
<codeline lineno="39"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="40"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Use<sp/>the<sp/>C++<sp/>implementation<sp/>combined<sp/>with<sp/>parallel<sp/>retry<sp/>instead<sp/>for<sp/>objective<sp/>functions<sp/>which<sp/>are<sp/>fast<sp/>to<sp/>evaluate.</highlight></codeline>
<codeline lineno="41"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>For<sp/>expensive<sp/>objective<sp/>functions<sp/>(e.g.<sp/>machine<sp/>learning<sp/>parameter<sp/>optimization)<sp/>use<sp/>the<sp/>workers</highlight></codeline>
<codeline lineno="42"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>parameter<sp/>to<sp/>parallelize<sp/>objective<sp/>function<sp/>evaluation.<sp/>This<sp/>causes<sp/>delayed<sp/>population<sp/>update.</highlight></codeline>
<codeline lineno="43"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>It<sp/>is<sp/>usually<sp/>preferrable<sp/>if<sp/>popsize<sp/>&gt;<sp/>workers<sp/>and<sp/>workers<sp/>=<sp/>mp.cpu_count()<sp/>to<sp/>improve<sp/>CPU<sp/>utilization.</highlight></codeline>
<codeline lineno="44"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="45"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="46"><highlight class="stringliteral"><sp/>Authors:</highlight></codeline>
<codeline lineno="47"><highlight class="stringliteral"><sp/><sp/>-<sp/>Dietmar<sp/>Wolz</highlight></codeline>
<codeline lineno="48"><highlight class="stringliteral"><sp/><sp/>-<sp/>romain.despoullains@latitude.eu</highlight></codeline>
<codeline lineno="49"><highlight class="stringliteral"><sp/><sp/>-<sp/>corentin.generet@latitude.eu</highlight></codeline>
<codeline lineno="50"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="51"><highlight class="stringliteral"><sp/>References:</highlight></codeline>
<codeline lineno="52"><highlight class="stringliteral"><sp/><sp/>-<sp/>[1]<sp/>https://github.com/dietmarwo/fast-cma-es</highlight></codeline>
<codeline lineno="53"><highlight class="stringliteral"><sp/><sp/>-<sp/>[2]<sp/>https://github.com/dietmarwo/fast-cma-es/blob/master/_fcmaescpp/deoptimizer.cpp</highlight></codeline>
<codeline lineno="54"><highlight class="stringliteral"><sp/><sp/>-<sp/>[3]<sp/>https://www.researchgate.net/publication/309179699_Differential_evolution_for_protein_folding_optimization_based_on_a_three-dimensional_AB_off-lattice_model</highlight></codeline>
<codeline lineno="55"><highlight class="stringliteral"><sp/><sp/>-<sp/>[4]<sp/>https://dl.acm.org/doi/10.1145/3449726.3463283</highlight></codeline>
<codeline lineno="56"><highlight class="stringliteral"><sp/><sp/>-<sp/>[5]<sp/>https://github.com/AlgTUDelft/ExpensiveOptimBenchmark/blob/master/expensiveoptimbenchmark/problems/DockerCFDBenchmark.py</highlight></codeline>
<codeline lineno="57"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="58"><highlight class="stringliteral"><sp/>Documentation:</highlight></codeline>
<codeline lineno="59"><highlight class="stringliteral"><sp/><sp/>-</highlight></codeline>
<codeline lineno="60"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="61"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="62"><highlight class="stringliteral">=============================================================================</highlight></codeline>
<codeline lineno="63"><highlight class="stringliteral">&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>numpy<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>np</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>math,<sp/>sys</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>time<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>time</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ctypes<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>ct</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>numpy.random<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Generator,<sp/>PCG64DXSM</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>scipy.optimize<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>OptimizeResult,<sp/>Bounds</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1evaluator" kindref="compound">fcmaes.evaluator</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Evaluator,<sp/>is_debug_active</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>multiprocessing<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>mp</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>collections<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>deque</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>loguru<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>logger</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Optional,<sp/>Callable,<sp/>Tuple,<sp/>Union</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>numpy.typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ArrayLike</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1de_1afe0971ca279c85cb452a9ca34826d05a" kindref="member">minimize</ref>(fun:<sp/>Callable[[ArrayLike],<sp/>float],<sp/></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dim:<sp/>Optional[int]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds:<sp/>Optional[Bounds]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize:<sp/>Optional[int]<sp/>=<sp/>31,</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations:<sp/>Optional[int]<sp/>=<sp/>100000,</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers:<sp/>Optional[int]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop_fitness:<sp/>Optional[float]<sp/>=<sp/>-np.inf,</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keep:<sp/>Optional[int]<sp/>=<sp/>200,</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f:<sp/>Optional[float]<sp/>=<sp/>0.5,</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cr:<sp/>Optional[float]<sp/>=<sp/>0.9,</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rg:<sp/>Optional[Generator]<sp/>=<sp/>Generator(PCG64DXSM()),</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ints:<sp/>Optional[ArrayLike]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_mutate:<sp/>Optional[float]<sp/>=<sp/>0.1,</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_mutate:<sp/>Optional[float]<sp/>=<sp/>0.5,</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>modifier:<sp/>Optional[Callable]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/>-&gt;<sp/>OptimizeResult:</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="96"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Minimize<sp/>an<sp/>objective<sp/>function<sp/>using<sp/>the<sp/>Differential<sp/>Evolution<sp/>(DE)<sp/>algorithm.</highlight></codeline>
<codeline lineno="97"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="98"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>optimizes<sp/>a<sp/>given<sp/>objective<sp/>function<sp/>using<sp/>the<sp/>DE<sp/>algorithm,<sp/>which<sp/>is</highlight></codeline>
<codeline lineno="99"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>a<sp/>population-based<sp/>metaheuristic<sp/>optimization<sp/>technique.<sp/>It<sp/>iteratively<sp/>improves<sp/>a</highlight></codeline>
<codeline lineno="100"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>population<sp/>of<sp/>potential<sp/>solutions<sp/>based<sp/>on<sp/>mutation,<sp/>crossover,<sp/>and<sp/>selection</highlight></codeline>
<codeline lineno="101"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>strategies<sp/>until<sp/>a<sp/>stopping<sp/>criterion<sp/>is<sp/>met.<sp/>The<sp/>user<sp/>can<sp/>define<sp/>various<sp/>parameters</highlight></codeline>
<codeline lineno="102"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>to<sp/>customize<sp/>the<sp/>behavior<sp/>of<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="103"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="104"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="105"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun:<sp/>The<sp/>objective<sp/>function<sp/>to<sp/>be<sp/>minimized,<sp/>which<sp/>takes<sp/>a<sp/>single<sp/>argument</highlight></codeline>
<codeline lineno="106"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(a<sp/>candidate<sp/>solution)<sp/>and<sp/>returns<sp/>a<sp/>scalar<sp/>value<sp/>representing<sp/>its<sp/>fitness.</highlight></codeline>
<codeline lineno="107"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dim:<sp/>Optional,<sp/>number<sp/>of<sp/>dimensions<sp/>of<sp/>the<sp/>input<sp/>solution<sp/>vector.<sp/>If<sp/>not</highlight></codeline>
<codeline lineno="108"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>provided,<sp/>it<sp/>will<sp/>be<sp/>inferred<sp/>from<sp/>`bounds`.</highlight></codeline>
<codeline lineno="109"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds:<sp/>Optional,<sp/>bounds<sp/>for<sp/>each<sp/>dimension<sp/>of<sp/>the<sp/>input<sp/>solution<sp/>represented</highlight></codeline>
<codeline lineno="110"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>as<sp/>a<sp/>sequence<sp/>of<sp/>(min,<sp/>max)<sp/>tuples.<sp/>It<sp/>defines<sp/>the<sp/>permissible<sp/>search<sp/>space.</highlight></codeline>
<codeline lineno="111"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize:<sp/>Optional,<sp/>population<sp/>size<sp/>for<sp/>the<sp/>DE<sp/>algorithm.<sp/>Determines<sp/>the<sp/>number</highlight></codeline>
<codeline lineno="112"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>of<sp/>candidate<sp/>solutions<sp/>in<sp/>each<sp/>iteration.<sp/>Default<sp/>is<sp/>31.</highlight></codeline>
<codeline lineno="113"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evaluations:<sp/>Optional,<sp/>maximum<sp/>number<sp/>of<sp/>fitness<sp/>evaluations<sp/>allowed<sp/>for</highlight></codeline>
<codeline lineno="114"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>optimization<sp/>process.<sp/>Default<sp/>is<sp/>100000.</highlight></codeline>
<codeline lineno="115"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers:<sp/>Optional,<sp/>number<sp/>of<sp/>parallel<sp/>workers<sp/>for<sp/>evaluations.<sp/>If<sp/>set<sp/>to<sp/>more</highlight></codeline>
<codeline lineno="116"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>than<sp/>1,<sp/>evaluations<sp/>will<sp/>be<sp/>performed<sp/>in<sp/>parallel.<sp/>If<sp/>None<sp/>or<sp/>1,<sp/>sequential</highlight></codeline>
<codeline lineno="117"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evaluation<sp/>will<sp/>be<sp/>used.<sp/>Default<sp/>is<sp/>None.</highlight></codeline>
<codeline lineno="118"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop_fitness:<sp/>Optional,<sp/>fitness<sp/>value<sp/>at<sp/>which<sp/>optimization<sp/>will<sp/>stop<sp/>early.</highlight></codeline>
<codeline lineno="119"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>If<sp/>a<sp/>solution<sp/>with<sp/>fitness<sp/>below<sp/>this<sp/>value<sp/>is<sp/>found,<sp/>the<sp/>optimization</highlight></codeline>
<codeline lineno="120"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>terminates.<sp/>Default<sp/>is<sp/>-infinity.</highlight></codeline>
<codeline lineno="121"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keep:<sp/>Optional,<sp/>defines<sp/>how<sp/>many<sp/>solutions<sp/>to<sp/>retain<sp/>for<sp/>rebounded<sp/>sampling.</highlight></codeline>
<codeline lineno="122"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Default<sp/>is<sp/>200.</highlight></codeline>
<codeline lineno="123"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f:<sp/>Optional,<sp/>scale<sp/>factor<sp/>used<sp/>to<sp/>control<sp/>mutation<sp/>in<sp/>the<sp/>DE<sp/>algorithm.<sp/>Default</highlight></codeline>
<codeline lineno="124"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is<sp/>0.5.</highlight></codeline>
<codeline lineno="125"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cr:<sp/>Optional,<sp/>crossover<sp/>rate<sp/>used<sp/>to<sp/>control<sp/>recombination<sp/>in<sp/>the<sp/>DE<sp/>algorithm.</highlight></codeline>
<codeline lineno="126"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Default<sp/>is<sp/>0.9.</highlight></codeline>
<codeline lineno="127"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rg:<sp/>Optional,<sp/>random<sp/>number<sp/>generator<sp/>used<sp/>for<sp/>stochastic<sp/>components<sp/>in<sp/>the<sp/>DE</highlight></codeline>
<codeline lineno="128"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>algorithm.<sp/>Default<sp/>is<sp/>Generator(PCG64DXSM()).</highlight></codeline>
<codeline lineno="129"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter:<sp/>Optional,<sp/>a<sp/>function<sp/>to<sp/>filter<sp/>and<sp/>validate<sp/>solutions<sp/>generated<sp/>during</highlight></codeline>
<codeline lineno="130"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="131"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ints:<sp/>Optional,<sp/>an<sp/>array-like<sp/>structure<sp/>specifying<sp/>indices<sp/>of<sp/>dimensions<sp/>that</highlight></codeline>
<codeline lineno="132"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>should<sp/>be<sp/>treated<sp/>as<sp/>integers.</highlight></codeline>
<codeline lineno="133"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_mutate:<sp/>Optional,<sp/>minimum<sp/>mutation<sp/>factor<sp/>for<sp/>the<sp/>DE<sp/>mutation<sp/>strategy.</highlight></codeline>
<codeline lineno="134"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Default<sp/>is<sp/>0.1.</highlight></codeline>
<codeline lineno="135"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_mutate:<sp/>Optional,<sp/>maximum<sp/>mutation<sp/>factor<sp/>for<sp/>the<sp/>DE<sp/>mutation<sp/>strategy.</highlight></codeline>
<codeline lineno="136"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Default<sp/>is<sp/>0.5.</highlight></codeline>
<codeline lineno="137"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>modifier:<sp/>Optional,<sp/>a<sp/>custom<sp/>function<sp/>to<sp/>modify<sp/>the<sp/>behavior<sp/>of<sp/>the<sp/>DE</highlight></codeline>
<codeline lineno="138"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>algorithm<sp/>during<sp/>optimization.</highlight></codeline>
<codeline lineno="139"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="140"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="141"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OptimizeResult:<sp/>An<sp/>object<sp/>containing<sp/>the<sp/>optimization<sp/>results:</highlight></codeline>
<codeline lineno="142"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>x:<sp/>The<sp/>best<sp/>solution<sp/>found.</highlight></codeline>
<codeline lineno="143"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>fun:<sp/>The<sp/>objective<sp/>function<sp/>value<sp/>corresponding<sp/>to<sp/>`x`.</highlight></codeline>
<codeline lineno="144" refid="namespacefcmaes_1_1de_1afe0971ca279c85cb452a9ca34826d05a" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>nfev:<sp/>The<sp/>total<sp/>number<sp/>of<sp/>function<sp/>evaluations<sp/>performed.</highlight></codeline>
<codeline lineno="145"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>nit:<sp/>The<sp/>number<sp/>of<sp/>iterations<sp/>completed.</highlight></codeline>
<codeline lineno="146"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>status:<sp/>An<sp/>integer<sp/>indicating<sp/>why<sp/>the<sp/>optimization<sp/>stopped.<sp/>A<sp/>positive</highlight></codeline>
<codeline lineno="147"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>represents<sp/>success.</highlight></codeline>
<codeline lineno="148"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>success:<sp/>A<sp/>boolean<sp/>indicating<sp/>whether<sp/>the<sp/>optimization<sp/>was<sp/>successful.</highlight></codeline>
<codeline lineno="149"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="150"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="151"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Exception:<sp/>If<sp/>any<sp/>fatal<sp/>error<sp/>occurs<sp/>during<sp/>optimization,<sp/>the<sp/>function<sp/>will</highlight></codeline>
<codeline lineno="152"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>an<sp/>OptimizeResult<sp/>object<sp/>with<sp/>`success`<sp/>set<sp/>to<sp/>False.</highlight></codeline>
<codeline lineno="153"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/>de<sp/>=<sp/><ref refid="classfcmaes_1_1de_1_1_d_e" kindref="compound">DE</ref>(dim,<sp/>bounds,<sp/>popsize,<sp/>stop_fitness,<sp/>keep,<sp/>f,<sp/>cr,<sp/>rg,<sp/>filter,<sp/>ints,<sp/><sp/></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_mutate,<sp/>max_mutate,<sp/>modifier)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>workers<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>workers<sp/>&gt;<sp/>1:</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x,<sp/>val,<sp/>evals,<sp/>iterations,<sp/>stop<sp/>=<sp/>de.do_optimize_delayed_update(fun,<sp/>max_evaluations,<sp/>workers)</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x,<sp/>val,<sp/>evals,<sp/>iterations,<sp/>stop<sp/>=<sp/>de.do_optimize(fun,<sp/>max_evaluations)</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OptimizeResult(x=x,<sp/>fun=val,<sp/>nfev=evals,<sp/>nit=iterations,<sp/>status=stop,<sp/></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>success=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Exception<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>ex:</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OptimizeResult(x=</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>fun=sys.float_info.max,<sp/>nfev=0,<sp/>nit=0,<sp/>status=-1,<sp/>success=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)<sp/><sp/></highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e" kindref="compound">DE</ref>(object):</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;A<sp/>Differential<sp/>Evolution<sp/>(DE)<sp/>optimization<sp/>algorithm.</highlight></codeline>
<codeline lineno="170"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="171"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>class<sp/>implements<sp/>a<sp/>stochastic<sp/>optimization<sp/>algorithm<sp/>called<sp/>Differential</highlight></codeline>
<codeline lineno="172"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Evolution.<sp/>It<sp/>is<sp/>designed<sp/>for<sp/>solving<sp/>optimization<sp/>problems<sp/>over<sp/>continuous</highlight></codeline>
<codeline lineno="173"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>domains.<sp/>The<sp/>algorithm<sp/>generates<sp/>a<sp/>population<sp/>of<sp/>candidate<sp/>solutions<sp/>and</highlight></codeline>
<codeline lineno="174"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>iteratively<sp/>improves<sp/>upon<sp/>them<sp/>using<sp/>operations<sp/>inspired<sp/>by<sp/>natural<sp/>evolution.</highlight></codeline>
<codeline lineno="175"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="176"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Attributes:</highlight></codeline>
<codeline lineno="177"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dim<sp/>(int):<sp/>Dimensionality<sp/>of<sp/>the<sp/>problem<sp/>space.</highlight></codeline>
<codeline lineno="178"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lower<sp/>(np.ndarray):<sp/>Lower<sp/>bounds<sp/>for<sp/>the<sp/>problem<sp/>space.</highlight></codeline>
<codeline lineno="179"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>upper<sp/>(np.ndarray):<sp/>Upper<sp/>bounds<sp/>for<sp/>the<sp/>problem<sp/>space.</highlight></codeline>
<codeline lineno="180"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize<sp/>(int):<sp/>Size<sp/>of<sp/>the<sp/>population.</highlight></codeline>
<codeline lineno="181"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop_fitness<sp/>(float):<sp/>Early<sp/>stopping<sp/>criterion<sp/>based<sp/>on<sp/>fitness<sp/>value.</highlight></codeline>
<codeline lineno="182"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keep<sp/>(int):<sp/>Number<sp/>of<sp/>iterations<sp/>to<sp/>preserve<sp/>local<sp/>improvements.</highlight></codeline>
<codeline lineno="183" refid="classfcmaes_1_1de_1_1_d_e" refkind="compound"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rg<sp/>(Generator):<sp/>Random<sp/>number<sp/>generator<sp/>for<sp/>sampling<sp/>operations.</highlight></codeline>
<codeline lineno="184"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>F0<sp/>(float):<sp/>Differential<sp/>weight.</highlight></codeline>
<codeline lineno="185"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cr0<sp/>(float):<sp/>Crossover<sp/>probability.</highlight></codeline>
<codeline lineno="186"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop<sp/>(int):<sp/>Termination<sp/>condition<sp/>flag.</highlight></codeline>
<codeline lineno="187"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iterations<sp/>(int):<sp/>Number<sp/>of<sp/>completed<sp/>iterations.</highlight></codeline>
<codeline lineno="188"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evals<sp/>(int):<sp/>Number<sp/>of<sp/>function<sp/>evaluations<sp/>performed.</highlight></codeline>
<codeline lineno="189"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>(int):<sp/>Current<sp/>index<sp/>for<sp/>population<sp/>members.</highlight></codeline>
<codeline lineno="190"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>improves<sp/>(collections.deque):<sp/>Queue<sp/>of<sp/>improvement<sp/>candidates<sp/>observed<sp/>in</highlight></codeline>
<codeline lineno="191"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>recent<sp/>iterations.</highlight></codeline>
<codeline lineno="192"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter<sp/>(Optional):<sp/>Optional<sp/>filter<sp/>for<sp/>evaluating<sp/>candidate<sp/>solutions.</highlight></codeline>
<codeline lineno="193"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ints<sp/>(np.ndarray):<sp/>Array<sp/>indicating<sp/>integer-constrained<sp/>dimensions.</highlight></codeline>
<codeline lineno="194"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_mutate<sp/>(float):<sp/>Minimum<sp/>mutation<sp/>factor.</highlight></codeline>
<codeline lineno="195"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_mutate<sp/>(float):<sp/>Maximum<sp/>mutation<sp/>factor.</highlight></codeline>
<codeline lineno="196"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>best_x<sp/>(np.ndarray):<sp/>Best<sp/>solution<sp/>vector<sp/>found<sp/>so<sp/>far.</highlight></codeline>
<codeline lineno="197"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>best_value<sp/>(float):<sp/>Fitness<sp/>value<sp/>of<sp/>the<sp/>best<sp/>solution.</highlight></codeline>
<codeline lineno="198"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>best_i<sp/>(int):<sp/>Index<sp/>of<sp/>the<sp/>best<sp/>solution<sp/>in<sp/>the<sp/>population.</highlight></codeline>
<codeline lineno="199"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pop_iter<sp/>(np.ndarray):<sp/>Array<sp/>storing<sp/>the<sp/>iteration<sp/>at<sp/>which<sp/>each<sp/>member</highlight></codeline>
<codeline lineno="200"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>was<sp/>last<sp/>updated.</highlight></codeline>
<codeline lineno="201"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>(np.ndarray):<sp/>Current<sp/>population<sp/>of<sp/>candidate<sp/>solutions.</highlight></codeline>
<codeline lineno="202"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x0<sp/>(np.ndarray):<sp/>Previous<sp/>population<sp/>of<sp/>candidate<sp/>solutions.</highlight></codeline>
<codeline lineno="203"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>(np.ndarray):<sp/>Fitness<sp/>values<sp/>of<sp/>the<sp/>current<sp/>population.</highlight></codeline>
<codeline lineno="204"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1acb3ffe72d7d81180fdf03c9c293ba663" kindref="member">__init__</ref>(self,</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dim:<sp/>int,</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds:<sp/>Bounds,<sp/><sp/></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize:<sp/>Optional[int]<sp/>=<sp/>31,<sp/></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop_fitness:<sp/>Optional[float]<sp/>=<sp/>-np.inf,<sp/></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keep:<sp/>Optional[int]<sp/>=<sp/>200,<sp/></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>F:<sp/>Optional[float]<sp/>=<sp/>0.5,<sp/></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cr:<sp/>Optional[float]<sp/>=<sp/>0.9,<sp/></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rg:<sp/>Optional[Generator]<sp/>=<sp/>Generator(PCG64DXSM()),</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter:<sp/>Optional<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ints:<sp/>Optional[ArrayLike]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_mutate:<sp/>Optional[float]<sp/>=<sp/>0.1,</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_mutate:<sp/>Optional[float]<sp/>=<sp/>0.5,<sp/></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>modifier:<sp/>Optional[Callable]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="220"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Initializes<sp/>the<sp/>optimizer<sp/>with<sp/>the<sp/>specified<sp/>parameters<sp/>and<sp/>configurations.<sp/>This<sp/>class<sp/>is</highlight></codeline>
<codeline lineno="221"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>designed<sp/>to<sp/>manage<sp/>and<sp/>operate<sp/>on<sp/>populations<sp/>of<sp/>candidate<sp/>solutions<sp/>using<sp/>specified<sp/>rules</highlight></codeline>
<codeline lineno="222"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>modifiers.<sp/>It<sp/>supports<sp/>constraints<sp/>like<sp/>integer<sp/>variables<sp/>and<sp/>bounds,<sp/>and<sp/>provides</highlight></codeline>
<codeline lineno="223"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>features<sp/>such<sp/>as<sp/>mutation<sp/>settings,<sp/>filtering,<sp/>and<sp/>random<sp/>number<sp/>generation<sp/>control.</highlight></codeline>
<codeline lineno="224"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="225"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="226"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dim<sp/>(int):<sp/>Dimensionality<sp/>of<sp/>the<sp/>problem<sp/>(number<sp/>of<sp/>variables<sp/>to<sp/>be<sp/>optimized).</highlight></codeline>
<codeline lineno="227"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds<sp/>(Bounds):<sp/>An<sp/>object<sp/>specifying<sp/>the<sp/>lower<sp/>and<sp/>upper<sp/>bounds<sp/>for<sp/>the<sp/>variables.</highlight></codeline>
<codeline lineno="228"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize<sp/>(Optional[int]):<sp/>Size<sp/>of<sp/>the<sp/>population<sp/>to<sp/>be<sp/>evolved.<sp/>Default<sp/>is<sp/>31.</highlight></codeline>
<codeline lineno="229"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stop_fitness<sp/>(Optional[float]):<sp/>Stopping<sp/>criterion<sp/>based<sp/>on<sp/>fitness<sp/>value.<sp/>Default<sp/>is<sp/>-inf.</highlight></codeline>
<codeline lineno="230"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keep<sp/>(Optional[int]):<sp/>Maximum<sp/>number<sp/>of<sp/>generations<sp/>to<sp/>be<sp/>stored<sp/>for<sp/>tracking.<sp/>Default<sp/>is<sp/>200.</highlight></codeline>
<codeline lineno="231"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>F<sp/>(Optional[float]):<sp/>Differential<sp/>weight<sp/>for<sp/>mutation.<sp/>Default<sp/>is<sp/>0.5.</highlight></codeline>
<codeline lineno="232"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Cr<sp/>(Optional[float]):<sp/>Crossover<sp/>probability.<sp/>Default<sp/>is<sp/>0.9.</highlight></codeline>
<codeline lineno="233"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rg<sp/>(Optional[Generator]):<sp/>Random<sp/>number<sp/>generator<sp/>for<sp/>stochastic<sp/>operations.<sp/>Default</highlight></codeline>
<codeline lineno="234"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is<sp/>`Generator(PCG64DXSM())`.</highlight></codeline>
<codeline lineno="235"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter<sp/>(Optional):<sp/>Custom<sp/>filter<sp/>to<sp/>apply<sp/>on<sp/>solutions<sp/>during<sp/>evolution.<sp/>Default<sp/>is<sp/>None.</highlight></codeline>
<codeline lineno="236"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ints<sp/>(Optional[ArrayLike]):<sp/>Indices<sp/>of<sp/>integer<sp/>variables<sp/>in<sp/>the<sp/>solution.<sp/>Default<sp/>is<sp/>None.</highlight></codeline>
<codeline lineno="237"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_mutate<sp/>(Optional[float]):<sp/>Minimum<sp/>mutation<sp/>value<sp/>used<sp/>for<sp/>specific<sp/>mutation<sp/>rules.</highlight></codeline>
<codeline lineno="238"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Default<sp/>is<sp/>0.1.</highlight></codeline>
<codeline lineno="239"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_mutate<sp/>(Optional[float]):<sp/>Maximum<sp/>mutation<sp/>value<sp/>applied<sp/>during<sp/>evolution.</highlight></codeline>
<codeline lineno="240"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Default<sp/>is<sp/>0.5.</highlight></codeline>
<codeline lineno="241"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>modifier<sp/>(Optional[Callable]):<sp/>A<sp/>custom<sp/>variable<sp/>modifier<sp/>function<sp/>applied<sp/>during<sp/>evolution.</highlight></codeline>
<codeline lineno="242"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>If<sp/>None<sp/>and<sp/>`ints`<sp/>is<sp/>not<sp/>None,<sp/>a<sp/>default<sp/>integer<sp/>modifier<sp/>is<sp/>used.<sp/>Default<sp/>is<sp/>None.</highlight></codeline>
<codeline lineno="243"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a82571c812edbae94b8dbe570a781e078" kindref="member">dim</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abfb162caa78015d04524bf151b9dd823" kindref="member">lower</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a779d053f6915d9a593bec26d7a4dab45" kindref="member">upper</ref><sp/>=<sp/><ref refid="namespacefcmaes_1_1de_1a43e9207e1c55b796ef2b78053589d8ed" kindref="member">_check_bounds</ref>(bounds,<sp/>dim)</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>popsize<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popsize<sp/>=<sp/>31</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac57257a177f51fb2637120cc3bf7ac55" kindref="member">popsize</ref><sp/>=<sp/>popsize</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a22676b41ab3ab0d910bda941601cb9c4" kindref="member">stop_fitness</ref><sp/>=<sp/>stop_fitness</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a79b95ab48735e11bd612ddbbc65d82ba" kindref="member">keep</ref><sp/>=<sp/>keep<sp/></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a52523fe4b73185a4ff613238c05dfbe5" kindref="member">rg</ref><sp/>=<sp/>rg</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1aab11943c3f10fffbe188f1b187f93c6d" kindref="member">F0</ref><sp/>=<sp/>F</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a9e6a1d8de9d1227bc0d069a0ad0df0f2" kindref="member">Cr0</ref><sp/>=<sp/>Cr</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a34e8b51b9574c58baf0223914b3436d9" kindref="member">stop</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac79e3e82f51ac3afc9945899353603e2" kindref="member">p</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab06bd7ef3c26ed185460f070462df5e0" kindref="member">improves</ref><sp/>=<sp/>deque()</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1aa235fc388bec48ff90cca10f3e82fcb2" kindref="member">filter</ref><sp/>=<sp/>filter</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a801386a81a80f7c0f5a8c7657b6e8b9e" kindref="member">ints</ref><sp/>=<sp/>np.array(ints)</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a32aa627efd58ac0864e1abab290d008a" kindref="member">min_mutate</ref><sp/>=<sp/>min_mutate</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a87eeb5f5b78c7eb88f301ee8f02d0b1c" kindref="member">max_mutate</ref><sp/>=<sp/>max_mutate<sp/></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>default<sp/>variable<sp/>modifier<sp/>for<sp/>int<sp/>variables<sp/>if<sp/>modifier<sp/>is<sp/>None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>modifier<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>ints<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abfb162caa78015d04524bf151b9dd823" kindref="member">lower</ref><sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abfb162caa78015d04524bf151b9dd823" kindref="member">lower</ref>.astype(float)</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a779d053f6915d9a593bec26d7a4dab45" kindref="member">upper</ref><sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a779d053f6915d9a593bec26d7a4dab45" kindref="member">upper</ref>.astype(float)</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7698336acbd18cfc93652598fe8f253e" kindref="member">modifier</ref><sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a61072489f9cd73c41286fbaf8d89357b" kindref="member">_modifier</ref></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7698336acbd18cfc93652598fe8f253e" kindref="member">modifier</ref><sp/>=<sp/>modifier</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab410b147f0676eb8f0cee48fd1625b0e" kindref="member">_init</ref>()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>is_debug_active():</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1acc7ff6a5539d9f46c63aaf53152479fa" kindref="member">best_y</ref><sp/>=<sp/>mp.RawValue(ct.c_double,<sp/>1E99)</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a97c10b3a56ea2da4e71cb7cb927a6a5f" kindref="member">n_evals</ref><sp/>=<sp/>mp.RawValue(ct.c_long,<sp/>0)</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a976d25de99114d1eca7746bee992275a" kindref="member">time_0</ref><sp/>=<sp/>time()</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1acc2a7649411442c90167d856c673ccb4" kindref="member">ask</ref>(self)<sp/>-&gt;<sp/>np.ndarray:</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="277"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Generates<sp/>and<sp/>returns<sp/>the<sp/>next<sp/>set<sp/>of<sp/>samples<sp/>to<sp/>be<sp/>evaluated<sp/>based<sp/>on<sp/>the<sp/>evolutionary<sp/>strategy.</highlight></codeline>
<codeline lineno="278"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="279"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>method<sp/>ensures<sp/>that<sp/>all<sp/>individuals<sp/>in<sp/>the<sp/>population<sp/>either<sp/>utilize<sp/>previously<sp/>identified</highlight></codeline>
<codeline lineno="280"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>improvements<sp/>or<sp/>are<sp/>generated<sp/>as<sp/>new<sp/>samples.<sp/>If<sp/>improvements<sp/>are<sp/>queued,<sp/>they<sp/>are<sp/>integrated</highlight></codeline>
<codeline lineno="281"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>into<sp/>the<sp/>population.<sp/>Otherwise,<sp/>new<sp/>samples<sp/>are<sp/>generated<sp/>for<sp/>population<sp/>members.</highlight></codeline>
<codeline lineno="282"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="283"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="284"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np.ndarray:<sp/>An<sp/>array<sp/>containing<sp/>the<sp/>generated<sp/>or<sp/>improved<sp/>samples<sp/>for<sp/>the<sp/>entire<sp/>population.</highlight></codeline>
<codeline lineno="285"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs<sp/>=<sp/>[</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">]<sp/>*<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac57257a177f51fb2637120cc3bf7ac55" kindref="member">popsize</ref></highlight></codeline>
<codeline lineno="288" refid="classfcmaes_1_1de_1_1_d_e_1acb3ffe72d7d81180fdf03c9c293ba663" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac57257a177f51fb2637120cc3bf7ac55" kindref="member">popsize</ref>):</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab06bd7ef3c26ed185460f070462df5e0" kindref="member">improves</ref>:</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p,<sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab06bd7ef3c26ed185460f070462df5e0" kindref="member">improves</ref>[0]</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>xs[p]<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs[p]<sp/>=<sp/>x</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab06bd7ef3c26ed185460f070462df5e0" kindref="member">improves</ref>.popleft()</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac57257a177f51fb2637120cc3bf7ac55" kindref="member">popsize</ref>):</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>xs[p]<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_,<sp/>_,<sp/>xs[p]<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1af65d189c855a19bc82ea60b185482757" kindref="member">_next_x</ref>(p)<sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1af99e0a33e3026139a617ba2f619455a6" kindref="member">asked</ref><sp/>=<sp/>xs<sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="302" refid="classfcmaes_1_1de_1_1_d_e_1a82571c812edbae94b8dbe570a781e078" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>xs</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1aa9de9d67ac999658a523d2ad8976954b" kindref="member">tell</ref>(self,<sp/></highlight></codeline>
<codeline lineno="305" refid="classfcmaes_1_1de_1_1_d_e_1ac57257a177f51fb2637120cc3bf7ac55" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys:ArrayLike,<sp/></highlight></codeline>
<codeline lineno="306" refid="classfcmaes_1_1de_1_1_d_e_1a22676b41ab3ab0d910bda941601cb9c4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs:Optional[ArrayLike]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/>-&gt;<sp/>int:</highlight></codeline>
<codeline lineno="307" refid="classfcmaes_1_1de_1_1_d_e_1a79b95ab48735e11bd612ddbbc65d82ba" refkind="member"><highlight class="normal"></highlight></codeline>
<codeline lineno="308" refid="classfcmaes_1_1de_1_1_d_e_1a52523fe4b73185a4ff613238c05dfbe5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="309" refid="classfcmaes_1_1de_1_1_d_e_1aab11943c3f10fffbe188f1b187f93c6d" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tells<sp/>the<sp/>algorithm<sp/>about<sp/>the<sp/>function<sp/>evaluations<sp/>(objective<sp/>values)<sp/>for<sp/>the<sp/>proposed</highlight></codeline>
<codeline lineno="310" refid="classfcmaes_1_1de_1_1_d_e_1a9e6a1d8de9d1227bc0d069a0ad0df0f2" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>solutions<sp/>and<sp/>updates<sp/>the<sp/>state<sp/>accordingly.</highlight></codeline>
<codeline lineno="311" refid="classfcmaes_1_1de_1_1_d_e_1a34e8b51b9574c58baf0223914b3436d9" refkind="member"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="312" refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>method<sp/>is<sp/>used<sp/>to<sp/>inform<sp/>the<sp/>algorithm<sp/>of<sp/>the<sp/>results<sp/>of<sp/>one<sp/>or<sp/>more<sp/>objective</highlight></codeline>
<codeline lineno="313" refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>function<sp/>evaluations.<sp/>This<sp/>information<sp/>is<sp/>essential<sp/>for<sp/>the<sp/>algorithm<sp/>to<sp/>proceed</highlight></codeline>
<codeline lineno="314" refid="classfcmaes_1_1de_1_1_d_e_1ac79e3e82f51ac3afc9945899353603e2" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>with<sp/>the<sp/>optimization<sp/>process<sp/>and<sp/>adjust<sp/>its<sp/>internal<sp/>model<sp/>or<sp/>state.</highlight></codeline>
<codeline lineno="315" refid="classfcmaes_1_1de_1_1_d_e_1ab06bd7ef3c26ed185460f070462df5e0" refkind="member"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="316" refid="classfcmaes_1_1de_1_1_d_e_1aa235fc388bec48ff90cca10f3e82fcb2" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="317" refid="classfcmaes_1_1de_1_1_d_e_1a801386a81a80f7c0f5a8c7657b6e8b9e" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ys<sp/>(ArrayLike):<sp/>Array<sp/>of<sp/>function<sp/>evaluation<sp/>results<sp/>(objective<sp/>values)</highlight></codeline>
<codeline lineno="318" refid="classfcmaes_1_1de_1_1_d_e_1a32aa627efd58ac0864e1abab290d008a" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>corresponding<sp/>to<sp/>the<sp/>proposed<sp/>solutions.</highlight></codeline>
<codeline lineno="319" refid="classfcmaes_1_1de_1_1_d_e_1a87eeb5f5b78c7eb88f301ee8f02d0b1c" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs<sp/>(Optional[ArrayLike]):<sp/>Array<sp/>of<sp/>proposed<sp/>solutions<sp/>for<sp/>which<sp/>the<sp/>objective</highlight></codeline>
<codeline lineno="320"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>values<sp/>(ys)<sp/>have<sp/>been<sp/>evaluated.<sp/>If<sp/>not<sp/>provided,<sp/>the<sp/>method<sp/>will<sp/>use</highlight></codeline>
<codeline lineno="321"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>solutions<sp/>that<sp/>were<sp/>previously<sp/>&quot;asked&quot;<sp/>by<sp/>the<sp/>algorithm.</highlight></codeline>
<codeline lineno="322"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="323"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="324" refid="classfcmaes_1_1de_1_1_d_e_1a7698336acbd18cfc93652598fe8f253e" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int:<sp/>An<sp/>integer<sp/>indicating<sp/>the<sp/>stop<sp/>condition<sp/>of<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="325"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>xs<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xs<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1af99e0a33e3026139a617ba2f619455a6" kindref="member">asked</ref></highlight></codeline>
<codeline lineno="329" refid="classfcmaes_1_1de_1_1_d_e_1acc7ff6a5539d9f46c63aaf53152479fa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref><sp/>+=<sp/>len(ys)</highlight></codeline>
<codeline lineno="330" refid="classfcmaes_1_1de_1_1_d_e_1a97c10b3a56ea2da4e71cb7cb927a6a5f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(ys)):</highlight></codeline>
<codeline lineno="331" refid="classfcmaes_1_1de_1_1_d_e_1a976d25de99114d1eca7746bee992275a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a882c7a58bf3f14c342d2a0e0700e31ef" kindref="member">tell_one</ref>(p,<sp/>ys[p],<sp/>xs[p])</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a34e8b51b9574c58baf0223914b3436d9" kindref="member">stop</ref></highlight></codeline>
<codeline lineno="333"><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1a011bec0b481334ccc6d957fb89d306a7" kindref="member">population</ref>(self)<sp/>-&gt;<sp/>np.ndarray:</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="336"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Retrieves<sp/>the<sp/>population<sp/>data<sp/>stored<sp/>in<sp/>the<sp/>class.</highlight></codeline>
<codeline lineno="337"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="338"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>method<sp/>returns<sp/>the<sp/>population<sp/>data,<sp/>which<sp/>is<sp/>stored<sp/>in<sp/>the<sp/>object&apos;s<sp/>state.<sp/>It<sp/>is<sp/>expected</highlight></codeline>
<codeline lineno="339"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to<sp/>be<sp/>a<sp/>NumPy<sp/>array<sp/>representing<sp/>specific<sp/>data<sp/>related<sp/>to<sp/>the<sp/>population.</highlight></codeline>
<codeline lineno="340"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="341"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="342"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np.ndarray:<sp/>The<sp/>population<sp/>data<sp/>stored<sp/>in<sp/>the<sp/>object.</highlight></codeline>
<codeline lineno="343" refid="classfcmaes_1_1de_1_1_d_e_1acc2a7649411442c90167d856c673ccb4" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref></highlight></codeline>
<codeline lineno="345"><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1ab58df13ca3623bcce727576e5d354bbc" kindref="member">result</ref>(self)<sp/>-&gt;<sp/>OptimizeResult:</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="348"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns<sp/>an<sp/>optimization<sp/>result<sp/>object<sp/>containing<sp/>the<sp/>final<sp/>outcome<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="349"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="350"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="351"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>method<sp/>encapsulates<sp/>the<sp/>key<sp/>output<sp/>data<sp/>in<sp/>an<sp/>`OptimizeResult`<sp/>object,</highlight></codeline>
<codeline lineno="352"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>providing<sp/>details<sp/>about<sp/>the<sp/>best<sp/>solution<sp/>found<sp/>during<sp/>the<sp/>optimization,</highlight></codeline>
<codeline lineno="353"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>function<sp/>value<sp/>at<sp/>that<sp/>solution,<sp/>the<sp/>total<sp/>number<sp/>of<sp/>function<sp/>evaluations,</highlight></codeline>
<codeline lineno="354"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>number<sp/>of<sp/>iterations<sp/>performed,<sp/>and<sp/>the<sp/>status<sp/>of<sp/>the<sp/>optimizer.</highlight></codeline>
<codeline lineno="355"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="356"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="357"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OptimizeResult:<sp/>An<sp/>object<sp/>containing<sp/>the<sp/>results<sp/>of<sp/>the<sp/>optimization<sp/>process,</highlight></codeline>
<codeline lineno="358"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>including<sp/>details<sp/>such<sp/>as<sp/>the<sp/>optimal<sp/>solution<sp/>(`x`),<sp/>the<sp/>objective<sp/>function</highlight></codeline>
<codeline lineno="359" refid="classfcmaes_1_1de_1_1_d_e_1af99e0a33e3026139a617ba2f619455a6" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>at<sp/>that<sp/>solution<sp/>(`fun`),<sp/>total<sp/>function<sp/>evaluations<sp/>(`nfev`),</highlight></codeline>
<codeline lineno="360"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>number<sp/>of<sp/>iterations<sp/>(`nit`),<sp/>the<sp/>stopping<sp/>status<sp/>(`status`),<sp/>and<sp/>a<sp/>success</highlight></codeline>
<codeline lineno="361"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flag<sp/>(`success`).</highlight></codeline>
<codeline lineno="362"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>OptimizeResult(x=self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7832310bdca0281b9cc91f4e2eae603e" kindref="member">best_x</ref>,<sp/>fun=self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac06303559818f85d970746c3dc243e84" kindref="member">best_value</ref>,</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nfev=self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref>*self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac57257a177f51fb2637120cc3bf7ac55" kindref="member">popsize</ref>,<sp/></highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nit=self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref>,<sp/>status=self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a34e8b51b9574c58baf0223914b3436d9" kindref="member">stop</ref>,<sp/>success=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1a6e647b4dbacab60b482242c80b0a8582" kindref="member">ask_one</ref>(self)<sp/>-&gt;<sp/>Tuple[int,<sp/>np.ndarray]:</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="369"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Generates<sp/>the<sp/>next<sp/>candidate<sp/>from<sp/>the<sp/>population<sp/>queue<sp/>or<sp/>computes<sp/>a<sp/>new<sp/>one.</highlight></codeline>
<codeline lineno="370"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="371"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>function<sp/>retrieves<sp/>the<sp/>next<sp/>candidate<sp/>solution<sp/>for<sp/>evaluation.<sp/>If<sp/>pre-generated</highlight></codeline>
<codeline lineno="372"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>candidates<sp/>are<sp/>available<sp/>in<sp/>the<sp/>queue<sp/>(`self.improves`),<sp/>it<sp/>dequeues<sp/>one.<sp/>Otherwise,</highlight></codeline>
<codeline lineno="373"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>it<sp/>computes<sp/>a<sp/>new<sp/>candidate<sp/>based<sp/>on<sp/>the<sp/>current<sp/>population<sp/>index.</highlight></codeline>
<codeline lineno="374"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="375"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="376"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tuple[int,<sp/>np.ndarray]:<sp/>A<sp/>tuple<sp/>where<sp/>the<sp/>first<sp/>element<sp/>is<sp/>the<sp/>population<sp/>index</highlight></codeline>
<codeline lineno="377"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>of<sp/>the<sp/>candidate,<sp/>and<sp/>the<sp/>second<sp/>element<sp/>is<sp/>the<sp/>candidate<sp/>solution<sp/>in<sp/>the<sp/>form</highlight></codeline>
<codeline lineno="378"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>of<sp/>a<sp/>numpy<sp/>array.</highlight></codeline>
<codeline lineno="379"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="380" refid="classfcmaes_1_1de_1_1_d_e_1aa9de9d67ac999658a523d2ad8976954b" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="381"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>No<sp/>explicit<sp/>exceptions<sp/>are<sp/>raised<sp/>by<sp/>this<sp/>method.</highlight></codeline>
<codeline lineno="382"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab06bd7ef3c26ed185460f070462df5e0" kindref="member">improves</ref>:</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p,<sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab06bd7ef3c26ed185460f070462df5e0" kindref="member">improves</ref>.popleft()</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac79e3e82f51ac3afc9945899353603e2" kindref="member">p</ref></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_,<sp/>_,<sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1af65d189c855a19bc82ea60b185482757" kindref="member">_next_x</ref>(p)</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac79e3e82f51ac3afc9945899353603e2" kindref="member">p</ref><sp/>=<sp/>(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac79e3e82f51ac3afc9945899353603e2" kindref="member">p</ref><sp/>+<sp/>1)<sp/>%<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac57257a177f51fb2637120cc3bf7ac55" kindref="member">popsize</ref></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>p,<sp/>x</highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1a882c7a58bf3f14c342d2a0e0700e31ef" kindref="member">tell_one</ref>(self,<sp/>p:<sp/>int,<sp/>y:float<sp/>,<sp/>x:ArrayLike)<sp/>-&gt;<sp/>int:</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="394"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Process<sp/>a<sp/>single<sp/>individual&apos;s<sp/>evaluation<sp/>update<sp/>within<sp/>a<sp/>population-based<sp/>optimization</highlight></codeline>
<codeline lineno="395"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>algorithm.<sp/>Updates<sp/>the<sp/>values<sp/>of<sp/>the<sp/>provided<sp/>population<sp/>member<sp/>based<sp/>on<sp/>the<sp/>fitness</highlight></codeline>
<codeline lineno="396"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>of<sp/>the<sp/>given<sp/>evaluation<sp/>and<sp/>decides<sp/>whether<sp/>to<sp/>replace<sp/>it<sp/>with<sp/>a<sp/>new<sp/>candidate.<sp/>Tracks</highlight></codeline>
<codeline lineno="397"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>improvements<sp/>and<sp/>adjusts<sp/>population<sp/>state<sp/>as<sp/>necessary.</highlight></codeline>
<codeline lineno="398"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="399"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="400"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>(int):<sp/>Index<sp/>of<sp/>the<sp/>population<sp/>member<sp/>to<sp/>update.</highlight></codeline>
<codeline lineno="401" refid="classfcmaes_1_1de_1_1_d_e_1a011bec0b481334ccc6d957fb89d306a7" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>(float):<sp/>Evaluated<sp/>fitness<sp/>value<sp/>of<sp/>the<sp/>candidate<sp/>solution.</highlight></codeline>
<codeline lineno="402"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>(ArrayLike):<sp/>Candidate<sp/>solution<sp/>corresponding<sp/>to<sp/>the<sp/>evaluated<sp/>fitness.</highlight></codeline>
<codeline lineno="403"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="404"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="405"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int:<sp/>Indicator<sp/>for<sp/>whether<sp/>the<sp/>optimization<sp/>should<sp/>stop<sp/>(1<sp/>for<sp/>stop,<sp/>0<sp/>for<sp/>continue).</highlight></codeline>
<codeline lineno="406"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1aa235fc388bec48ff90cca10f3e82fcb2" kindref="member">filter</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1aa235fc388bec48ff90cca10f3e82fcb2" kindref="member">filter</ref>.add(x,<sp/>y)</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abc7d518a5e4b0099bf8bbaaa88cab8eb" kindref="member">y</ref>[p]<sp/>&gt;<sp/>y):</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>temporal<sp/>locality</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref><sp/>&gt;<sp/>1:</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab06bd7ef3c26ed185460f070462df5e0" kindref="member">improves</ref>.append((p,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a75e2c22d49dde6bd8f31572ef39152d7" kindref="member">_next_improve</ref>(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref>[self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab82523baab98d9c3ab365204dbdadd00" kindref="member">best_i</ref>],<sp/>x,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a3eca7e626d9f80684912065519cb7652" kindref="member">x0</ref>[p])))<sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a3eca7e626d9f80684912065519cb7652" kindref="member">x0</ref>[p]<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref>[p]</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref>[p]<sp/>=<sp/>x</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abc7d518a5e4b0099bf8bbaaa88cab8eb" kindref="member">y</ref>[p]<sp/>=<sp/>y</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abc7d518a5e4b0099bf8bbaaa88cab8eb" kindref="member">y</ref>[self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab82523baab98d9c3ab365204dbdadd00" kindref="member">best_i</ref>]<sp/>&gt;<sp/>y:</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab82523baab98d9c3ab365204dbdadd00" kindref="member">best_i</ref><sp/>=<sp/>p</highlight></codeline>
<codeline lineno="420" refid="classfcmaes_1_1de_1_1_d_e_1ab58df13ca3623bcce727576e5d354bbc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac06303559818f85d970746c3dc243e84" kindref="member">best_value</ref><sp/>&gt;<sp/>y:</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7832310bdca0281b9cc91f4e2eae603e" kindref="member">best_x</ref><sp/>=<sp/>x</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac06303559818f85d970746c3dc243e84" kindref="member">best_value</ref><sp/>=<sp/>y</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a22676b41ab3ab0d910bda941601cb9c4" kindref="member">stop_fitness</ref><sp/>&gt;<sp/>y:</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a34e8b51b9574c58baf0223914b3436d9" kindref="member">stop</ref><sp/>=<sp/>1</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a4ae2c1ae1c81d24a5a5baf010063d492" kindref="member">pop_iter</ref>[p]<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a52523fe4b73185a4ff613238c05dfbe5" kindref="member">rg</ref>.<ref refid="evaluator_8h_1ad408c1ac0c479863b2d1291c483c5593" kindref="member">uniform</ref>(0,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a79b95ab48735e11bd612ddbbc65d82ba" kindref="member">keep</ref>)<sp/>&lt;<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref><sp/>-<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a4ae2c1ae1c81d24a5a5baf010063d492" kindref="member">pop_iter</ref>[p]:</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref>[p]<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1adf6645de9d62c0900bad93d5a6934a4b" kindref="member">_sample</ref>()</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abc7d518a5e4b0099bf8bbaaa88cab8eb" kindref="member">y</ref>[p]<sp/>=<sp/>np.inf</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>is_debug_active():</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a97c10b3a56ea2da4e71cb7cb927a6a5f" kindref="member">n_evals</ref>.value<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>y<sp/>&lt;<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1acc7ff6a5539d9f46c63aaf53152479fa" kindref="member">best_y</ref>.value<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a97c10b3a56ea2da4e71cb7cb927a6a5f" kindref="member">n_evals</ref>.value<sp/>%<sp/>1000<sp/>==<sp/>999:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>y<sp/>&lt;<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1acc7ff6a5539d9f46c63aaf53152479fa" kindref="member">best_y</ref>.value:<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1acc7ff6a5539d9f46c63aaf53152479fa" kindref="member">best_y</ref>.value<sp/>=<sp/>y</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t<sp/>=<sp/>time()<sp/>-<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a976d25de99114d1eca7746bee992275a" kindref="member">time_0</ref><sp/>+<sp/>1E-9</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a97c10b3a56ea2da4e71cb7cb927a6a5f" kindref="member">n_evals</ref>.value</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>message<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&quot;c/t={0:.2f}<sp/>c={1:d}<sp/>t={2:.2f}<sp/>y={3:.5f}<sp/>yb={4:.5f}<sp/>x={5!s}&apos;</highlight><highlight class="normal">.format(</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c/t,<sp/>c,<sp/>t,<sp/>y,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1acc7ff6a5539d9f46c63aaf53152479fa" kindref="member">best_y</ref>.value,<sp/>x)</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>logger.debug(message)</highlight></codeline>
<codeline lineno="440" refid="classfcmaes_1_1de_1_1_d_e_1a6e647b4dbacab60b482242c80b0a8582" refkind="member"><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a34e8b51b9574c58baf0223914b3436d9" kindref="member">stop</ref><sp/></highlight></codeline>
<codeline lineno="442"><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1ab410b147f0676eb8f0cee48fd1625b0e" kindref="member">_init</ref>(self):</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="445"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Initializes<sp/>the<sp/>optimization<sp/>population<sp/>and<sp/>sets<sp/>up<sp/>initial<sp/>values.</highlight></codeline>
<codeline lineno="446"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="447"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>method<sp/>initializes<sp/>the<sp/>population<sp/>matrix<sp/>and<sp/>related<sp/>attributes<sp/>for<sp/>an</highlight></codeline>
<codeline lineno="448"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimization<sp/>problem.<sp/>It<sp/>samples<sp/>the<sp/>initial<sp/>values<sp/>for<sp/>the<sp/>population,<sp/>assigns</highlight></codeline>
<codeline lineno="449"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>initial<sp/>objective<sp/>values<sp/>to<sp/>infinity,<sp/>and<sp/>determines<sp/>the<sp/>placeholder<sp/>for</highlight></codeline>
<codeline lineno="450"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>best<sp/>solution<sp/>and<sp/>its<sp/>corresponding<sp/>value.</highlight></codeline>
<codeline lineno="451"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="452"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Attributes:</highlight></codeline>
<codeline lineno="453"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>(ndarray):<sp/>The<sp/>population<sp/>matrix<sp/>of<sp/>shape<sp/>(popsize,<sp/>dim),<sp/>where<sp/>each<sp/>row</highlight></codeline>
<codeline lineno="454"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>represents<sp/>an<sp/>individual<sp/>solution<sp/>in<sp/>the<sp/>population.</highlight></codeline>
<codeline lineno="455"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x0<sp/>(ndarray):<sp/>A<sp/>matrix<sp/>of<sp/>the<sp/>initial<sp/>population,<sp/>identical<sp/>to<sp/>`x`<sp/>at<sp/>this</highlight></codeline>
<codeline lineno="456"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stage.</highlight></codeline>
<codeline lineno="457"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>(ndarray):<sp/>Array<sp/>of<sp/>objective<sp/>values<sp/>for<sp/>each<sp/>individual<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="458"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>population.</highlight></codeline>
<codeline lineno="459"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>best_x<sp/>(ndarray):<sp/>Best<sp/>solution<sp/>found<sp/>so<sp/>far,<sp/>initialized<sp/>with<sp/>the<sp/>first</highlight></codeline>
<codeline lineno="460"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>individual<sp/>of<sp/>the<sp/>population.</highlight></codeline>
<codeline lineno="461"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>best_value<sp/>(float):<sp/>Objective<sp/>value<sp/>of<sp/>the<sp/>best<sp/>solution<sp/>found<sp/>so<sp/>far,</highlight></codeline>
<codeline lineno="462"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initialized<sp/>to<sp/>infinity.</highlight></codeline>
<codeline lineno="463"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>best_i<sp/>(int):<sp/>Index<sp/>of<sp/>the<sp/>current<sp/>best<sp/>solution<sp/>in<sp/>the<sp/>population,</highlight></codeline>
<codeline lineno="464" refid="classfcmaes_1_1de_1_1_d_e_1a882c7a58bf3f14c342d2a0e0700e31ef" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initialized<sp/>to<sp/>0.</highlight></codeline>
<codeline lineno="465"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pop_iter<sp/>(ndarray):<sp/>Array<sp/>to<sp/>track<sp/>the<sp/>iteration<sp/>or<sp/>generation<sp/>count<sp/>for</highlight></codeline>
<codeline lineno="466"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>each<sp/>individual<sp/>in<sp/>the<sp/>population.</highlight></codeline>
<codeline lineno="467"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref><sp/>=<sp/>np.zeros((self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac57257a177f51fb2637120cc3bf7ac55" kindref="member">popsize</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a82571c812edbae94b8dbe570a781e078" kindref="member">dim</ref>))</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a3eca7e626d9f80684912065519cb7652" kindref="member">x0</ref><sp/>=<sp/>np.zeros((self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac57257a177f51fb2637120cc3bf7ac55" kindref="member">popsize</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a82571c812edbae94b8dbe570a781e078" kindref="member">dim</ref>))</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abc7d518a5e4b0099bf8bbaaa88cab8eb" kindref="member">y</ref><sp/>=<sp/>np.empty(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac57257a177f51fb2637120cc3bf7ac55" kindref="member">popsize</ref>)</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac57257a177f51fb2637120cc3bf7ac55" kindref="member">popsize</ref>):</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref>[i]<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a3eca7e626d9f80684912065519cb7652" kindref="member">x0</ref>[i]<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1adf6645de9d62c0900bad93d5a6934a4b" kindref="member">_sample</ref>()</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abc7d518a5e4b0099bf8bbaaa88cab8eb" kindref="member">y</ref>[i]<sp/>=<sp/>np.inf</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7832310bdca0281b9cc91f4e2eae603e" kindref="member">best_x</ref><sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref>[0]</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac06303559818f85d970746c3dc243e84" kindref="member">best_value</ref><sp/>=<sp/>np.inf</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab82523baab98d9c3ab365204dbdadd00" kindref="member">best_i</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="477" refid="classfcmaes_1_1de_1_1_d_e_1ab82523baab98d9c3ab365204dbdadd00" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a4ae2c1ae1c81d24a5a5baf010063d492" kindref="member">pop_iter</ref><sp/>=<sp/>np.zeros(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac57257a177f51fb2637120cc3bf7ac55" kindref="member">popsize</ref>)</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="479" refid="classfcmaes_1_1de_1_1_d_e_1a7832310bdca0281b9cc91f4e2eae603e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1a4f28f983cc8d831a834065b9ad762dc1" kindref="member">apply_fun</ref>(self,<sp/>x,<sp/>x_old,<sp/>y_old):</highlight></codeline>
<codeline lineno="480" refid="classfcmaes_1_1de_1_1_d_e_1ac06303559818f85d970746c3dc243e84" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="481"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Applies<sp/>the<sp/>function<sp/>to<sp/>the<sp/>input<sp/>or<sp/>returns<sp/>a<sp/>default<sp/>fallback<sp/>based<sp/>on<sp/>a<sp/>filter.</highlight></codeline>
<codeline lineno="482"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="483"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>method<sp/>evaluates<sp/>the<sp/>given<sp/>function<sp/>`fun`<sp/>for<sp/>the<sp/>input<sp/>`x`.<sp/>If<sp/>a<sp/>`filter`</highlight></codeline>
<codeline lineno="484"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is<sp/>present,<sp/>it<sp/>checks<sp/>the<sp/>`filter`<sp/>criteria<sp/>to<sp/>determine<sp/>if<sp/>the<sp/>evaluation</highlight></codeline>
<codeline lineno="485"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>should<sp/>proceed.<sp/>If<sp/>the<sp/>criteria<sp/>are<sp/>met,<sp/>it<sp/>applies<sp/>the<sp/>function<sp/>and<sp/>adds</highlight></codeline>
<codeline lineno="486"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>result<sp/>to<sp/>the<sp/>filter,<sp/>otherwise<sp/>it<sp/>returns<sp/>a<sp/>predefined<sp/>fallback<sp/>value</highlight></codeline>
<codeline lineno="487"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1E99).<sp/>If<sp/>no<sp/>`filter`<sp/>exists,<sp/>the<sp/>function<sp/>is<sp/>always<sp/>evaluated.</highlight></codeline>
<codeline lineno="488"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="489"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="490"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x:<sp/>The<sp/>current<sp/>input<sp/>to<sp/>the<sp/>function<sp/>`fun`<sp/>to<sp/>be<sp/>evaluated.</highlight></codeline>
<codeline lineno="491"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x_old:<sp/>The<sp/>previous<sp/>input<sp/>value<sp/>in<sp/>the<sp/>process<sp/>for<sp/>comparison<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="492"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter.</highlight></codeline>
<codeline lineno="493"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y_old:<sp/>The<sp/>previous<sp/>output<sp/>value<sp/>in<sp/>the<sp/>process<sp/>for<sp/>comparison<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="494"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter.</highlight></codeline>
<codeline lineno="495"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="496"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="497"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>result<sp/>of<sp/>evaluating<sp/>the<sp/>function<sp/>`fun(x)`<sp/>if<sp/>no<sp/>filter<sp/>exists<sp/>or<sp/>the</highlight></codeline>
<codeline lineno="498"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter<sp/>criteria<sp/>are<sp/>fulfilled.<sp/>Otherwise,<sp/>returns<sp/>the<sp/>fallback<sp/>value</highlight></codeline>
<codeline lineno="499"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1E99.</highlight></codeline>
<codeline lineno="500"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1aa235fc388bec48ff90cca10f3e82fcb2" kindref="member">filter</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref><sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ad346a5d42fbaec4c0fa1eed13ca09757" kindref="member">fun</ref>(x)</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1aa235fc388bec48ff90cca10f3e82fcb2" kindref="member">filter</ref>.is_improve(x,<sp/>x_old,<sp/>y_old):</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref><sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ad346a5d42fbaec4c0fa1eed13ca09757" kindref="member">fun</ref>(x)</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1aa235fc388bec48ff90cca10f3e82fcb2" kindref="member">filter</ref>.add(x,<sp/>y)</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>y</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1E99</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1a32845de73093acd3cc921a173958d818" kindref="member">do_optimize</ref>(self,<sp/>fun,<sp/>max_evals):</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="515"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Optimizes<sp/>a<sp/>given<sp/>objective<sp/>function<sp/>using<sp/>a<sp/>population-based<sp/>strategy.<sp/>The<sp/>optimization<sp/>process<sp/>is<sp/>based<sp/>on</highlight></codeline>
<codeline lineno="516"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iterative<sp/>improvements<sp/>of<sp/>candidate<sp/>solutions<sp/>to<sp/>minimize<sp/>the<sp/>objective<sp/>function<sp/>value.</highlight></codeline>
<codeline lineno="517"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="518"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="519"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun:<sp/>Callable</highlight></codeline>
<codeline lineno="520"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>objective<sp/>function<sp/>to<sp/>be<sp/>minimized.<sp/>Must<sp/>accept<sp/>input<sp/>vectors<sp/>resembling<sp/>the<sp/>solution</highlight></codeline>
<codeline lineno="521"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>representation.</highlight></codeline>
<codeline lineno="522"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evals:<sp/>int</highlight></codeline>
<codeline lineno="523"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>maximum<sp/>number<sp/>of<sp/>function<sp/>evaluations<sp/>allowed<sp/>during<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="524"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="525"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="526"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tuple</highlight></codeline>
<codeline lineno="527"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A<sp/>tuple<sp/>containing<sp/>the<sp/>following:</highlight></codeline>
<codeline lineno="528"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>best_x:<sp/>Array<sp/>or<sp/>list<sp/>representing<sp/>the<sp/>best<sp/>solution<sp/>found<sp/>during<sp/>the<sp/>optimization.</highlight></codeline>
<codeline lineno="529"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>best_value:<sp/>float,<sp/>the<sp/>value<sp/>of<sp/>the<sp/>objective<sp/>function<sp/>for<sp/>the<sp/>best<sp/>solution.</highlight></codeline>
<codeline lineno="530"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>evals:<sp/>int,<sp/>the<sp/>total<sp/>number<sp/>of<sp/>function<sp/>evaluations<sp/>performed.</highlight></codeline>
<codeline lineno="531"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>iterations:<sp/>int,<sp/>the<sp/>total<sp/>number<sp/>of<sp/>iterations<sp/>completed<sp/>during<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="532"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>stop:<sp/>int,<sp/>an<sp/>indicator<sp/>explaining<sp/>the<sp/>stop<sp/>condition<sp/>(e.g.,<sp/>termination<sp/>criteria<sp/>met).</highlight></codeline>
<codeline lineno="533"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="534" refid="classfcmaes_1_1de_1_1_d_e_1ab410b147f0676eb8f0cee48fd1625b0e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ad346a5d42fbaec4c0fa1eed13ca09757" kindref="member">fun</ref><sp/>=<sp/>fun</highlight></codeline>
<codeline lineno="535" refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1acf33e850252a8c82db8a69cfa7e8ea9f" kindref="member">max_evals</ref><sp/>=<sp/>max_evals<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="536" refid="classfcmaes_1_1de_1_1_d_e_1a3eca7e626d9f80684912065519cb7652" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="537" refid="classfcmaes_1_1de_1_1_d_e_1abc7d518a5e4b0099bf8bbaaa88cab8eb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref><sp/>&lt;<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1acf33e850252a8c82db8a69cfa7e8ea9f" kindref="member">max_evals</ref>:</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>p<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac57257a177f51fb2637120cc3bf7ac55" kindref="member">popsize</ref>):</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xb,<sp/>xi,<sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1af65d189c855a19bc82ea60b185482757" kindref="member">_next_x</ref>(p)</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a4f28f983cc8d831a834065b9ad762dc1" kindref="member">apply_fun</ref>(x,<sp/>xi,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abc7d518a5e4b0099bf8bbaaa88cab8eb" kindref="member">y</ref>[p])</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>y<sp/>&lt;<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abc7d518a5e4b0099bf8bbaaa88cab8eb" kindref="member">y</ref>[p]:</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>temporal<sp/>locality</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="544" refid="classfcmaes_1_1de_1_1_d_e_1a4ae2c1ae1c81d24a5a5baf010063d492" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref><sp/>&gt;<sp/>1:</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x2<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a75e2c22d49dde6bd8f31572ef39152d7" kindref="member">_next_improve</ref>(xb,<sp/>x,<sp/>xi)</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y2<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a4f28f983cc8d831a834065b9ad762dc1" kindref="member">apply_fun</ref>(x2,<sp/>x,<sp/>y)</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>y2<sp/>&lt;<sp/>y:</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>=<sp/>y2</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>=<sp/>x2</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref>[p]<sp/>=<sp/>x</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abc7d518a5e4b0099bf8bbaaa88cab8eb" kindref="member">y</ref>[p]<sp/>=<sp/>y</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a4ae2c1ae1c81d24a5a5baf010063d492" kindref="member">pop_iter</ref>[p]<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref></highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>y<sp/>&lt;<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abc7d518a5e4b0099bf8bbaaa88cab8eb" kindref="member">y</ref>[self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab82523baab98d9c3ab365204dbdadd00" kindref="member">best_i</ref>]:</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab82523baab98d9c3ab365204dbdadd00" kindref="member">best_i</ref><sp/>=<sp/>p;</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>y<sp/>&lt;<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac06303559818f85d970746c3dc243e84" kindref="member">best_value</ref>:</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac06303559818f85d970746c3dc243e84" kindref="member">best_value</ref><sp/>=<sp/>y;</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7832310bdca0281b9cc91f4e2eae603e" kindref="member">best_x</ref><sp/>=<sp/>x;</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a22676b41ab3ab0d910bda941601cb9c4" kindref="member">stop_fitness</ref><sp/>&gt;<sp/>y:</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a34e8b51b9574c58baf0223914b3436d9" kindref="member">stop</ref><sp/>=<sp/>1</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>reinitialize<sp/>individual</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a52523fe4b73185a4ff613238c05dfbe5" kindref="member">rg</ref>.<ref refid="evaluator_8h_1ad408c1ac0c479863b2d1291c483c5593" kindref="member">uniform</ref>(0,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a79b95ab48735e11bd612ddbbc65d82ba" kindref="member">keep</ref>)<sp/>&lt;<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref><sp/>-<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a4ae2c1ae1c81d24a5a5baf010063d492" kindref="member">pop_iter</ref>[p]:</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref>[p]<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1adf6645de9d62c0900bad93d5a6934a4b" kindref="member">_sample</ref>()</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abc7d518a5e4b0099bf8bbaaa88cab8eb" kindref="member">y</ref>[p]<sp/>=<sp/>np.inf</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref><sp/>&gt;=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1acf33e850252a8c82db8a69cfa7e8ea9f" kindref="member">max_evals</ref>:</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="567" refid="classfcmaes_1_1de_1_1_d_e_1a4f28f983cc8d831a834065b9ad762dc1" refkind="member"><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7832310bdca0281b9cc91f4e2eae603e" kindref="member">best_x</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac06303559818f85d970746c3dc243e84" kindref="member">best_value</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a34e8b51b9574c58baf0223914b3436d9" kindref="member">stop</ref></highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1a2d6eb4d91b58018e74be863ecf71862b" kindref="member">do_optimize_delayed_update</ref>(self,<sp/>fun,<sp/>max_evals,<sp/>workers=mp.cpu_count()):</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="572"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Performs<sp/>a<sp/>delayed<sp/>update<sp/>optimization<sp/>process<sp/>using<sp/>multiple<sp/>workers<sp/>for</highlight></codeline>
<codeline lineno="573"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parallel<sp/>evaluation.<sp/>The<sp/>method<sp/>initializes<sp/>workers,<sp/>evaluates<sp/>population</highlight></codeline>
<codeline lineno="574"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>solutions,<sp/>and<sp/>determines<sp/>the<sp/>best<sp/>solution<sp/>through<sp/>iterated<sp/>queries</highlight></codeline>
<codeline lineno="575"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>evaluations.</highlight></codeline>
<codeline lineno="576"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="577"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="578"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun:<sp/>Callable<sp/>function<sp/>to<sp/>be<sp/>optimized.</highlight></codeline>
<codeline lineno="579"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_evals:<sp/>Maximum<sp/>number<sp/>of<sp/>function<sp/>evaluations<sp/>to<sp/>perform.</highlight></codeline>
<codeline lineno="580"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>workers:<sp/>Integer<sp/>specifying<sp/>the<sp/>number<sp/>of<sp/>workers<sp/>for<sp/>parallel</highlight></codeline>
<codeline lineno="581"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>execution.<sp/>Defaults<sp/>to<sp/>the<sp/>number<sp/>of<sp/>available<sp/>CPU<sp/>cores.</highlight></codeline>
<codeline lineno="582"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="583"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="584"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A<sp/>tuple<sp/>containing:</highlight></codeline>
<codeline lineno="585"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>best_x:<sp/>The<sp/>best<sp/>solution<sp/>found<sp/>during<sp/>the<sp/>optimization<sp/>process.</highlight></codeline>
<codeline lineno="586"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>best_value:<sp/>The<sp/>objective<sp/>function<sp/>value<sp/>corresponding<sp/>to<sp/>the</highlight></codeline>
<codeline lineno="587"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>best<sp/>solution.</highlight></codeline>
<codeline lineno="588"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>evals:<sp/>The<sp/>total<sp/>number<sp/>of<sp/>evaluations<sp/>performed.</highlight></codeline>
<codeline lineno="589"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>iterations:<sp/>The<sp/>number<sp/>of<sp/>optimization<sp/>iterations<sp/>completed.</highlight></codeline>
<codeline lineno="590"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>stop:<sp/>An<sp/>integer<sp/>representing<sp/>the<sp/>stopping<sp/>criterion<sp/>met.</highlight></codeline>
<codeline lineno="591"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ad346a5d42fbaec4c0fa1eed13ca09757" kindref="member">fun</ref><sp/>=<sp/>fun</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1acf33e850252a8c82db8a69cfa7e8ea9f" kindref="member">max_evals</ref><sp/>=<sp/>max_evals<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evaluator<sp/>=<sp/><ref refid="classfcmaes_1_1evaluator_1_1_evaluator" kindref="compound">Evaluator</ref>(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ad346a5d42fbaec4c0fa1eed13ca09757" kindref="member">fun</ref>)</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evaluator.start(workers)</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evals_x<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac79e3e82f51ac3afc9945899353603e2" kindref="member">p</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="600" refid="classfcmaes_1_1de_1_1_d_e_1a32845de73093acd3cc921a173958d818" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab06bd7ef3c26ed185460f070462df5e0" kindref="member">improves</ref><sp/>=<sp/>deque()</highlight></codeline>
<codeline lineno="601" refid="classfcmaes_1_1de_1_1_d_e_1ad346a5d42fbaec4c0fa1eed13ca09757" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(workers):<sp/></highlight><highlight class="comment">#<sp/>fill<sp/>queue<sp/>with<sp/>initial<sp/>population</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="602" refid="classfcmaes_1_1de_1_1_d_e_1acf33e850252a8c82db8a69cfa7e8ea9f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p,<sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a6e647b4dbacab60b482242c80b0a8582" kindref="member">ask_one</ref>()</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evaluator.pipe[0].send((self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref>,<sp/>x))</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evals_x[self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref>]<sp/>=<sp/>p,<sp/>x<sp/></highlight><highlight class="comment">#<sp/>store<sp/>x</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref><sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:<sp/></highlight><highlight class="comment">#<sp/>read<sp/>from<sp/>pipe,<sp/>tell<sp/>de<sp/>and<sp/>create<sp/>new<sp/>x</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evals,<sp/>y<sp/>=<sp/>evaluator.pipe[0].recv()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p,<sp/>x<sp/>=<sp/>evals_x[evals]<sp/></highlight><highlight class="comment">#<sp/>retrieve<sp/>evaluated<sp/>x</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>del<sp/>evals_x[evals]</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a882c7a58bf3f14c342d2a0e0700e31ef" kindref="member">tell_one</ref>(p,<sp/>y,<sp/>x)<sp/></highlight><highlight class="comment">#<sp/>tell<sp/>evaluated<sp/>x</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a34e8b51b9574c58baf0223914b3436d9" kindref="member">stop</ref><sp/>!=<sp/>0<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref><sp/>&gt;=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1acf33e850252a8c82db8a69cfa7e8ea9f" kindref="member">max_evals</ref>:</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">#<sp/>shutdown<sp/>worker<sp/>if<sp/>stop<sp/>criteria<sp/>met</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(workers):</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p,<sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a6e647b4dbacab60b482242c80b0a8582" kindref="member">ask_one</ref>()<sp/></highlight><highlight class="comment">#<sp/>create<sp/>new<sp/>x<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1aa235fc388bec48ff90cca10f3e82fcb2" kindref="member">filter</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>\</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1aa235fc388bec48ff90cca10f3e82fcb2" kindref="member">filter</ref>.is_improve(x,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref>[p],<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abc7d518a5e4b0099bf8bbaaa88cab8eb" kindref="member">y</ref>[p]):</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evaluator.pipe[0].send((self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref>,<sp/>x))<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evals_x[self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref>]<sp/>=<sp/>p,<sp/>x<sp/><sp/></highlight><highlight class="comment">#<sp/>store<sp/>x</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref><sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evaluator.stop()</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7832310bdca0281b9cc91f4e2eae603e" kindref="member">best_x</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac06303559818f85d970746c3dc243e84" kindref="member">best_value</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a26f323c02bc649cb1d06c06de41b31bb" kindref="member">evals</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a34e8b51b9574c58baf0223914b3436d9" kindref="member">stop</ref></highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1af65d189c855a19bc82ea60b185482757" kindref="member">_next_x</ref>(self,<sp/>p):</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="629"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Determines<sp/>the<sp/>next<sp/>vector<sp/>in<sp/>an<sp/>evolutionary<sp/>computation<sp/>process.</highlight></codeline>
<codeline lineno="630"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="631"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>method<sp/>calculates<sp/>a<sp/>new<sp/>candidate<sp/>vector<sp/>based<sp/>on<sp/>differential</highlight></codeline>
<codeline lineno="632"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evolution<sp/>principles.<sp/>If<sp/>a<sp/>predefined<sp/>number<sp/>of<sp/>iterations<sp/>has<sp/>been</highlight></codeline>
<codeline lineno="633"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reached<sp/>and<sp/>the<sp/>process<sp/>is<sp/>in<sp/>even<sp/>iterations,<sp/>certain<sp/>parameters</highlight></codeline>
<codeline lineno="634"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Cr<sp/>and<sp/>F)<sp/>are<sp/>halved.<sp/>Random<sp/>indices<sp/>are<sp/>selected<sp/>to<sp/>generate<sp/>a</highlight></codeline>
<codeline lineno="635"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mutation<sp/>vector,<sp/>ensuring<sp/>the<sp/>indices<sp/>do<sp/>not<sp/>overlap<sp/>with<sp/>the</highlight></codeline>
<codeline lineno="636"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>current<sp/>or<sp/>best<sp/>vector.<sp/>A<sp/>trial<sp/>vector<sp/>is<sp/>then<sp/>computed<sp/>using<sp/>a</highlight></codeline>
<codeline lineno="637"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>crossover<sp/>operation.</highlight></codeline>
<codeline lineno="638"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="639"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="640"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p:<sp/>int</highlight></codeline>
<codeline lineno="641"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Index<sp/>of<sp/>the<sp/>current<sp/>vector<sp/>in<sp/>the<sp/>population.</highlight></codeline>
<codeline lineno="642"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="643"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="644"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tuple:</highlight></codeline>
<codeline lineno="645"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Contains<sp/>the<sp/>best<sp/>vector<sp/>(xb),<sp/>the<sp/>current<sp/>vector<sp/>(xp),</highlight></codeline>
<codeline lineno="646"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>the<sp/>newly<sp/>generated<sp/>vector<sp/>(x).</highlight></codeline>
<codeline lineno="647"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>p<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref><sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1aa02d15c526823d8e56c8248067637c7c" kindref="member">Cr</ref><sp/>=<sp/>0.5*self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a9e6a1d8de9d1227bc0d069a0ad0df0f2" kindref="member">Cr0</ref><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref><sp/>%<sp/>2<sp/>==<sp/>0<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a9e6a1d8de9d1227bc0d069a0ad0df0f2" kindref="member">Cr0</ref></highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a01a705e747ab78e6fac28e1e0b79d59a" kindref="member">F</ref><sp/>=<sp/>0.5*self.<ref refid="classfcmaes_1_1de_1_1_d_e_1aab11943c3f10fffbe188f1b187f93c6d" kindref="member">F0</ref><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a719a10d4fc296d619022bb065bb7fdbe" kindref="member">iterations</ref><sp/>%<sp/>2<sp/>==<sp/>0<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1aab11943c3f10fffbe188f1b187f93c6d" kindref="member">F0</ref></highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r1,<sp/>r2<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a52523fe4b73185a4ff613238c05dfbe5" kindref="member">rg</ref>.integers(0,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac57257a177f51fb2637120cc3bf7ac55" kindref="member">popsize</ref>,<sp/>2)</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>r1<sp/>!=<sp/>p<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>r1<sp/>!=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab82523baab98d9c3ab365204dbdadd00" kindref="member">best_i</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>r1<sp/>!=<sp/>r2<sp/>\</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>r2<sp/>!=<sp/>p<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>r2<sp/>!=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab82523baab98d9c3ab365204dbdadd00" kindref="member">best_i</ref>:</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xp<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref>[p]</highlight></codeline>
<codeline lineno="658" refid="classfcmaes_1_1de_1_1_d_e_1a2d6eb4d91b58018e74be863ecf71862b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xb<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref>[self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ab82523baab98d9c3ab365204dbdadd00" kindref="member">best_i</ref>]</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x1<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref>[r1]</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x2<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7c0d515bba4c2bdaf12be9da6adc1c3d" kindref="member">x</ref>[r2]</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac3453c9ebcc0897aedb6a53a8b93ffcd" kindref="member">_feasible</ref>(xb<sp/>+<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a01a705e747ab78e6fac28e1e0b79d59a" kindref="member">F</ref><sp/>*<sp/>(x1<sp/>-<sp/>x2))</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a52523fe4b73185a4ff613238c05dfbe5" kindref="member">rg</ref>.integers(0,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a82571c812edbae94b8dbe570a781e078" kindref="member">dim</ref>)</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tr<sp/>=<sp/>np.array(</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[i<sp/>!=<sp/>r<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a52523fe4b73185a4ff613238c05dfbe5" kindref="member">rg</ref>.random()<sp/>&gt;<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1aa02d15c526823d8e56c8248067637c7c" kindref="member">Cr</ref><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a82571c812edbae94b8dbe570a781e078" kindref="member">dim</ref>)])<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x[tr]<sp/>=<sp/>xp[tr]<sp/><sp/></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7698336acbd18cfc93652598fe8f253e" kindref="member">modifier</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7698336acbd18cfc93652598fe8f253e" kindref="member">modifier</ref>(x)</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>xb,<sp/>xp,<sp/>x</highlight></codeline>
<codeline lineno="669"><highlight class="normal"></highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1a75e2c22d49dde6bd8f31572ef39152d7" kindref="member">_next_improve</ref>(self,<sp/>xb,<sp/>x,<sp/>xi):</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="672"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Compute<sp/>the<sp/>next<sp/>feasible<sp/>point<sp/>to<sp/>improve<sp/>optimization.</highlight></codeline>
<codeline lineno="673"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="674"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>method<sp/>adjusts<sp/>the<sp/>provided<sp/>point<sp/>to<sp/>ensure<sp/>it<sp/>meets<sp/>feasibility</highlight></codeline>
<codeline lineno="675"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>criteria<sp/>and<sp/>optionally<sp/>applies<sp/>a<sp/>modifier<sp/>to<sp/>the<sp/>point<sp/>before<sp/>returning.</highlight></codeline>
<codeline lineno="676"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="677"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="678"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xb:<sp/>The<sp/>base<sp/>point<sp/>for<sp/>the<sp/>improvement<sp/>computation.</highlight></codeline>
<codeline lineno="679"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x:<sp/>The<sp/>current<sp/>point<sp/>to<sp/>be<sp/>adjusted.</highlight></codeline>
<codeline lineno="680"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xi:<sp/>The<sp/>initial<sp/>guess<sp/>or<sp/>reference<sp/>point<sp/>for<sp/>adjustment.</highlight></codeline>
<codeline lineno="681"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="682"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="683"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>next<sp/>feasible<sp/>point<sp/>after<sp/>adjustment<sp/>and<sp/>optional<sp/>modification.</highlight></codeline>
<codeline lineno="684"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1ac3453c9ebcc0897aedb6a53a8b93ffcd" kindref="member">_feasible</ref>(xb<sp/>+<sp/>((x<sp/>-<sp/>xi)<sp/>*<sp/>0.5))</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7698336acbd18cfc93652598fe8f253e" kindref="member">modifier</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7698336acbd18cfc93652598fe8f253e" kindref="member">modifier</ref>(x)</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1adf6645de9d62c0900bad93d5a6934a4b" kindref="member">_sample</ref>(self):</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="692"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Generates<sp/>a<sp/>sample<sp/>from<sp/>the<sp/>specified<sp/>distribution.</highlight></codeline>
<codeline lineno="693"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="694"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>If<sp/>the<sp/>`upper`<sp/>attribute<sp/>is<sp/>not<sp/>set,<sp/>a<sp/>random<sp/>sample<sp/>is<sp/>drawn<sp/>from<sp/>a<sp/>normal</highlight></codeline>
<codeline lineno="695"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distribution.<sp/>Otherwise,<sp/>a<sp/>sample<sp/>is<sp/>generated<sp/>from<sp/>a<sp/>uniform<sp/>distribution</highlight></codeline>
<codeline lineno="696"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounded<sp/>by<sp/>the<sp/>`lower`<sp/>and<sp/>`upper`<sp/>attributes.<sp/>Optionally,<sp/>a<sp/>modifier<sp/>function</highlight></codeline>
<codeline lineno="697"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>can<sp/>be<sp/>applied<sp/>to<sp/>the<sp/>generated<sp/>value<sp/>before<sp/>returning<sp/>it.</highlight></codeline>
<codeline lineno="698"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="699"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="700"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>float:<sp/>A<sp/>random<sp/>sample<sp/>from<sp/>the<sp/>specified<sp/>distribution.<sp/>If<sp/>a<sp/>modifier</highlight></codeline>
<codeline lineno="701"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>function<sp/>is<sp/>applied,<sp/>the<sp/>modified<sp/>value<sp/>is<sp/>returned.</highlight></codeline>
<codeline lineno="702"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a779d053f6915d9a593bec26d7a4dab45" kindref="member">upper</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a52523fe4b73185a4ff613238c05dfbe5" kindref="member">rg</ref>.<ref refid="evaluator_8h_1a231544ac51b3f9312c104a3b7a3c49a6" kindref="member">normal</ref>()</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a52523fe4b73185a4ff613238c05dfbe5" kindref="member">rg</ref>.<ref refid="evaluator_8h_1ad408c1ac0c479863b2d1291c483c5593" kindref="member">uniform</ref>(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abfb162caa78015d04524bf151b9dd823" kindref="member">lower</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a779d053f6915d9a593bec26d7a4dab45" kindref="member">upper</ref>)</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7698336acbd18cfc93652598fe8f253e" kindref="member">modifier</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a7698336acbd18cfc93652598fe8f253e" kindref="member">modifier</ref>(x)</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1ac3453c9ebcc0897aedb6a53a8b93ffcd" kindref="member">_feasible</ref>(self,<sp/>x):</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="713"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Checks<sp/>the<sp/>feasibility<sp/>of<sp/>a<sp/>value<sp/>with<sp/>respect<sp/>to<sp/>specified<sp/>bounds<sp/>and<sp/>adjusts<sp/>it</highlight></codeline>
<codeline lineno="714"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>necessary<sp/>by<sp/>clipping<sp/>it<sp/>to<sp/>the<sp/>range<sp/>defined<sp/>by<sp/>the<sp/>lower<sp/>and<sp/>upper<sp/>bounds.</highlight></codeline>
<codeline lineno="715"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="716" refid="classfcmaes_1_1de_1_1_d_e_1af65d189c855a19bc82ea60b185482757" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="717"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x:<sp/>The<sp/>value<sp/>to<sp/>check<sp/>and<sp/>potentially<sp/>adjust.</highlight></codeline>
<codeline lineno="718"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="719" refid="classfcmaes_1_1de_1_1_d_e_1aa02d15c526823d8e56c8248067637c7c" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="720" refid="classfcmaes_1_1de_1_1_d_e_1a01a705e747ab78e6fac28e1e0b79d59a" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>original<sp/>value<sp/>if<sp/>it<sp/>lies<sp/>within<sp/>the<sp/>bounds<sp/>or<sp/>a<sp/>clipped<sp/>value<sp/>adjusted</highlight></codeline>
<codeline lineno="721"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to<sp/>satisfy<sp/>the<sp/>bounds<sp/>if<sp/>it<sp/>falls<sp/>outside<sp/>the<sp/>range.</highlight></codeline>
<codeline lineno="722"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a779d053f6915d9a593bec26d7a4dab45" kindref="member">upper</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>np.clip(x,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abfb162caa78015d04524bf151b9dd823" kindref="member">lower</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a779d053f6915d9a593bec26d7a4dab45" kindref="member">upper</ref>)</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>default<sp/>modifier<sp/>for<sp/>integer<sp/>variables</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classfcmaes_1_1de_1_1_d_e_1a61072489f9cd73c41286fbaf8d89357b" kindref="member">_modifier</ref>(self,<sp/>x):</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="731"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Modifies<sp/>integer<sp/>elements<sp/>of<sp/>the<sp/>input<sp/>array<sp/>based<sp/>on<sp/>mutation<sp/>probability.</highlight></codeline>
<codeline lineno="732"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="733"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>method<sp/>mutates<sp/>specific<sp/>elements<sp/>of<sp/>the<sp/>input<sp/>array,<sp/>which<sp/>are</highlight></codeline>
<codeline lineno="734"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>specified<sp/>by<sp/>the<sp/>attribute<sp/>`ints`.<sp/>Mutation<sp/>is<sp/>governed<sp/>by<sp/>random<sp/>values</highlight></codeline>
<codeline lineno="735"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>generated<sp/>within<sp/>the<sp/>range<sp/>defined<sp/>by<sp/>`min_mutate`<sp/>and<sp/>`max_mutate`.</highlight></codeline>
<codeline lineno="736"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>mutated<sp/>values<sp/>lie<sp/>within<sp/>the<sp/>bounds<sp/>specified<sp/>by<sp/>`lower`<sp/>and<sp/>`upper`.</highlight></codeline>
<codeline lineno="737"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="738"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="739"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>(np.ndarray):<sp/>Input<sp/>array<sp/>containing<sp/>elements<sp/>to<sp/>mutate.</highlight></codeline>
<codeline lineno="740"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="741"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="742"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np.ndarray:<sp/>Mutated<sp/>version<sp/>of<sp/>the<sp/>input<sp/>array.</highlight></codeline>
<codeline lineno="743"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x_ints<sp/>=<sp/>x[self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a801386a81a80f7c0f5a8c7657b6e8b9e" kindref="member">ints</ref>]</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n_ints<sp/>=<sp/>len(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a801386a81a80f7c0f5a8c7657b6e8b9e" kindref="member">ints</ref>)</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lb<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1abfb162caa78015d04524bf151b9dd823" kindref="member">lower</ref>[self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a801386a81a80f7c0f5a8c7657b6e8b9e" kindref="member">ints</ref>]</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ub<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a779d053f6915d9a593bec26d7a4dab45" kindref="member">upper</ref>[self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a801386a81a80f7c0f5a8c7657b6e8b9e" kindref="member">ints</ref>]</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>to_mutate<sp/>=<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a52523fe4b73185a4ff613238c05dfbe5" kindref="member">rg</ref>.<ref refid="evaluator_8h_1ad408c1ac0c479863b2d1291c483c5593" kindref="member">uniform</ref>(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a32aa627efd58ac0864e1abab290d008a" kindref="member">min_mutate</ref>,<sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a87eeb5f5b78c7eb88f301ee8f02d0b1c" kindref="member">max_mutate</ref>)</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>mututate<sp/>some<sp/>integer<sp/>variables</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x[self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a801386a81a80f7c0f5a8c7657b6e8b9e" kindref="member">ints</ref>]<sp/>=<sp/>np.array([x<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a52523fe4b73185a4ff613238c05dfbe5" kindref="member">rg</ref>.random()<sp/>&gt;<sp/>to_mutate/n_ints<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int(self.<ref refid="classfcmaes_1_1de_1_1_d_e_1a52523fe4b73185a4ff613238c05dfbe5" kindref="member">rg</ref>.<ref refid="evaluator_8h_1ad408c1ac0c479863b2d1291c483c5593" kindref="member">uniform</ref>(lb[i],<sp/>ub[i]))</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i,<sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>enumerate(x_ints)])</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="755" refid="classfcmaes_1_1de_1_1_d_e_1a75e2c22d49dde6bd8f31572ef39152d7" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacefcmaes_1_1de_1a43e9207e1c55b796ef2b78053589d8ed" kindref="member">_check_bounds</ref>(bounds,<sp/>dim):</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="757"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Validates<sp/>and<sp/>processes<sp/>the<sp/>input<sp/>bounds<sp/>and<sp/>dimensions<sp/>for<sp/>subsequent<sp/>operations.</highlight></codeline>
<codeline lineno="758"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="759"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>function<sp/>ensures<sp/>that<sp/>either<sp/>`bounds`<sp/>or<sp/>`dim`<sp/>is<sp/>provided<sp/>and<sp/>determines<sp/>the<sp/>valid</highlight></codeline>
<codeline lineno="760"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>dimensionality<sp/>and<sp/>boundary<sp/>arrays<sp/>for<sp/>further<sp/>processing.<sp/>If<sp/>`bounds`<sp/>is<sp/>None,<sp/>the</highlight></codeline>
<codeline lineno="761"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>function<sp/>uses<sp/>the<sp/>provided<sp/>`dim`.<sp/>Otherwise,<sp/>it<sp/>extracts<sp/>and<sp/>converts<sp/>the<sp/>lower<sp/>and</highlight></codeline>
<codeline lineno="762"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>upper<sp/>bounds<sp/>arrays<sp/>from<sp/>`bounds`.</highlight></codeline>
<codeline lineno="763"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="764"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Args:</highlight></codeline>
<codeline lineno="765"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds:<sp/>User-provided<sp/>object<sp/>containing<sp/>boundary<sp/>attributes<sp/>(`lb`<sp/>and<sp/>`ub`)</highlight></codeline>
<codeline lineno="766"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>dimensional<sp/>constraints.<sp/>Can<sp/>be<sp/>None<sp/>if<sp/>`dim`<sp/>is<sp/>specified.</highlight></codeline>
<codeline lineno="767"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dim:<sp/>An<sp/>integer<sp/>defining<sp/>the<sp/>dimensionality,<sp/>used<sp/>only<sp/>if<sp/>`bounds`<sp/>is<sp/>None.</highlight></codeline>
<codeline lineno="768"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="769"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Returns:</highlight></codeline>
<codeline lineno="770"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tuple<sp/>comprising:</highlight></codeline>
<codeline lineno="771"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>An<sp/>integer<sp/>representing<sp/>the<sp/>number<sp/>of<sp/>dimensions<sp/>(from<sp/>`bounds`<sp/>or<sp/>`dim`).</highlight></codeline>
<codeline lineno="772"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>A<sp/>numpy<sp/>array<sp/>of<sp/>lower<sp/>boundary<sp/>values<sp/>(`bounds.lb`)<sp/>if<sp/>provided;<sp/>otherwise<sp/>None.</highlight></codeline>
<codeline lineno="773"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>A<sp/>numpy<sp/>array<sp/>of<sp/>upper<sp/>boundary<sp/>values<sp/>(`bounds.ub`)<sp/>if<sp/>provided;<sp/>otherwise<sp/>None.</highlight></codeline>
<codeline lineno="774"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="775" refid="classfcmaes_1_1de_1_1_d_e_1adf6645de9d62c0900bad93d5a6934a4b" refkind="member"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raises:</highlight></codeline>
<codeline lineno="776"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ValueError:<sp/>If<sp/>both<sp/>`bounds`<sp/>and<sp/>`dim`<sp/>are<sp/>None.</highlight></codeline>
<codeline lineno="777"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>bounds<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>dim<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;either<sp/>dim<sp/>or<sp/>bounds<sp/>need<sp/>to<sp/>be<sp/>defined&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>bounds<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>dim,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>len(bounds.ub),<sp/>np.asarray(bounds.lb),<sp/>np.asarray(bounds.ub)</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="785"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="fcmaes/de.py"/>
  </compounddef>
</doxygen>
