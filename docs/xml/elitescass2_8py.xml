<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="elitescass2_8py" kind="file" language="Python">
    <compoundname>elitescass2.py</compoundname>
    <innerclass refid="classexamples_1_1elitescass2_1_1_cassini2__me" prot="public">examples::elitescass2::Cassini2_me</innerclass>
    <innernamespace refid="namespaceexamples">examples</innernamespace>
    <innernamespace refid="namespaceexamples_1_1elitescass2">examples::elitescass2</innernamespace>
    <sectiondef kind="var">
      <memberdef kind="variable" id="namespaceexamples_1_1elitescass2_1a82d94e40024f051ed4ece4caa61ac49d" prot="public" static="no" mutable="no">
        <type></type>
        <definition>examples::elitescass2.stdout</definition>
        <argsstring></argsstring>
        <name>stdout</name>
        <qualifiedname>examples.elitescass2.stdout</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/elitescass2.py" line="20" column="1" bodyfile="examples/elitescass2.py" bodystart="20" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceexamples_1_1elitescass2_1a5361dd1597322715827d8fa8012c8f0e" prot="public" static="no" mutable="no">
        <type></type>
        <definition>examples::elitescass2.format</definition>
        <argsstring></argsstring>
        <name>format</name>
        <qualifiedname>examples.elitescass2.format</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/elitescass2.py" line="20" column="1" bodyfile="examples/elitescass2.py" bodystart="20" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceexamples_1_1elitescass2_1ae8d161804c261d5e6a4bc98ffbbf35bd" prot="public" static="no" mutable="no">
        <type></type>
        <definition>examples::elitescass2.level</definition>
        <argsstring></argsstring>
        <name>level</name>
        <qualifiedname>examples.elitescass2.level</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/elitescass2.py" line="20" column="1" bodyfile="examples/elitescass2.py" bodystart="20" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceexamples_1_1elitescass2_1a3e032f90428595a2bce8f124ecdd22f8" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int examples::elitescass2.niche_num</definition>
        <argsstring></argsstring>
        <name>niche_num</name>
        <qualifiedname>examples.elitescass2.niche_num</qualifiedname>
        <initializer>=  10000</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/elitescass2.py" line="136" column="1" bodyfile="examples/elitescass2.py" bodystart="136" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="namespaceexamples_1_1elitescass2_1ab94c74c431f8fff119e0db2a1ba6aec5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>examples.elitescass2.plot3d</definition>
        <argsstring>(ys, name, xlabel=&apos;&apos;, ylabel=&apos;&apos;, zlabel=&apos;&apos;)</argsstring>
        <name>plot3d</name>
        <qualifiedname>examples.elitescass2.plot3d</qualifiedname>
        <param>
          <type>ys</type>
          <defname>ys</defname>
        </param>
        <param>
          <type>name</type>
          <defname>name</defname>
        </param>
        <param>
          <type>xlabel</type>
          <defname>xlabel</defname>
          <defval>&apos;&apos;</defval>
        </param>
        <param>
          <type>ylabel</type>
          <defname>ylabel</defname>
          <defval>&apos;&apos;</defval>
        </param>
        <param>
          <type>zlabel</type>
          <defname>zlabel</defname>
          <defval>&apos;&apos;</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/elitescass2.py" line="23" column="1" bodyfile="examples/elitescass2.py" bodystart="23" bodyend="56"/>
        <referencedby refid="namespaceexamples_1_1elitescass2_1a30538a53214b86ebd4dde6f1ce3fe044" compoundref="elitescass2_8py" startline="57" endline="70">examples.elitescass2.plot_archive</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceexamples_1_1elitescass2_1a30538a53214b86ebd4dde6f1ce3fe044" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>examples.elitescass2.plot_archive</definition>
        <argsstring>(archive, max_dv=20)</argsstring>
        <name>plot_archive</name>
        <qualifiedname>examples.elitescass2.plot_archive</qualifiedname>
        <param>
          <type>archive</type>
          <defname>archive</defname>
        </param>
        <param>
          <type>max_dv</type>
          <defname>max_dv</defname>
          <defval>20</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/elitescass2.py" line="57" column="1" bodyfile="examples/elitescass2.py" bodystart="57" bodyend="70"/>
        <references refid="namespaceexamples_1_1elitescass2_1ab94c74c431f8fff119e0db2a1ba6aec5" compoundref="elitescass2_8py" startline="23" endline="56">examples.elitescass2.plot3d</references>
        <referencedby refid="namespaceexamples_1_1elitescass2_1a99523598aa4aa14064852c19c9db7cdb" compoundref="elitescass2_8py" startline="138" endline="142">examples.elitescass2.plot</referencedby>
        <referencedby refid="namespaceexamples_1_1elitescass2_1a585abcf3e78b314f5965d009c5a42fcd" compoundref="elitescass2_8py" startline="143" endline="158">examples.elitescass2.run_diversifier</referencedby>
        <referencedby refid="namespaceexamples_1_1elitescass2_1a2d34737ea1ce88ba22a59acf69e098a2" compoundref="elitescass2_8py" startline="159" endline="183">examples.elitescass2.run_map_elites</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceexamples_1_1elitescass2_1a8a12d69ae5d847736ef1e1cd7b56b00e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>examples.elitescass2.tof</definition>
        <argsstring>(x)</argsstring>
        <name>tof</name>
        <qualifiedname>examples.elitescass2.tof</qualifiedname>
        <param>
          <type>x</type>
          <defname>x</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/elitescass2.py" line="71" column="1" bodyfile="examples/elitescass2.py" bodystart="71" bodyend="73"/>
        <referencedby refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a668a8d93c21c94c40c4917e8e232453a" compoundref="elitescass2_8py" startline="99" endline="101">examples.elitescass2.Cassini2_me.descriptors</referencedby>
        <referencedby refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a2ef9f353092f4e6e21687a58c231fca0" compoundref="elitescass2_8py" startline="93" endline="95">examples.elitescass2.Cassini2_me.qd_fitness</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceexamples_1_1elitescass2_1a069f5085f77c4946500c11941955469a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>examples.elitescass2.launch</definition>
        <argsstring>(x)</argsstring>
        <name>launch</name>
        <qualifiedname>examples.elitescass2.launch</qualifiedname>
        <param>
          <type>x</type>
          <defname>x</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/elitescass2.py" line="74" column="1" bodyfile="examples/elitescass2.py" bodystart="74" bodyend="76"/>
        <referencedby refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a668a8d93c21c94c40c4917e8e232453a" compoundref="elitescass2_8py" startline="99" endline="101">examples.elitescass2.Cassini2_me.descriptors</referencedby>
        <referencedby refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a2ef9f353092f4e6e21687a58c231fca0" compoundref="elitescass2_8py" startline="93" endline="95">examples.elitescass2.Cassini2_me.qd_fitness</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceexamples_1_1elitescass2_1aa7e89bb3fe0e85f83c4faff8a3112640" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>examples.elitescass2.cma_elite</definition>
        <argsstring>(problem, archive, num=300)</argsstring>
        <name>cma_elite</name>
        <qualifiedname>examples.elitescass2.cma_elite</qualifiedname>
        <param>
          <type>problem</type>
          <defname>problem</defname>
        </param>
        <param>
          <type>archive</type>
          <defname>archive</defname>
        </param>
        <param>
          <type>num</type>
          <defname>num</defname>
          <defval>300</defval>
        </param>
        <briefdescription>
<para>applies CMA-ES to the best num niches </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/elitescass2.py" line="103" column="1" bodyfile="examples/elitescass2.py" bodystart="103" bodyend="135"/>
      </memberdef>
      <memberdef kind="function" id="namespaceexamples_1_1elitescass2_1a99523598aa4aa14064852c19c9db7cdb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>examples.elitescass2.plot</definition>
        <argsstring>(name)</argsstring>
        <name>plot</name>
        <qualifiedname>examples.elitescass2.plot</qualifiedname>
        <param>
          <type>name</type>
          <defname>name</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/elitescass2.py" line="138" column="1" bodyfile="examples/elitescass2.py" bodystart="138" bodyend="142"/>
        <references refid="namespaceexamples_1_1elitescass2_1a30538a53214b86ebd4dde6f1ce3fe044" compoundref="elitescass2_8py" startline="57" endline="70">examples.elitescass2.plot_archive</references>
      </memberdef>
      <memberdef kind="function" id="namespaceexamples_1_1elitescass2_1a585abcf3e78b314f5965d009c5a42fcd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>examples.elitescass2.run_diversifier</definition>
        <argsstring>()</argsstring>
        <name>run_diversifier</name>
        <qualifiedname>examples.elitescass2.run_diversifier</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/elitescass2.py" line="143" column="1" bodyfile="examples/elitescass2.py" bodystart="143" bodyend="158"/>
        <references refid="namespaceexamples_1_1elitescass2_1a30538a53214b86ebd4dde6f1ce3fe044" compoundref="elitescass2_8py" startline="57" endline="70">examples.elitescass2.plot_archive</references>
        <referencedby refid="namespaceexamples_1_1elitescass2_1a2d34737ea1ce88ba22a59acf69e098a2" compoundref="elitescass2_8py" startline="159" endline="183">examples.elitescass2.run_map_elites</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceexamples_1_1elitescass2_1a2d34737ea1ce88ba22a59acf69e098a2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>examples.elitescass2.run_map_elites</definition>
        <argsstring>()</argsstring>
        <name>run_map_elites</name>
        <qualifiedname>examples.elitescass2.run_map_elites</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/elitescass2.py" line="159" column="1" bodyfile="examples/elitescass2.py" bodystart="159" bodyend="183"/>
        <references refid="namespaceexamples_1_1elitescass2_1a30538a53214b86ebd4dde6f1ce3fe044" compoundref="elitescass2_8py" startline="57" endline="70">examples.elitescass2.plot_archive</references>
        <references refid="namespaceexamples_1_1elitescass2_1a585abcf3e78b314f5965d009c5a42fcd" compoundref="elitescass2_8py" startline="143" endline="158">examples.elitescass2.run_diversifier</references>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespaceexamples_1_1elitescass2" refkind="compound"><highlight class="comment">#<sp/>Copyright<sp/>(c)<sp/>Dietmar<sp/>Wolz.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">#<sp/>This<sp/>source<sp/>code<sp/>is<sp/>licensed<sp/>under<sp/>the<sp/>MIT<sp/>license<sp/>found<sp/>in<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">#<sp/>LICENSE<sp/>file<sp/>in<sp/>the<sp/>root<sp/>directory.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Used<sp/>to<sp/>generate<sp/>the<sp/>results<sp/>in<sp/>https://github.com/dietmarwo/fast-cma-es/blob/master/tutorials/MapElites.adoc</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Tested<sp/>using<sp/>https://docs.conda.io/en/main/miniconda.html<sp/>on<sp/>Linux<sp/>Mint<sp/>21.2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>numpy<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>np</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>scipy.optimize<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Bounds</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>fcmaes<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>mapelites,<sp/>diversifier</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1astro" kindref="compound">fcmaes.astro</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Cassini2</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1optimizer" kindref="compound">fcmaes.optimizer</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>wrapper</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys<sp/></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>loguru<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>logger</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal">logger.remove()</highlight></codeline>
<codeline lineno="20" refid="namespaceexamples_1_1elitescass2_1a5361dd1597322715827d8fa8012c8f0e" refkind="member"><highlight class="normal">logger.add(sys.stdout,<sp/>format=</highlight><highlight class="stringliteral">&quot;{time:HH:mm:ss.SS}<sp/>|<sp/>{process}<sp/>|<sp/>{level}<sp/>|<sp/>{message}&quot;</highlight><highlight class="normal">,<sp/>level=</highlight><highlight class="stringliteral">&quot;INFO&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="21"><highlight class="normal">logger.add(</highlight><highlight class="stringliteral">&quot;log_{time}.txt&quot;</highlight><highlight class="normal">,<sp/>format=</highlight><highlight class="stringliteral">&quot;{time:HH:mm:ss.SS}<sp/>|<sp/>{process}<sp/>|<sp/>{level}<sp/>|<sp/>{message}&quot;</highlight><highlight class="normal">,<sp/>level=</highlight><highlight class="stringliteral">&quot;INFO&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23" refid="namespaceexamples_1_1elitescass2_1ab94c74c431f8fff119e0db2a1ba6aec5" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceexamples_1_1elitescass2_1ab94c74c431f8fff119e0db2a1ba6aec5" kindref="member">plot3d</ref>(ys,<sp/>name,<sp/>xlabel=&apos;&apos;,<sp/>ylabel=&apos;&apos;,<sp/>zlabel=&apos;&apos;):</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>matplotlib.pyplot<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>plt</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>plotly</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>plotly.graph_objs<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>go</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>x<sp/>=<sp/>ys[:,<sp/>0];<sp/>y<sp/>=<sp/>ys[:,<sp/>1];<sp/>z<sp/>=<sp/>ys[:,<sp/>2]</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/>fig<sp/>=<sp/>plt.figure()</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>ax<sp/>=<sp/>fig.add_subplot()<sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/>img<sp/>=<sp/>ax.scatter(x,<sp/>y,<sp/>s=4,<sp/>c=z,<sp/>cmap=</highlight><highlight class="stringliteral">&apos;rainbow&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>cbar<sp/>=<sp/>fig.colorbar(img)</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>plt.xlabel(xlabel)<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>plt.ylabel(ylabel)</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>cbar.set_label(zlabel)</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/>fig.set_figheight(8)</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/>fig.set_figwidth(8)</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>fig.savefig(name,<sp/>dpi=300)</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>fig1<sp/>=<sp/>go.Scatter3d(x=x,</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y=y,</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>z=z,</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>marker=dict(opacity=0.9,</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reversescale=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>colorscale=</highlight><highlight class="stringliteral">&apos;Blues&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>size=5),</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line=dict<sp/>(width=0.02),</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mode=</highlight><highlight class="stringliteral">&apos;markers&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>mylayout<sp/>=<sp/>go.Layout(scene=dict(</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xaxis=dict(title=xlabel),</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yaxis=dict(title=ylabel),</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>zaxis=dict(title=zlabel),</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>),)</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/>plotly.offline.plot({</highlight><highlight class="stringliteral">&quot;data&quot;</highlight><highlight class="normal">:<sp/>[fig1],</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;layout&quot;</highlight><highlight class="normal">:<sp/>mylayout},</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto_open=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filename=(name<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;.html&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="57" refid="namespaceexamples_1_1elitescass2_1a30538a53214b86ebd4dde6f1ce3fe044" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceexamples_1_1elitescass2_1a30538a53214b86ebd4dde6f1ce3fe044" kindref="member">plot_archive</ref>(archive,<sp/>max_dv<sp/>=<sp/>20):</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>si<sp/>=<sp/>archive.argsort()</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>ysp<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>descriptions<sp/>=<sp/>archive.get_ds()[si]</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>ys<sp/>=<sp/>archive.get_ys()[si]</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(si)):</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desc<sp/>=<sp/>descriptions[i]</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ysp.append([desc[0],<sp/>desc[1],<sp/>ys[i]])</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ys[i]<sp/>&gt;<sp/>max_dv:<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/>ysp<sp/>=<sp/>np.array(ysp)</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/>print(len(ysp))</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>print(ysp)</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceexamples_1_1elitescass2_1ab94c74c431f8fff119e0db2a1ba6aec5" kindref="member">plot3d</ref>(ysp,<sp/></highlight><highlight class="stringliteral">&quot;cassini_2d&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;time<sp/>of<sp/>flight&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;start<sp/>day&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;delta<sp/>V<sp/>/<sp/>propellant&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71" refid="namespaceexamples_1_1elitescass2_1a8a12d69ae5d847736ef1e1cd7b56b00e" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceexamples_1_1elitescass2_1a8a12d69ae5d847736ef1e1cd7b56b00e" kindref="member">tof</ref>(x):</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sum(x[4:9])</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74" refid="namespaceexamples_1_1elitescass2_1a069f5085f77c4946500c11941955469a" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceexamples_1_1elitescass2_1a069f5085f77c4946500c11941955469a" kindref="member">launch</ref>(x):</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x[0]</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classexamples_1_1elitescass2_1_1_cassini2__me" kindref="compound">Cassini2_me</ref>():</highlight></codeline>
<codeline lineno="78" refid="classexamples_1_1elitescass2_1_1_cassini2__me" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;<sp/>Map-Elites<sp/>wrapper<sp/>for<sp/>the<sp/>ESA<sp/>Cassini2<sp/>benchmark<sp/>problem&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="80" refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a15675ecc9dcc21266fa36a00fcd783b3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a15675ecc9dcc21266fa36a00fcd783b3" kindref="member">__init__</ref>(self,<sp/>prob):</highlight></codeline>
<codeline lineno="81" refid="classexamples_1_1elitescass2_1_1_cassini2__me_1ad199e628fa4287d3484e5eb73fd96bcd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classexamples_1_1elitescass2_1_1_cassini2__me_1ad199e628fa4287d3484e5eb73fd96bcd" kindref="member">problem</ref><sp/>=<sp/>prob</highlight></codeline>
<codeline lineno="82" refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a116c9714a687bf3a8a90a7651e8316b3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a116c9714a687bf3a8a90a7651e8316b3" kindref="member">dim</ref><sp/>=<sp/>len(prob.bounds.lb)</highlight></codeline>
<codeline lineno="83" refid="classexamples_1_1elitescass2_1_1_cassini2__me_1ab43522dfa7fb4fbe19fecc73c2aff920" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classexamples_1_1elitescass2_1_1_cassini2__me_1ab43522dfa7fb4fbe19fecc73c2aff920" kindref="member">qd_dim</ref><sp/>=<sp/>2</highlight></codeline>
<codeline lineno="84" refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a470e4358bf82c6b5b4afc9c0fc02c4ea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a470e4358bf82c6b5b4afc9c0fc02c4ea" kindref="member">bounds</ref><sp/>=<sp/>prob.bounds</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_tof<sp/>=<sp/><ref refid="namespaceexamples_1_1elitescass2_1a8a12d69ae5d847736ef1e1cd7b56b00e" kindref="member">tof</ref>(prob.bounds.lb)</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_tof<sp/>=<sp/><ref refid="namespaceexamples_1_1elitescass2_1a8a12d69ae5d847736ef1e1cd7b56b00e" kindref="member">tof</ref>(prob.bounds.ub)</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min_launch<sp/>=<sp/><ref refid="namespaceexamples_1_1elitescass2_1a069f5085f77c4946500c11941955469a" kindref="member">launch</ref>(prob.bounds.lb)</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max_launch<sp/>=<sp/><ref refid="namespaceexamples_1_1elitescass2_1a069f5085f77c4946500c11941955469a" kindref="member">launch</ref>(prob.bounds.ub)</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91" refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a7dbfdf90184670926eb557ba4b449236" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a7dbfdf90184670926eb557ba4b449236" kindref="member">qd_bounds</ref><sp/>=<sp/>Bounds([min_tof,<sp/>min_launch],<sp/>[max_tof,<sp/>max_launch])<sp/></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="93" refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a2ef9f353092f4e6e21687a58c231fca0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a2ef9f353092f4e6e21687a58c231fca0" kindref="member">qd_fitness</ref>(self,<sp/>x):</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classexamples_1_1elitescass2_1_1_cassini2__me_1ad199e628fa4287d3484e5eb73fd96bcd" kindref="member">problem</ref>.fun(x),<sp/>np.array([<ref refid="namespaceexamples_1_1elitescass2_1a8a12d69ae5d847736ef1e1cd7b56b00e" kindref="member">tof</ref>(x),<sp/><ref refid="namespaceexamples_1_1elitescass2_1a069f5085f77c4946500c11941955469a" kindref="member">launch</ref>(x)])</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96" refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a44b48c8d4953332ba7cbc476dd162002" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a44b48c8d4953332ba7cbc476dd162002" kindref="member">fitness</ref>(self,<sp/>x):</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classexamples_1_1elitescass2_1_1_cassini2__me_1ad199e628fa4287d3484e5eb73fd96bcd" kindref="member">problem</ref>.fun(x)</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="99" refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a668a8d93c21c94c40c4917e8e232453a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classexamples_1_1elitescass2_1_1_cassini2__me_1a668a8d93c21c94c40c4917e8e232453a" kindref="member">descriptors</ref>(self,<sp/>x):</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>np.array([<ref refid="namespaceexamples_1_1elitescass2_1a8a12d69ae5d847736ef1e1cd7b56b00e" kindref="member">tof</ref>(x),<sp/><ref refid="namespaceexamples_1_1elitescass2_1a069f5085f77c4946500c11941955469a" kindref="member">launch</ref>(x)])</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceexamples_1_1elitescass2_1aa7e89bb3fe0e85f83c4faff8a3112640" kindref="member">cma_elite</ref>(problem,<sp/>archive,<sp/>num=300):<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="103" refid="namespaceexamples_1_1elitescass2_1aa7e89bb3fe0e85f83c4faff8a3112640" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;<sp/>applies<sp/>CMA-ES<sp/>to<sp/>the<sp/>best<sp/>num<sp/>niches&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>si<sp/>=<sp/>archive.argsort()</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(1,<sp/>num+1):</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>j<sp/>=<sp/>si[i]</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/>(j,<sp/>archive.get_count(j))</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/>(archive.get_x_mean(j))</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/>(archive.get_x_min(j))</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/>(archive.get_x_max(j))</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/>(list(archive.get_x_stdev(j)))</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>guess<sp/>=<sp/>archive.get_x(j)<sp/></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fun<sp/>=<sp/>archive.in_niche_filter(problem.qd_fitness,<sp/>j)</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/>(archive.get_y(j),<sp/>fun(guess))</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lb<sp/>=<sp/>np.nan_to_num(archive.get_x_min(j),<sp/>nan=-np.inf)</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ub<sp/>=<sp/>np.nan_to_num(archive.get_x_max(j),<sp/>nan=np.inf)<sp/></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bounds<sp/>=<sp/>Bounds(np.maximum(problem.bounds.lb,<sp/>lb),<sp/></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>np.minimum(problem.bounds.ub,<sp/>ub))<sp/></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>fcmaes<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>retry</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1optimizer" kindref="compound">fcmaes.optimizer</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Cma_cpp</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>retry.minimize(fun,<sp/>bounds,<sp/>num_retries=24*8,<sp/></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optimizer=Cma_cpp(guess=guess,<sp/>sdevs=0.001,<sp/>workers=24)</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y,<sp/>d<sp/>=<sp/>problem.qd_fitness(res.x)<sp/></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/>(j,<sp/>res.fun,<sp/>fun(res.x),<sp/>y,<sp/>d)</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>archive.set(j,<sp/>[y,d],<sp/>res.x)</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>i<sp/>%<sp/>50<sp/>==<sp/>0:</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>archive.save(</highlight><highlight class="stringliteral">&quot;cass2archCma&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(i))</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Exception<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>ex:</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>archive.save(</highlight><highlight class="stringliteral">&quot;cass2archCma&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136" refid="namespaceexamples_1_1elitescass2_1a3e032f90428595a2bce8f124ecdd22f8" refkind="member"><highlight class="normal">niche_num<sp/>=<sp/>10000<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138" refid="namespaceexamples_1_1elitescass2_1a99523598aa4aa14064852c19c9db7cdb" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceexamples_1_1elitescass2_1a99523598aa4aa14064852c19c9db7cdb" kindref="member">plot</ref>(name):</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>problem<sp/>=<sp/><ref refid="classexamples_1_1elitescass2_1_1_cassini2__me" kindref="compound">Cassini2_me</ref>(<ref refid="classfcmaes_1_1astro_1_1_cassini2" kindref="compound">Cassini2</ref>())</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>archive<sp/>=<sp/>mapelites.load_archive(name,<sp/>problem.bounds,<sp/>problem.qd_bounds,<sp/>niche_num)</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceexamples_1_1elitescass2_1a30538a53214b86ebd4dde6f1ce3fe044" kindref="member">plot_archive</ref>(archive)</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143" refid="namespaceexamples_1_1elitescass2_1a585abcf3e78b314f5965d009c5a42fcd" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceexamples_1_1elitescass2_1a585abcf3e78b314f5965d009c5a42fcd" kindref="member">run_diversifier</ref>():</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/>name<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;cass2div&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>problem<sp/>=<sp/><ref refid="classexamples_1_1elitescass2_1_1_cassini2__me" kindref="compound">Cassini2_me</ref>(<ref refid="classfcmaes_1_1astro_1_1_cassini2" kindref="compound">Cassini2</ref>())</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/>opt_params0<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;solver&apos;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&apos;elites&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;popsize&apos;</highlight><highlight class="normal">:640}</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>opt_params1<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;solver&apos;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&apos;DE_CPP&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;max_evals&apos;</highlight><highlight class="normal">:20000,<sp/></highlight><highlight class="stringliteral">&apos;popsize&apos;</highlight><highlight class="normal">:32,<sp/></highlight><highlight class="stringliteral">&apos;stall_criterion&apos;</highlight><highlight class="normal">:3}</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/>opt_params2<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;solver&apos;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&apos;CMA_CPP&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;max_evals&apos;</highlight><highlight class="normal">:50000,<sp/></highlight><highlight class="stringliteral">&apos;popsize&apos;</highlight><highlight class="normal">:32,<sp/></highlight><highlight class="stringliteral">&apos;stall_criterion&apos;</highlight><highlight class="normal">:3}</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/>archive<sp/>=<sp/>diversifier.minimize(</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classfcmaes_1_1mapelites_1_1wrapper" kindref="compound">mapelites.wrapper</ref>(problem.qd_fitness,<sp/>2),<sp/>problem.bounds,<sp/>problem.qd_bounds,<sp/></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opt_params=[opt_params0,<sp/>opt_params1,<sp/>opt_params2],<sp/>max_evals=640000000,<sp/></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>niche_num=160*160,<sp/>samples_per_niche=12)</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/>diversifier.apply_advretry(<ref refid="classfcmaes_1_1optimizer_1_1wrapper" kindref="compound">wrapper</ref>(problem.fitness),<sp/>problem.descriptors,<sp/></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>problem.bounds,<sp/>archive,<sp/>num_retries=40000)</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>print(</highlight><highlight class="stringliteral">&apos;final<sp/>archive:&apos;</highlight><highlight class="normal">,<sp/>archive.info())</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/>archive.save(name)</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceexamples_1_1elitescass2_1a30538a53214b86ebd4dde6f1ce3fe044" kindref="member">plot_archive</ref>(archive)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="159" refid="namespaceexamples_1_1elitescass2_1a2d34737ea1ce88ba22a59acf69e098a2" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceexamples_1_1elitescass2_1a2d34737ea1ce88ba22a59acf69e098a2" kindref="member">run_map_elites</ref>():</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>problem<sp/>=<sp/><ref refid="classexamples_1_1elitescass2_1_1_cassini2__me" kindref="compound">Cassini2_me</ref>(<ref refid="classfcmaes_1_1astro_1_1_cassini2" kindref="compound">Cassini2</ref>())</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/>name<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;cass2me&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>archive<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#archive<sp/>=<sp/>mapelites.load_archive(name,<sp/><sp/>problem.bounds,<sp/>problem.qd_bounds,<sp/>niche_num)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#fast<sp/>preview,<sp/>switches<sp/>CMA-ES<sp/>off</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>me_params<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;generations&apos;</highlight><highlight class="normal">:100,<sp/></highlight><highlight class="stringliteral">&apos;chunk_size&apos;</highlight><highlight class="normal">:1000}</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>cma_params<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;cma_generations&apos;</highlight><highlight class="normal">:0,<sp/></highlight><highlight class="stringliteral">&apos;best_n&apos;</highlight><highlight class="normal">:200,<sp/></highlight><highlight class="stringliteral">&apos;maxiters&apos;</highlight><highlight class="normal">:400,<sp/></highlight><highlight class="stringliteral">&apos;stall_criterion&apos;</highlight><highlight class="normal">:3}</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>CMA-ES<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>me_params<sp/>=<sp/>{&apos;generations&apos;:100,<sp/>&apos;chunk_size&apos;:1000}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>cma_params<sp/>=<sp/>{&apos;cma_generations&apos;:100,<sp/>&apos;best_n&apos;:200,<sp/>&apos;maxiters&apos;:400,<sp/>&apos;stall_criterion&apos;:3}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>fitness<sp/>=<sp/><sp/><ref refid="classfcmaes_1_1mapelites_1_1wrapper" kindref="compound">mapelites.wrapper</ref>(problem.qd_fitness,<sp/>problem.qd_dim)</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>archive<sp/>=<sp/>mapelites.optimize_map_elites(</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fitness,<sp/>problem.bounds,<sp/>problem.qd_bounds,<sp/>niche_num<sp/>=<sp/>niche_num,</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iterations<sp/>=<sp/>50,<sp/>archive<sp/>=<sp/>archive,<sp/></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>me_params<sp/>=<sp/>me_params,<sp/>cma_params<sp/>=<sp/>cma_params)</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>archive.save(name)</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceexamples_1_1elitescass2_1a30538a53214b86ebd4dde6f1ce3fe044" kindref="member">plot_archive</ref>(archive)</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/>print(</highlight><highlight class="stringliteral">&apos;final<sp/>archive:&apos;</highlight><highlight class="normal">,<sp/>archive.info())</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>__name__<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;__main__&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#run_map_elites()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespaceexamples_1_1elitescass2_1a585abcf3e78b314f5965d009c5a42fcd" kindref="member">run_diversifier</ref>()</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#plot(&apos;cass2&apos;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="examples/elitescass2.py"/>
  </compounddef>
</doxygen>
