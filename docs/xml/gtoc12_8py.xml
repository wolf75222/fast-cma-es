<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="gtoc12_8py" kind="file" language="Python">
    <compoundname>gtoc12.py</compoundname>
    <innerclass refid="classgtoc12_1_1_transfers" prot="public">gtoc12::Transfers</innerclass>
    <innernamespace refid="namespacegtoc12">gtoc12</innernamespace>
    <sectiondef kind="var">
      <memberdef kind="variable" id="namespacegtoc12_1a2e22421b2b0080eae1a5581e431cd925" prot="public" static="no" mutable="no">
        <type></type>
        <definition>gtoc12.stdout</definition>
        <argsstring></argsstring>
        <name>stdout</name>
        <qualifiedname>gtoc12.stdout</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/gtoc12/gtoc12.py" line="130" column="1" bodyfile="examples/gtoc12/gtoc12.py" bodystart="130" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacegtoc12_1a18c2454c55e7bb3653a6c20cedb73564" prot="public" static="no" mutable="no">
        <type></type>
        <definition>gtoc12.format</definition>
        <argsstring></argsstring>
        <name>format</name>
        <qualifiedname>gtoc12.format</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/gtoc12/gtoc12.py" line="130" column="1" bodyfile="examples/gtoc12/gtoc12.py" bodystart="130" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacegtoc12_1aa06169adfdff68a70708375939de9528" prot="public" static="no" mutable="no">
        <type></type>
        <definition>gtoc12.level</definition>
        <argsstring></argsstring>
        <name>level</name>
        <qualifiedname>gtoc12.level</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/gtoc12/gtoc12.py" line="130" column="1" bodyfile="examples/gtoc12/gtoc12.py" bodystart="130" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacegtoc12_1a8acad931f57ab9670ed027e4c654bcf4" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int gtoc12.MIN_MJD</definition>
        <argsstring></argsstring>
        <name>MIN_MJD</name>
        <qualifiedname>gtoc12.MIN_MJD</qualifiedname>
        <initializer>=  64328</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/gtoc12/gtoc12.py" line="133" column="1" bodyfile="examples/gtoc12/gtoc12.py" bodystart="133" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacegtoc12_1a52ead272c2041fc35b63f1eaa61bc58b" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int gtoc12.MAX_MJD</definition>
        <argsstring></argsstring>
        <name>MAX_MJD</name>
        <qualifiedname>gtoc12.MAX_MJD</qualifiedname>
        <initializer>=  69807</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/gtoc12/gtoc12.py" line="134" column="1" bodyfile="examples/gtoc12/gtoc12.py" bodystart="134" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacegtoc12_1af47b9c9db23b8a487ec3407a8bbc1651" prot="public" static="no" mutable="no">
        <type></type>
        <definition>gtoc12.max_evals</definition>
        <argsstring></argsstring>
        <name>max_evals</name>
        <qualifiedname>gtoc12.max_evals</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/gtoc12/gtoc12.py" line="287" column="1" bodyfile="examples/gtoc12/gtoc12.py" bodystart="287" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacegtoc12_1a1e9439f79458a0c5bb77c25992369fb9" prot="public" static="no" mutable="no">
        <type></type>
        <definition>gtoc12.num_restarts</definition>
        <argsstring></argsstring>
        <name>num_restarts</name>
        <qualifiedname>gtoc12.num_restarts</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/gtoc12/gtoc12.py" line="287" column="1" bodyfile="examples/gtoc12/gtoc12.py" bodystart="287" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="namespacegtoc12_1a26efcf6f474611baf2b8b91f3008f879" prot="protected" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>gtoc12._mined</definition>
        <argsstring>(asteroids, epochs)</argsstring>
        <name>_mined</name>
        <qualifiedname>gtoc12._mined</qualifiedname>
        <param>
          <type>asteroids</type>
          <defname>asteroids</defname>
        </param>
        <param>
          <type>epochs</type>
          <defname>epochs</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/gtoc12/gtoc12.py" line="139" column="1" bodyfile="examples/gtoc12/gtoc12.py" bodystart="139" bodyend="149"/>
        <referencedby refid="namespacegtoc12_1ae69e77fa378b33f00726f3d6f69299bd" compoundref="gtoc12_8py" startline="196" endline="272">gtoc12.optimize</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacegtoc12_1a0550f7dc70affbfd3edcc196396272e3" prot="protected" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>gtoc12._reduce</definition>
        <argsstring>(ast_num, ast_used, sequence0)</argsstring>
        <name>_reduce</name>
        <qualifiedname>gtoc12._reduce</qualifiedname>
        <param>
          <type>ast_num</type>
          <defname>ast_num</defname>
        </param>
        <param>
          <type>ast_used</type>
          <defname>ast_used</defname>
        </param>
        <param>
          <type>sequence0</type>
          <defname>sequence0</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/gtoc12/gtoc12.py" line="150" column="1" bodyfile="examples/gtoc12/gtoc12.py" bodystart="150" bodyend="170"/>
        <referencedby refid="namespacegtoc12_1ae69e77fa378b33f00726f3d6f69299bd" compoundref="gtoc12_8py" startline="196" endline="272">gtoc12.optimize</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacegtoc12_1abc2ed451edb0f7c2113a840921194d6e" prot="protected" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>gtoc12._transfer</definition>
        <argsstring>(a2, epoch_min, transfers, idx)</argsstring>
        <name>_transfer</name>
        <qualifiedname>gtoc12._transfer</qualifiedname>
        <param>
          <type>a2</type>
          <defname>a2</defname>
        </param>
        <param>
          <type>epoch_min</type>
          <defname>epoch_min</defname>
        </param>
        <param>
          <type>transfers</type>
          <defname>transfers</defname>
        </param>
        <param>
          <type>idx</type>
          <defname>idx</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/gtoc12/gtoc12.py" line="171" column="1" bodyfile="examples/gtoc12/gtoc12.py" bodystart="171" bodyend="182"/>
        <referencedby refid="classgtoc12_1_1_transfers_1a2809ae2208de935e198087eb7a409760" compoundref="gtoc12_8py" startline="193" endline="195">gtoc12.Transfers.get_transfer</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacegtoc12_1ae69e77fa378b33f00726f3d6f69299bd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>gtoc12.optimize</definition>
        <argsstring>(fname, max_evals=200000, num_restarts=32, seq=None)</argsstring>
        <name>optimize</name>
        <qualifiedname>gtoc12.optimize</qualifiedname>
        <param>
          <type>fname</type>
          <defname>fname</defname>
        </param>
        <param>
          <type>max_evals</type>
          <defname>max_evals</defname>
          <defval>200000</defval>
        </param>
        <param>
          <type>num_restarts</type>
          <defname>num_restarts</defname>
          <defval>32</defval>
        </param>
        <param>
          <type>seq</type>
          <defname>seq</defname>
          <defval>None</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/gtoc12/gtoc12.py" line="196" column="1" bodyfile="examples/gtoc12/gtoc12.py" bodystart="196" bodyend="272"/>
        <references refid="namespacegtoc12_1a26efcf6f474611baf2b8b91f3008f879" compoundref="gtoc12_8py" startline="139" endline="149">gtoc12._mined</references>
        <references refid="namespacegtoc12_1a0550f7dc70affbfd3edcc196396272e3" compoundref="gtoc12_8py" startline="150" endline="170">gtoc12._reduce</references>
        <referencedby refid="namespacegtoc12_1a91594165754dfc90464518c70cf65911" compoundref="gtoc12_8py" startline="273" endline="283">gtoc12.check_solutions</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacegtoc12_1a91594165754dfc90464518c70cf65911" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>gtoc12.check_solutions</definition>
        <argsstring>()</argsstring>
        <name>check_solutions</name>
        <qualifiedname>gtoc12.check_solutions</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="examples/gtoc12/gtoc12.py" line="273" column="1" bodyfile="examples/gtoc12/gtoc12.py" bodystart="273" bodyend="283"/>
        <references refid="namespacegtoc12_1a91594165754dfc90464518c70cf65911" compoundref="gtoc12_8py" startline="273" endline="283">gtoc12.check_solutions</references>
        <references refid="namespacegtoc12_1ae69e77fa378b33f00726f3d6f69299bd" compoundref="gtoc12_8py" startline="196" endline="272">gtoc12.optimize</references>
        <referencedby refid="namespacegtoc12_1a91594165754dfc90464518c70cf65911" compoundref="gtoc12_8py" startline="273" endline="283">gtoc12.check_solutions</referencedby>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacegtoc12" refkind="compound"><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="2"><highlight class="stringliteral">GTOC<sp/>(Global<sp/>Trajectory<sp/>Optimization<sp/>Competition)<sp/>was<sp/>initiated<sp/>20<sp/>years<sp/>ago<sp/>by<sp/>ESA<sp/>to<sp/></highlight></codeline>
<codeline lineno="3"><highlight class="stringliteral">provide<sp/>a<sp/>platform<sp/>for<sp/>Space<sp/>Agencies<sp/>to<sp/>exchange<sp/>ideas<sp/>how<sp/>to<sp/>plan<sp/>space<sp/>flights.<sp/></highlight></codeline>
<codeline lineno="4"><highlight class="stringliteral">Every<sp/>one<sp/>or<sp/>two<sp/>years<sp/>the<sp/>best<sp/>space<sp/>trajectory<sp/>planners<sp/>in<sp/>the<sp/>world,<sp/>including</highlight></codeline>
<codeline lineno="5"><highlight class="stringliteral">JPL<sp/>(NASA)<sp/>and<sp/>ESA,<sp/>compete<sp/>solving<sp/>a<sp/>complex<sp/>task.<sp/>This<sp/>example<sp/>is<sp/>related<sp/>to<sp/>GTOC12,</highlight></codeline>
<codeline lineno="6"><highlight class="stringliteral">which<sp/>is<sp/>about<sp/>planning<sp/>the<sp/>mining<sp/>of<sp/>asteroids<sp/>as<sp/>efficiently<sp/>as<sp/>possible.</highlight></codeline>
<codeline lineno="7"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="8"><highlight class="stringliteral">Each<sp/>ship<sp/>departs<sp/>from<sp/>and<sp/>returns<sp/>to<sp/>earth,<sp/>visiting<sp/>a<sp/>number<sp/>of<sp/>asteroids<sp/>in<sp/>between.<sp/></highlight></codeline>
<codeline lineno="9"><highlight class="stringliteral">At<sp/>the<sp/>first<sp/>visit<sp/>a<sp/>miner<sp/>is<sp/>dropped,<sp/>at<sp/>the<sp/>second<sp/>visit<sp/>the<sp/>mined<sp/>material<sp/>is<sp/>collected.</highlight></codeline>
<codeline lineno="10"><highlight class="stringliteral">Each<sp/>miner<sp/>collects<sp/>10<sp/>kg<sp/>material<sp/>per<sp/>year.<sp/><sp/></highlight></codeline>
<codeline lineno="11"><highlight class="stringliteral">Only<sp/>one<sp/>miner<sp/>per<sp/>asteroid<sp/>is<sp/>allowed,<sp/>and<sp/>there<sp/>are<sp/>60000<sp/>asteroids<sp/>to<sp/>choose<sp/>from.<sp/></highlight></codeline>
<codeline lineno="12"><highlight class="stringliteral">Goal<sp/>is<sp/>to<sp/>maximize<sp/>the<sp/>average<sp/>material<sp/>mined<sp/>by<sp/>each<sp/>ship.<sp/></highlight></codeline>
<codeline lineno="13"><highlight class="stringliteral">The<sp/>whole<sp/>mining<sp/>operation<sp/>is<sp/>limited<sp/>to<sp/>15<sp/>years<sp/>(epoch<sp/>64328<sp/>-<sp/>epoch<sp/>69807<sp/>MJD),</highlight></codeline>
<codeline lineno="14"><highlight class="stringliteral">see<sp/>https://gtoc12.tsinghua.edu.cn/competition/theProblem<sp/>for<sp/>the<sp/>original<sp/>task<sp/>description.<sp/></highlight></codeline>
<codeline lineno="15"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="16"><highlight class="stringliteral">This<sp/>example<sp/>solves<sp/>a<sp/>subtask<sp/>of<sp/>GTOC12,<sp/></highlight></codeline>
<codeline lineno="17"><highlight class="stringliteral">For<sp/>a<sp/>cluster<sp/>of<sp/>44<sp/>Asteroids<sp/>taken<sp/>from<sp/>JPLs<sp/>winning<sp/>solution</highlight></codeline>
<codeline lineno="18"><highlight class="stringliteral">we<sp/>computed<sp/>a<sp/>full<sp/>asteroid-asteroid<sp/>transfer<sp/>graph.<sp/>This<sp/>graph</highlight></codeline>
<codeline lineno="19"><highlight class="stringliteral">excludes<sp/>transfers/edges<sp/>which<sp/>are<sp/>too<sp/>early<sp/>/<sp/>too<sp/>late<sp/>to<sp/>facilitate<sp/>earth-&gt;asteroid</highlight></codeline>
<codeline lineno="20"><highlight class="stringliteral">or<sp/>asteroid-&gt;earth<sp/>transfers.<sp/></highlight></codeline>
<codeline lineno="21"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="22"><highlight class="stringliteral">A<sp/>possible<sp/>transfer<sp/>is<sp/>defined<sp/>by<sp/>the<sp/>tuple<sp/>(a1,<sp/>a2,<sp/>dm,<sp/>ep,<sp/>tof)<sp/>where:</highlight></codeline>
<codeline lineno="23"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="24"><highlight class="stringliteral">Graph<sp/>nodes:</highlight></codeline>
<codeline lineno="25"><highlight class="stringliteral">a1:<sp/>start<sp/>asteroid<sp/>of<sp/>the<sp/>transfer</highlight></codeline>
<codeline lineno="26"><highlight class="stringliteral">a2:<sp/>target<sp/>asteroid<sp/>of<sp/>the<sp/>transfer</highlight></codeline>
<codeline lineno="27"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="28"><highlight class="stringliteral">Graph<sp/>edge<sp/>attributes:</highlight></codeline>
<codeline lineno="29"><highlight class="stringliteral">dm:<sp/>delta<sp/>propellant<sp/>mass,<sp/>propellant<sp/>consumption</highlight></codeline>
<codeline lineno="30"><highlight class="stringliteral">ep:<sp/>start<sp/>epoch<sp/>(day)</highlight></codeline>
<codeline lineno="31"><highlight class="stringliteral">tof:<sp/>time<sp/>of<sp/>flight,<sp/>ep<sp/>+<sp/>tof<sp/>is<sp/>the<sp/>arrival<sp/>epoch</highlight></codeline>
<codeline lineno="32"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="33"><highlight class="stringliteral">For<sp/>a<sp/>fixed<sp/>number<sp/>of<sp/>ships,<sp/>the<sp/>task<sp/>is<sp/>now<sp/>to<sp/>maximize<sp/>the<sp/>mined<sp/>material<sp/>(per<sp/>ship)</highlight></codeline>
<codeline lineno="34"><highlight class="stringliteral">by<sp/>finding<sp/>graph<sp/>paths<sp/>corresponding<sp/>to<sp/>the<sp/>ship<sp/>trajectories<sp/>fulfilling<sp/>all</highlight></codeline>
<codeline lineno="35"><highlight class="stringliteral">constraints:</highlight></codeline>
<codeline lineno="36"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="37"><highlight class="stringliteral">-<sp/>A<sp/>ship<sp/>may<sp/>not<sp/>start<sp/>heading<sp/>for<sp/>the<sp/>next<sp/>asteroid<sp/>before<sp/>it<sp/>arrives<sp/>at<sp/>an<sp/>asteroid.</highlight></codeline>
<codeline lineno="38"><highlight class="stringliteral">-<sp/>Propellant<sp/>consumption<sp/>(sum<sp/>of<sp/>the<sp/>dm<sp/>values<sp/>along<sp/>the<sp/>path)<sp/>is<sp/>limited<sp/>(&lt;=<sp/>1500<sp/>kg)<sp/>for<sp/>each<sp/>ship.</highlight></codeline>
<codeline lineno="39"><highlight class="stringliteral">-<sp/>Each<sp/>asteroid<sp/>can<sp/>be<sp/>visited<sp/>at<sp/>most<sp/>twice.<sp/></highlight></codeline>
<codeline lineno="40"><highlight class="stringliteral">-<sp/>If<sp/>a<sp/>ship<sp/>arrives<sp/>at<sp/>an<sp/>asteroid<sp/>which<sp/>was<sp/>visited<sp/>before,<sp/>it<sp/>collects<sp/>10*y<sp/>kg<sp/>material,<sp/></highlight></codeline>
<codeline lineno="41"><highlight class="stringliteral"><sp/><sp/>where<sp/>y<sp/>is<sp/>the<sp/>time<sp/>in<sp/>years<sp/>since<sp/>the<sp/>first<sp/>visit.<sp/></highlight></codeline>
<codeline lineno="42"><highlight class="stringliteral">-<sp/>If<sp/>there<sp/>is<sp/>no<sp/>edge<sp/>to<sp/>any<sp/>target<sp/>asteroid<sp/>after<sp/>the<sp/>arrival<sp/>time<sp/>or<sp/>propellant<sp/></highlight></codeline>
<codeline lineno="43"><highlight class="stringliteral"><sp/><sp/>consumption<sp/>would<sp/>exceed<sp/>the<sp/>limit<sp/>the<sp/>journey<sp/>for<sp/>the<sp/>ship<sp/>ends.<sp/></highlight></codeline>
<codeline lineno="44"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="45"><highlight class="stringliteral">This<sp/>task,<sp/>although<sp/>quite<sp/>similar<sp/>to<sp/>ESAs<sp/>Wormhole<sp/>task<sp/></highlight></codeline>
<codeline lineno="46"><highlight class="stringliteral">https://optimise.esa.int/challenge/spoc-2-wormhole-transportation-network/p/wormhole-transportation-network</highlight></codeline>
<codeline lineno="47"><highlight class="stringliteral">differs<sp/>in<sp/>several<sp/>aspects:</highlight></codeline>
<codeline lineno="48"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="49"><highlight class="stringliteral">-<sp/>Much<sp/>lower<sp/>number<sp/>of<sp/>nodes<sp/>-<sp/>only<sp/>44<sp/>instead<sp/>of<sp/>10000.<sp/></highlight></codeline>
<codeline lineno="50"><highlight class="stringliteral">-<sp/>All<sp/>ships<sp/>(and<sp/>not<sp/>only<sp/>two)<sp/>are<sp/>relevant.</highlight></codeline>
<codeline lineno="51"><highlight class="stringliteral">-<sp/>Number<sp/>of<sp/>edges<sp/>is<sp/>similar<sp/>-<sp/>246736,<sp/>but<sp/>we<sp/>have<sp/>for<sp/>each<sp/>asteroid<sp/>4000-8000<sp/>outgoing<sp/>edges<sp/></highlight></codeline>
<codeline lineno="52"><highlight class="stringliteral"><sp/><sp/>and<sp/>on<sp/>average<sp/>130<sp/>(up<sp/>to<sp/>444)<sp/>edges<sp/>between<sp/>any<sp/>two<sp/>asteroids.<sp/></highlight></codeline>
<codeline lineno="53"><highlight class="stringliteral">-<sp/>Any<sp/>node<sp/>can<sp/>be<sp/>used<sp/>as<sp/>start<sp/>/<sp/>target<sp/>node.<sp/></highlight></codeline>
<codeline lineno="54"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="55"><highlight class="stringliteral">Independent<sp/>from<sp/>GTOC12<sp/>the<sp/>subtask<sp/>shown<sp/>here<sp/>represents<sp/>an<sp/>interesting<sp/>variation<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="56"><highlight class="stringliteral">Multiple<sp/>Vehicle<sp/>Routing<sp/>Problem<sp/>(https://developers.google.com/optimization/routing/vrp),<sp/></highlight></codeline>
<codeline lineno="57"><highlight class="stringliteral">where<sp/>instead<sp/>of<sp/>fixed<sp/>distances<sp/>between<sp/>targets/asteroids<sp/>there<sp/>are<sp/>many<sp/>different<sp/>time<sp/></highlight></codeline>
<codeline lineno="58"><highlight class="stringliteral">dependent<sp/>opportunities<sp/>to<sp/>fly<sp/>from<sp/>one<sp/>asteroid<sp/>to<sp/>another.<sp/>These<sp/>opportunities<sp/>differ</highlight></codeline>
<codeline lineno="59"><highlight class="stringliteral">both<sp/>in<sp/>time<sp/>of<sp/>flight<sp/>and<sp/>propellant<sp/>consumption.<sp/>Solving<sp/>this<sp/>class<sp/>of<sp/>problems<sp/>can</highlight></codeline>
<codeline lineno="60"><highlight class="stringliteral">assist<sp/>the<sp/>planning<sp/>of<sp/>complex<sp/>space<sp/>flight<sp/>operations<sp/>involving<sp/>many<sp/>ships.<sp/></highlight></codeline>
<codeline lineno="61"><highlight class="stringliteral">Beside<sp/>asteroid<sp/>mining<sp/>other<sp/>applications<sp/>could<sp/>be<sp/>space<sp/>debris<sp/>removal<sp/>or<sp/>maintenance/repair</highlight></codeline>
<codeline lineno="62"><highlight class="stringliteral">of<sp/>large<sp/>satellite<sp/>networks.</highlight></codeline>
<codeline lineno="63"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="64"><highlight class="stringliteral">The<sp/>task<sp/>is<sp/>at<sp/>the<sp/>same<sp/>time<sp/>quite<sp/>simple<sp/>and<sp/>very<sp/>hard<sp/>to<sp/>solve<sp/>using<sp/>search.<sp/></highlight></codeline>
<codeline lineno="65"><highlight class="stringliteral">Problem<sp/>is<sp/>the<sp/>&quot;coordination&quot;<sp/>of<sp/>dropping<sp/>the<sp/>miner<sp/>and<sp/>collecting<sp/>the<sp/>mined<sp/>material</highlight></codeline>
<codeline lineno="66"><highlight class="stringliteral">between<sp/>ships.<sp/></highlight></codeline>
<codeline lineno="67"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="68"><highlight class="stringliteral">If<sp/>we<sp/>expand<sp/>the<sp/>branches<sp/>for<sp/>all<sp/>ships<sp/>simultaneously<sp/>the<sp/>branching<sp/>factor<sp/>explodes.<sp/></highlight></codeline>
<codeline lineno="69"><highlight class="stringliteral">But<sp/>if<sp/>the<sp/>ships<sp/>are<sp/>processed<sp/>sequentially<sp/>it<sp/>is<sp/>very<sp/>hard<sp/>to<sp/>come<sp/>up<sp/>with<sp/>a<sp/>good<sp/>heuristic</highlight></codeline>
<codeline lineno="70"><highlight class="stringliteral">which<sp/>branches<sp/>to<sp/>eliminate.<sp/></highlight></codeline>
<codeline lineno="71"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="72"><highlight class="stringliteral">Here<sp/>we<sp/>use<sp/>continuous<sp/>evolutionary<sp/>optimization<sp/>-<sp/>the<sp/>BiteOpt<sp/>meta-algorithm<sp/>which<sp/></highlight></codeline>
<codeline lineno="73"><highlight class="stringliteral">dynamically<sp/>adapts<sp/>the<sp/>population<sp/>update<sp/>method.<sp/></highlight></codeline>
<codeline lineno="74"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="75"><highlight class="stringliteral">The<sp/>objective<sp/>fitness<sp/>function<sp/>looks<sp/>as<sp/>follows:</highlight></codeline>
<codeline lineno="76"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="77"><highlight class="stringliteral">-<sp/>Let<sp/>n<sp/>=<sp/>44<sp/>be<sp/>the<sp/>number<sp/>of<sp/>asteroids<sp/>in<sp/>the<sp/>cluster<sp/>/<sp/>the<sp/>number<sp/>of<sp/>nodes.<sp/></highlight></codeline>
<codeline lineno="78"><highlight class="stringliteral">-<sp/>X<sp/>is<sp/>the<sp/>argument<sp/>vector<sp/>containing<sp/>2*n=88<sp/>decision<sp/>variables<sp/>in<sp/>the<sp/>interval<sp/>[0,1].<sp/></highlight></codeline>
<codeline lineno="79"><highlight class="stringliteral">-<sp/>p<sp/>=<sp/>numpy.argsort(X)<sp/>is<sp/>a<sp/>permutation<sp/>of<sp/>the<sp/>integers<sp/>between<sp/>0<sp/>and<sp/>88<sp/>dependent</highlight></codeline>
<codeline lineno="80"><highlight class="stringliteral"><sp/><sp/>on<sp/>the<sp/>argument<sp/>vector<sp/>X.<sp/></highlight></codeline>
<codeline lineno="81"><highlight class="stringliteral">-<sp/>seq<sp/>=<sp/>[i<sp/>%<sp/>n<sp/>for<sp/>i<sp/>in<sp/>p]<sp/>is<sp/>a<sp/>sequence<sp/>of<sp/>88<sp/>asteroid<sp/>indices<sp/>where<sp/>each<sp/>asteroid<sp/>occurs<sp/>exactly<sp/>twice.<sp/></highlight></codeline>
<codeline lineno="82"><highlight class="stringliteral">-<sp/>remove<sp/>asteroids<sp/>from<sp/>seq,<sp/>starting<sp/>from<sp/>the<sp/>first<sp/>one<sp/>(including<sp/>its<sp/>2nd<sp/>occurrence)<sp/></highlight></codeline>
<codeline lineno="83"><highlight class="stringliteral"><sp/><sp/>until<sp/>the<sp/>asteroid<sp/>sequence<sp/>has<sp/>a<sp/>specific<sp/>length<sp/>l.<sp/></highlight></codeline>
<codeline lineno="84"><highlight class="stringliteral"><sp/><sp/></highlight></codeline>
<codeline lineno="85"><highlight class="stringliteral">We<sp/>end<sp/>up<sp/>with<sp/>an<sp/>asteroid<sp/>sequence<sp/>of<sp/>length<sp/>l<sp/>depending<sp/>on<sp/>the<sp/>argument<sp/>vector<sp/>X<sp/>which<sp/>contains</highlight></codeline>
<codeline lineno="86"><highlight class="stringliteral">each<sp/>asteroid<sp/>exactly<sp/>twice.<sp/>l<sp/>depends<sp/>on<sp/>the<sp/>number<sp/>of<sp/>ships<sp/>n<sp/>and<sp/>should<sp/>be<sp/>adjusted<sp/>performing<sp/></highlight></codeline>
<codeline lineno="87"><highlight class="stringliteral">test<sp/>runs<sp/>of<sp/>the<sp/>optimization.<sp/>l<sp/>limits<sp/>the<sp/>path<sp/>length<sp/>for<sp/>each<sp/>ship,<sp/>but<sp/>if<sp/>chosen<sp/>too<sp/>high<sp/></highlight></codeline>
<codeline lineno="88"><highlight class="stringliteral">the<sp/>optimization<sp/>itself<sp/>has<sp/>to<sp/>ensure<sp/>there<sp/>are<sp/>only<sp/>asteroid<sp/>pairs<sp/>in<sp/>all<sp/>paths.<sp/></highlight></codeline>
<codeline lineno="89"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="90"><highlight class="stringliteral">Now<sp/>we<sp/>follow<sp/>the<sp/>graph<sp/>using<sp/>the<sp/>sequence<sp/>determined<sp/>by<sp/>the<sp/>decision<sp/>variables<sp/>as<sp/>&quot;guidance&quot;.</highlight></codeline>
<codeline lineno="91"><highlight class="stringliteral">We<sp/>always<sp/>choose<sp/>the<sp/>first<sp/>possible<sp/>transfer<sp/>between<sp/>two<sp/>asteroids/nodes.<sp/></highlight></codeline>
<codeline lineno="92"><highlight class="stringliteral">If<sp/>there<sp/>is<sp/>no<sp/>such<sp/>transfer<sp/>-<sp/>or<sp/>the<sp/>ships<sp/>fuel<sp/>consumption<sp/>would<sp/>be<sp/>above<sp/>the<sp/>limit,<sp/>we<sp/></highlight></codeline>
<codeline lineno="93"><highlight class="stringliteral">&quot;start&quot;<sp/>the<sp/>next<sp/>ship<sp/>/<sp/>path.<sp/>If<sp/>there<sp/>is<sp/>no<sp/>more<sp/>ship<sp/>available<sp/>we<sp/>compute<sp/>the<sp/>mined<sp/>material</highlight></codeline>
<codeline lineno="94"><highlight class="stringliteral">and<sp/>use<sp/>this<sp/>as<sp/>objective<sp/>to<sp/>maximize.<sp/>Additional<sp/>objectives<sp/>are<sp/>propellant<sp/>consumption<sp/></highlight></codeline>
<codeline lineno="95"><highlight class="stringliteral">and<sp/>the<sp/>sum<sp/>of<sp/>the<sp/>length<sp/>of<sp/>all<sp/>paths<sp/>added<sp/>using<sp/>the</highlight></codeline>
<codeline lineno="96"><highlight class="stringliteral">weighted<sp/>sum<sp/>approach.<sp/>Although<sp/>we<sp/>are<sp/>only<sp/>interested<sp/>in<sp/>the<sp/>mined<sp/>material,<sp/>the<sp/>other</highlight></codeline>
<codeline lineno="97"><highlight class="stringliteral">objectives<sp/>serve<sp/>as<sp/>an<sp/>heuristic<sp/>&quot;guiding&quot;<sp/>the<sp/>optimization.</highlight></codeline>
<codeline lineno="98"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="99"><highlight class="stringliteral">The<sp/>result<sp/>can<sp/>further<sp/>be<sp/>enhanced<sp/>by<sp/>applying<sp/>a<sp/>second<sp/>optimization<sp/>(not<sp/>include<sp/>here,<sp/></highlight></codeline>
<codeline lineno="100"><highlight class="stringliteral">left<sp/>as<sp/>exercise).<sp/>This<sp/>time<sp/>the<sp/>asteroid<sp/>sequence<sp/>is<sp/>fixed,<sp/>but<sp/>instead<sp/>of<sp/>the<sp/>first</highlight></codeline>
<codeline lineno="101"><highlight class="stringliteral">possible<sp/>transfer<sp/>we<sp/>choose<sp/>the<sp/>nth<sp/>one,<sp/>where<sp/>n<sp/>is<sp/>selected<sp/>according<sp/>the<sp/>continuous<sp/></highlight></codeline>
<codeline lineno="102"><highlight class="stringliteral">argument<sp/>vector.<sp/>If<sp/>n<sp/>is<sp/>in<sp/>the<sp/>interval<sp/>[1,<sp/>n_max]<sp/>we<sp/>convert<sp/>the<sp/>continuous<sp/>argument<sp/>vector</highlight></codeline>
<codeline lineno="103"><highlight class="stringliteral">to<sp/>integer<sp/>values<sp/>using<sp/>ns<sp/>=<sp/>X.astype(int).<sp/>You<sp/>need<sp/>to<sp/>define<sp/>a<sp/>function</highlight></codeline>
<codeline lineno="104"><highlight class="stringliteral">&apos;_transfer_n(n,<sp/>a2,<sp/>epoch_min,<sp/>transfers,<sp/>idx)&apos;<sp/>selecting<sp/>the<sp/>nth<sp/>instead<sp/>of<sp/>the<sp/>first</highlight></codeline>
<codeline lineno="105"><highlight class="stringliteral">possible<sp/>transfer,<sp/>and<sp/>a<sp/>function<sp/>&apos;eval_sequence_n(sequence,<sp/>ns)&apos;<sp/>which<sp/>applies<sp/>it<sp/>instead<sp/>of<sp/></highlight></codeline>
<codeline lineno="106"><highlight class="stringliteral">&apos;_transfer(a2,<sp/>epoch_min,<sp/>transfers,<sp/>idx)&apos;.<sp/>As<sp/>optimizer<sp/>parallel<sp/>BiteOpt<sp/>can<sp/>be<sp/>applied<sp/>again.</highlight></codeline>
<codeline lineno="107"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="108"><highlight class="stringliteral">Our<sp/>chosen<sp/>propellant<sp/>limit<sp/>of<sp/>1500kg<sp/>may<sp/>be<sp/>a<sp/>bit<sp/>high<sp/>if<sp/>you<sp/>consider<sp/>mined<sp/>mass<sp/>and</highlight></codeline>
<codeline lineno="109"><highlight class="stringliteral">the<sp/>propellant<sp/>needed<sp/>for<sp/>the<sp/>transfers<sp/>from<sp/>and<sp/>to<sp/>earth.<sp/>Therefore<sp/>we<sp/>need<sp/>the<sp/></highlight></codeline>
<codeline lineno="110"><highlight class="stringliteral">second<sp/>optimization<sp/>phase<sp/>to<sp/>further<sp/>reduce<sp/>propellant<sp/>consumption.<sp/>The<sp/>weighted<sp/>sum<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="111"><highlight class="stringliteral">objective<sp/>function<sp/>needs<sp/>to<sp/>be<sp/>adapted<sp/>accordingly.<sp/></highlight></codeline>
<codeline lineno="112"><highlight class="stringliteral">&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys</highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>time</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>fcmaes<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>retry</highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacefcmaes_1_1optimizer" kindref="compound">fcmaes.optimizer</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>dtime,<sp/>Bite_cpp,<sp/>Cma_cpp,<sp/>Crfmnes_cpp</highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>loguru<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>logger</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>numba<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>njit</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>numba</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>scipy.optimize<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Bounds</highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ctypes<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>ct</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>multiprocessing<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>mp<sp/></highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>numpy<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>np<sp/></highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal">logger.remove()</highlight></codeline>
<codeline lineno="130" refid="namespacegtoc12_1a18c2454c55e7bb3653a6c20cedb73564" refkind="member"><highlight class="normal">logger.add(sys.stdout,<sp/>format=</highlight><highlight class="stringliteral">&quot;{time:HH:mm:ss.SS}<sp/>|<sp/>{process}<sp/>|<sp/>{level}<sp/>|<sp/>{message}&quot;</highlight><highlight class="normal">,<sp/>level=</highlight><highlight class="stringliteral">&quot;DEBUG&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="131"><highlight class="normal">logger.add(</highlight><highlight class="stringliteral">&quot;log_{time}.txt&quot;</highlight><highlight class="normal">,<sp/>format=</highlight><highlight class="stringliteral">&quot;{time:HH:mm:ss.SS}<sp/>|<sp/>{process}<sp/>|<sp/>{level}<sp/>|<sp/>{message}&quot;</highlight><highlight class="normal">,<sp/>level=</highlight><highlight class="stringliteral">&quot;DEBUG&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133" refid="namespacegtoc12_1a8acad931f57ab9670ed027e4c654bcf4" refkind="member"><highlight class="normal">MIN_MJD<sp/>=<sp/>64328</highlight></codeline>
<codeline lineno="134" refid="namespacegtoc12_1a52ead272c2041fc35b63f1eaa61bc58b" refkind="member"><highlight class="normal">MAX_MJD<sp/>=<sp/>69807</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Numba<sp/>is<sp/>used<sp/>to<sp/>dramatically<sp/>speed<sp/>up<sp/>graph<sp/>traversal<sp/>and<sp/>objective<sp/>function<sp/>execution</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight><highlight class="preprocessor">@njit(fastmath=True,<sp/>cache=True)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139" refid="namespacegtoc12_1a26efcf6f474611baf2b8b91f3008f879" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacegtoc12_1a26efcf6f474611baf2b8b91f3008f879" kindref="member">_mined</ref>(asteroids,<sp/>epochs):<sp/></highlight><highlight class="comment">#<sp/>mined<sp/>material<sp/>for<sp/>a<sp/>sequence<sp/>of<sp/>asteroids<sp/>and<sp/>epochs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>mined<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(asteroids)-1):</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a1<sp/>=<sp/>asteroids[i]</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(i+1,<sp/>len(asteroids)):</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>asteroids[j]<sp/>==<sp/>a1:</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mined<sp/>+=<sp/>abs(epochs[j]<sp/>-<sp/>epochs[i])</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>10*mined/365.25<sp/></highlight><highlight class="comment">#<sp/>mined<sp/>per<sp/>year</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight><highlight class="preprocessor">@njit(fastmath=True,<sp/>cache=True)</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">#<sp/>reduce<sp/>sequence<sp/>to<sp/>ast_used<sp/>asteroids<sp/>maintaining<sp/>asteroid<sp/>pairs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="150" refid="namespacegtoc12_1a0550f7dc70affbfd3edcc196396272e3" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacegtoc12_1a0550f7dc70affbfd3edcc196396272e3" kindref="member">_reduce</ref>(ast_num,<sp/>ast_used,<sp/>sequence0):<sp/></highlight><highlight class="comment">#<sp/>use<sp/>first</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>used<sp/>=<sp/>np.zeros(ast_num,<sp/>dtype<sp/>=<sp/>numba.boolean)</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/>sequence<sp/>=<sp/>np.empty(ast_used,<sp/>dtype<sp/>=<sp/>numba.int32)</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/>j<sp/>=<sp/>0<sp/></highlight><highlight class="comment">#<sp/>number<sp/>in<sp/>sequence</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>n<sp/>=<sp/>0<sp/></highlight><highlight class="comment">#<sp/>number<sp/>of<sp/>asteroids<sp/>used</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(sequence0)):</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>asteroid<sp/>=<sp/>sequence0[i]</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>used[asteroid]:</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sequence[j]<sp/>=<sp/>asteroid<sp/></highlight><highlight class="comment">#<sp/>always<sp/>take<sp/>asteroid<sp/>already<sp/>used</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>j<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n<sp/>&lt;<sp/>ast_used:<sp/></highlight><highlight class="comment">#<sp/>only<sp/>take<sp/>new<sp/>asteroid<sp/>if<sp/>not<sp/>already<sp/>ast_used<sp/>taken</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>used[asteroid]<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">#<sp/>mark<sp/>asteroid<sp/>as<sp/>used<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>+=<sp/>2</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sequence[j]<sp/>=<sp/>asteroid</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>j<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>j<sp/>&gt;=<sp/>len(sequence):</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sequence</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight><highlight class="preprocessor">@njit(fastmath=True,<sp/>cache=True)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171" refid="namespacegtoc12_1abc2ed451edb0f7c2113a840921194d6e" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacegtoc12_1abc2ed451edb0f7c2113a840921194d6e" kindref="member">_transfer</ref>(a2,<sp/>epoch_min,<sp/>transfers,<sp/>idx):<sp/></highlight><highlight class="comment">#<sp/>finds<sp/>the<sp/>next<sp/>possible<sp/>transfer<sp/>to<sp/>asteroid<sp/>a2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>idx:<sp/></highlight><highlight class="comment">#<sp/>indices<sp/>are<sp/>used<sp/>to<sp/>speed<sp/>up<sp/>graph<sp/>traversal</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>transfers[i][2]<sp/>==<sp/>a2:</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>transfer<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>transfers[i+1:]:<sp/></highlight><highlight class="comment">#<sp/>numba<sp/>is<sp/>essential<sp/>for<sp/>performance<sp/>here</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>transfer[0]<sp/>&lt;<sp/>0:<sp/></highlight><highlight class="comment">#<sp/>determines<sp/>the<sp/>asteroids</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>epoch<sp/>=<sp/>transfer[1]</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>epoch<sp/>&lt;<sp/>epoch_min:</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>transfer</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="183" refid="classgtoc12_1_1_transfers" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classgtoc12_1_1_transfers" kindref="compound">Transfers</ref>(object):</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185" refid="classgtoc12_1_1_transfers_1aaaa424f6b67da45e9986fdc5667eb852" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classgtoc12_1_1_transfers_1aaaa424f6b67da45e9986fdc5667eb852" kindref="member">__init__</ref>(self,<sp/>fname):<sp/></highlight><highlight class="comment">#<sp/>load<sp/>compressed<sp/>transfer<sp/>graph</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>np.load(fname<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;.npz&apos;</highlight><highlight class="normal">,<sp/>allow_pickle=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>data:</highlight></codeline>
<codeline lineno="187" refid="classgtoc12_1_1_transfers_1abadd280cdaf8d67e168aefee0c239460" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classgtoc12_1_1_transfers_1abadd280cdaf8d67e168aefee0c239460" kindref="member">tmap</ref><sp/>=<sp/>list(data[</highlight><highlight class="stringliteral">&apos;tmap&apos;</highlight><highlight class="normal">])<sp/></highlight><highlight class="comment">#<sp/>transfer<sp/>graph</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188" refid="classgtoc12_1_1_transfers_1abcf80c94847bb73a34b100c60742e9e2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classgtoc12_1_1_transfers_1abcf80c94847bb73a34b100c60742e9e2" kindref="member">idx</ref><sp/>=<sp/>list(data[</highlight><highlight class="stringliteral">&apos;idx&apos;</highlight><highlight class="normal">])<sp/></highlight><highlight class="comment">#<sp/>indices<sp/>to<sp/>speed<sp/>up<sp/>graph<sp/>traversal</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189" refid="classgtoc12_1_1_transfers_1a49d677369224818450f5b979a7a329f4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classgtoc12_1_1_transfers_1a49d677369224818450f5b979a7a329f4" kindref="member">ast_to_id</ref><sp/>=<sp/>data[</highlight><highlight class="stringliteral">&apos;ast_to_id&apos;</highlight><highlight class="normal">].item()<sp/></highlight><highlight class="comment">#<sp/>map<sp/>to<sp/>internal<sp/>asteroid<sp/>id</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190" refid="classgtoc12_1_1_transfers_1ab5b9afeaca61cdf3c25577629d728e5e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classgtoc12_1_1_transfers_1ab5b9afeaca61cdf3c25577629d728e5e" kindref="member">id_to_ast</ref><sp/>=<sp/>data[</highlight><highlight class="stringliteral">&apos;id_to_ast&apos;</highlight><highlight class="normal">].item()<sp/></highlight><highlight class="comment">#<sp/>map<sp/>to<sp/>original<sp/>asteroid<sp/>id</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191" refid="classgtoc12_1_1_transfers_1acd2b847c93a58a6780de47fd7d7782d7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classgtoc12_1_1_transfers_1acd2b847c93a58a6780de47fd7d7782d7" kindref="member">ast_num</ref><sp/>=<sp/>len(self.<ref refid="classgtoc12_1_1_transfers_1a49d677369224818450f5b979a7a329f4" kindref="member">ast_to_id</ref>)<sp/></highlight><highlight class="comment">#<sp/>number<sp/>of<sp/>asteroids</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="193" refid="classgtoc12_1_1_transfers_1a2809ae2208de935e198087eb7a409760" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classgtoc12_1_1_transfers_1a2809ae2208de935e198087eb7a409760" kindref="member">get_transfer</ref>(self,<sp/>a1,<sp/>a2,<sp/>ep_min):<sp/></highlight><highlight class="comment">#<sp/>finds<sp/>the<sp/>next<sp/>possible<sp/>transfer<sp/>from<sp/>asteroid<sp/>a1<sp/>to<sp/><sp/>a2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacegtoc12_1abc2ed451edb0f7c2113a840921194d6e" kindref="member">_transfer</ref>(a2,<sp/>ep_min,<sp/>self.<ref refid="classgtoc12_1_1_transfers_1abadd280cdaf8d67e168aefee0c239460" kindref="member">tmap</ref>[a1],<sp/>self.<ref refid="classgtoc12_1_1_transfers_1abcf80c94847bb73a34b100c60742e9e2" kindref="member">idx</ref>[a1])<sp/><sp/></highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196" refid="namespacegtoc12_1ae69e77fa378b33f00726f3d6f69299bd" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacegtoc12_1ae69e77fa378b33f00726f3d6f69299bd" kindref="member">optimize</ref>(fname,<sp/>max_evals=200000,<sp/>num_restarts=32,<sp/>seq=None):</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>transfers<sp/>=<sp/><ref refid="classgtoc12_1_1_transfers" kindref="compound">Transfers</ref>(fname)<sp/></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>best_mined<sp/>=<sp/>mp.RawValue(ct.c_double,<sp/>0)<sp/></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>best_y<sp/>=<sp/>mp.RawValue(ct.c_double,<sp/>1E99)<sp/></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>t0<sp/>=<sp/>time.perf_counter()</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>evals<sp/>=<sp/>mp.RawValue(ct.c_int,<sp/>0)<sp/><sp/></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>ast_num<sp/>=<sp/>transfers.ast_num</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>ast_used<sp/>=<sp/>68<sp/></highlight><highlight class="comment">#<sp/>corresponds<sp/>to<sp/>&quot;l&quot;<sp/>in<sp/>the<sp/>description<sp/>above.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>ship_used<sp/>=<sp/>4<sp/></highlight><highlight class="comment">#<sp/>number<sp/>of<sp/>ships</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/>dim<sp/>=<sp/>2*ast_num</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>bounds<sp/>=<sp/>Bounds([0]*dim,<sp/>[1-1E-10]*dim)<sp/></highlight><highlight class="comment">#<sp/>continous<sp/>decision<sp/>variables<sp/>in<sp/>the<sp/>[0,1]<sp/>interval<sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>workers<sp/>=<sp/>mp.cpu_count()<sp/></highlight><highlight class="comment">#<sp/>we<sp/>use<sp/>all<sp/>CPU<sp/>cores<sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">fit(x):<sp/></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>permutation<sp/>=<sp/>np.fromiter((a<sp/>%<sp/>ast_num<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>a<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>np.argsort(x)),<sp/>dtype<sp/>=<sp/>int)</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sequence<sp/>=<sp/><ref refid="namespacegtoc12_1a0550f7dc70affbfd3edcc196396272e3" kindref="member">_reduce</ref>(ast_num,<sp/>ast_used,<sp/>permutation)<sp/></highlight><highlight class="comment">#<sp/>shorten<sp/>the<sp/>sequence<sp/>of<sp/>asteroids</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>eval_sequence(sequence)</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">eval_sequence(sequence):<sp/></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ships<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>epoch<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mass<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all_mass<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>epochs<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>asteroids<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start_asts<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(sequence)-1):</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a1<sp/>=<sp/>sequence[i]</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a2<sp/>=<sp/>sequence[i+1]<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>transfer<sp/>=<sp/>delta_mass,<sp/>epoch_start,<sp/>time_of_flight</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transfer<sp/>=<sp/>transfers.get_transfer(a1,<sp/>a2,<sp/>epoch)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>transfer<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>mass<sp/>+<sp/>transfer[0]<sp/>&gt;<sp/>1500:<sp/></highlight><highlight class="comment">#<sp/>limit<sp/>delta<sp/>mass<sp/>to<sp/>1500<sp/>kg</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ships<sp/>+=<sp/>1<sp/></highlight><highlight class="comment">#<sp/>last<sp/>path<sp/>ended,<sp/>start<sp/>a<sp/>new<sp/>ship<sp/>/<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>epoch<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all_mass.append(mass)<sp/></highlight><highlight class="comment">#<sp/>accumulate<sp/>propellant<sp/>consumption<sp/>for<sp/>all<sp/>paths</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mass<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ships<sp/>&gt;=<sp/>ship_used:<sp/></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">#<sp/>no<sp/>ship<sp/>left</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delta_mass,<sp/>epoch_start,<sp/>time_of_flight<sp/>=<sp/>transfer</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>epoch<sp/>==<sp/>0:<sp/></highlight><highlight class="comment">#<sp/>first<sp/>asteroid<sp/>of<sp/>a<sp/>path<sp/>(coming<sp/>from<sp/>earth)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>epochs.append(epoch_start)</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>asteroids.append(a1)</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start_asts.append(a1)</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>epoch<sp/>=<sp/>epoch_start<sp/>+<sp/>time_of_flight</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>asteroids.append(a2)<sp/></highlight><highlight class="comment">#<sp/>target<sp/>asteroid<sp/>a2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>epochs.append(epoch)</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mass<sp/>+=<sp/>delta_mass<sp/></highlight><highlight class="comment">#<sp/>accumulate<sp/>propellant<sp/>consumption<sp/>for<sp/>transfers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mass<sp/>&gt;<sp/>0:<sp/></highlight><highlight class="comment">#<sp/>increase<sp/>ast_used<sp/>if<sp/>this<sp/>happens,<sp/>sequence<sp/>is<sp/>too<sp/>short<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all_mass.append(mass)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mined<sp/>=<sp/><ref refid="namespacegtoc12_1a26efcf6f474611baf2b8b91f3008f879" kindref="member">_mined</ref>(np.array(asteroids),<sp/>np.array(epochs))<sp/>/<sp/>ship_used</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>=<sp/>-mined<sp/>+<sp/>0.1*np.mean(all_mass)<sp/>-<sp/>2*len(asteroids)</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>evals.value<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>y<sp/>&lt;<sp/>best_y.value<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>mined<sp/>&gt;<sp/>best_mined.value:</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dt<sp/>=<sp/>max(1E-9,<sp/>dtime(t0))<sp/></highlight><highlight class="comment">#<sp/>avoid<sp/>division<sp/>by<sp/>0<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>am<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;,&quot;</highlight><highlight class="normal">.join(f</highlight><highlight class="stringliteral">&apos;{int(m)}&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>m<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>all_mass)</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(f</highlight><highlight class="stringliteral">&apos;t<sp/>=<sp/>{dt}<sp/>ev<sp/>=<sp/>{evals.value}<sp/>ev/s<sp/>=<sp/>{evals.value/dt:.3f}<sp/>y<sp/>=<sp/>{y:.3f}<sp/>mined<sp/>=<sp/>{mined:.2f}<sp/>dm<sp/>=<sp/>{am}<sp/>a<sp/>=<sp/>{len(asteroids)}<sp/>{list(sequence)}&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>y<sp/>&lt;<sp/>best_y.value:</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>best_y.value<sp/>=<sp/>y</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mined<sp/>&gt;<sp/>best_mined.value:</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>best_mined.value<sp/>=<sp/>mined</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>y</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Exception<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>ex:</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>100000<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>seq<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:<sp/></highlight><highlight class="comment">#<sp/>optimize<sp/>using<sp/>parallel<sp/>BiteOpt</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retry.minimize_plot(</highlight><highlight class="stringliteral">&quot;minimize_plot&quot;</highlight><highlight class="normal">,<sp/><ref refid="classfcmaes_1_1optimizer_1_1_bite__cpp" kindref="compound">Bite_cpp</ref>(max_evals,<sp/>M=6),<sp/>fit,<sp/>bounds,<sp/>num_retries=num_restarts,<sp/>workers=workers,<sp/></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#retry.minimize_plot(&quot;minimize_plot&quot;,<sp/>Crfmnes_cpp(2*max_evals,<sp/>popsize=dim),<sp/>fit,<sp/>bounds,<sp/>num_retries=num_restarts,<sp/>workers=workers,<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>statistic_num=5000)<sp/></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/></highlight><highlight class="comment">#<sp/>if<sp/>seq<sp/>is<sp/>defined<sp/>we<sp/>just<sp/>evaluate<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>eval_sequence(seq)</highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="273" refid="namespacegtoc12_1a91594165754dfc90464518c70cf65911" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacegtoc12_1a91594165754dfc90464518c70cf65911" kindref="member">check_solutions</ref>():</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>seqs<sp/>=<sp/>[<sp/></highlight><highlight class="comment">#<sp/>good<sp/>sample<sp/>solutions<sp/>computed<sp/>using<sp/>optimize(&quot;tmap_jpl1&quot;,<sp/>max_evals=2000000,<sp/>num_restarts=640)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[11,<sp/>20,<sp/>29,<sp/>31,<sp/>21,<sp/>33,<sp/>1,<sp/>2,<sp/>15,<sp/>41,<sp/>38,<sp/>43,<sp/>18,<sp/>34,<sp/>32,<sp/>8,<sp/>4,<sp/>43,<sp/>18,<sp/>41,<sp/>13,<sp/>15,<sp/>30,<sp/>26,<sp/>39,<sp/>1,<sp/>20,<sp/>29,<sp/>31,<sp/>33,<sp/>19,<sp/>0,<sp/>39,<sp/>10,<sp/>3,<sp/>7,<sp/>40,<sp/>25,<sp/>37,<sp/>19,<sp/>0,<sp/>23,<sp/>5,<sp/>30,<sp/>5,<sp/>37,<sp/>11,<sp/>21,<sp/>34,<sp/>32,<sp/>28,<sp/>42,<sp/>26,<sp/>17,<sp/>38,<sp/>13,<sp/>8,<sp/>4,<sp/>7,<sp/>3,<sp/>17,<sp/>42,<sp/>25,<sp/>40,<sp/>10,<sp/>28,<sp/>2,<sp/>23],</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[19,<sp/>0,<sp/>8,<sp/>4,<sp/>18,<sp/>41,<sp/>10,<sp/>40,<sp/>25,<sp/>3,<sp/>26,<sp/>19,<sp/>43,<sp/>23,<sp/>15,<sp/>17,<sp/>20,<sp/>29,<sp/>6,<sp/>20,<sp/>29,<sp/>31,<sp/>21,<sp/>11,<sp/>36,<sp/>1,<sp/>24,<sp/>39,<sp/>30,<sp/>0,<sp/>8,<sp/>10,<sp/>25,<sp/>40,<sp/>42,<sp/>35,<sp/>6,<sp/>12,<sp/>37,<sp/>23,<sp/>13,<sp/>43,<sp/>31,<sp/>12,<sp/>41,<sp/>4,<sp/>13,<sp/>7,<sp/>22,<sp/>18,<sp/>42,<sp/>7,<sp/>17,<sp/>28,<sp/>15,<sp/>22,<sp/>28,<sp/>26,<sp/>1,<sp/>35,<sp/>11,<sp/>21,<sp/>36,<sp/>39,<sp/>3,<sp/>37,<sp/>24,<sp/>30],</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[22,<sp/>30,<sp/>13,<sp/>0,<sp/>19,<sp/>38,<sp/>20,<sp/>42,<sp/>11,<sp/>31,<sp/>29,<sp/>36,<sp/>2,<sp/>40,<sp/>17,<sp/>32,<sp/>16,<sp/>2,<sp/>27,<sp/>35,<sp/>37,<sp/>41,<sp/>18,<sp/>17,<sp/>32,<sp/>37,<sp/>13,<sp/>8,<sp/>41,<sp/>10,<sp/>28,<sp/>16,<sp/>11,<sp/>20,<sp/>29,<sp/>31,<sp/>36,<sp/>39,<sp/>14,<sp/>4,<sp/>8,<sp/>6,<sp/>35,<sp/>27,<sp/>39,<sp/>24,<sp/>18,<sp/>14,<sp/>42,<sp/>7,<sp/>5,<sp/>28,<sp/>10,<sp/>40,<sp/>25,<sp/>24,<sp/>38,<sp/>43,<sp/>0,<sp/>19,<sp/>5,<sp/>25,<sp/>7,<sp/>30,<sp/>22,<sp/>43,<sp/>4,<sp/>6],</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[9,<sp/>28,<sp/>10,<sp/>7,<sp/>40,<sp/>17,<sp/>3,<sp/>15,<sp/>38,<sp/>36,<sp/>24,<sp/>43,<sp/>7,<sp/>34,<sp/>23,<sp/>8,<sp/>4,<sp/>43,<sp/>18,<sp/>41,<sp/>14,<sp/>37,<sp/>35,<sp/>26,<sp/>16,<sp/>2,<sp/>3,<sp/>39,<sp/>33,<sp/>9,<sp/>42,<sp/>11,<sp/>20,<sp/>29,<sp/>31,<sp/>39,<sp/>24,<sp/>25,<sp/>2,<sp/>15,<sp/>8,<sp/>4,<sp/>23,<sp/>17,<sp/>31,<sp/>20,<sp/>29,<sp/>11,<sp/>36,<sp/>27,<sp/>33,<sp/>34,<sp/>42,<sp/>26,<sp/>35,<sp/>27,<sp/>12,<sp/>37,<sp/>14,<sp/>41,<sp/>18,<sp/>10,<sp/>28,<sp/>25,<sp/>40,<sp/>12,<sp/>38,<sp/>16],</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[11,<sp/>31,<sp/>20,<sp/>2,<sp/>9,<sp/>17,<sp/>24,<sp/>21,<sp/>10,<sp/>28,<sp/>13,<sp/>42,<sp/>32,<sp/>34,<sp/>34,<sp/>32,<sp/>5,<sp/>40,<sp/>25,<sp/>42,<sp/>8,<sp/>39,<sp/>29,<sp/>23,<sp/>38,<sp/>43,<sp/>41,<sp/>4,<sp/>14,<sp/>9,<sp/>2,<sp/>38,<sp/>0,<sp/>4,<sp/>43,<sp/>18,<sp/>41,<sp/>13,<sp/>31,<sp/>0,<sp/>37,<sp/>19,<sp/>18,<sp/>8,<sp/>3,<sp/>24,<sp/>25,<sp/>17,<sp/>23,<sp/>15,<sp/>37,<sp/>14,<sp/>3,<sp/>28,<sp/>10,<sp/>19,<sp/>39,<sp/>40,<sp/>5,<sp/>15,<sp/>21,<sp/>20,<sp/>29,<sp/>11,<sp/>35,<sp/>6,<sp/>35,<sp/>6],</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i,<sp/>seq<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>enumerate(seqs):<sp/></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(</highlight><highlight class="stringliteral">&quot;solution<sp/>&quot;</highlight><highlight class="normal">,<sp/>i+1,<sp/><ref refid="namespacegtoc12_1ae69e77fa378b33f00726f3d6f69299bd" kindref="member">optimize</ref>(</highlight><highlight class="stringliteral">&quot;tmap_jpl1&quot;</highlight><highlight class="normal">,<sp/>seq=seq))</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>__name__<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;__main__&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacegtoc12_1a91594165754dfc90464518c70cf65911" kindref="member">check_solutions</ref>()</highlight></codeline>
<codeline lineno="287" refid="namespacegtoc12_1af47b9c9db23b8a487ec3407a8bbc1651" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacegtoc12_1ae69e77fa378b33f00726f3d6f69299bd" kindref="member">optimize</ref>(</highlight><highlight class="stringliteral">&quot;tmap_jpl1&quot;</highlight><highlight class="normal">,<sp/>max_evals=200000,<sp/>num_restarts=64)</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>this<sp/>if<sp/>you<sp/>have<sp/>a<sp/>fast<sp/>many<sp/>core<sp/>processor:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>optimize(&quot;tmap_jpl1&quot;,<sp/>max_evals=2000000,<sp/>num_restarts=6400)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="examples/gtoc12/gtoc12.py"/>
  </compounddef>
</doxygen>
